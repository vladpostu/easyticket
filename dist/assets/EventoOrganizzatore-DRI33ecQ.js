import{_ as v,i as _,c as i,b as p,a as e,t as o,w as f,v as g,F as h,r as b,k as w,f as m,l as y,e as L,h as k,o as r}from"./index-DZRl8WQZ.js";const C={name:"EventoOrganizzatore",props:["eventoId"],data(){return{evento:null,partecipanti:[],screaming:""}},methods:{invertiData:_,async fetchDatiEvento(){try{const s=w(m,"eventi",this.eventoId),t=await y(s);t.exists()&&(this.evento=t.data());const c=L(m,"eventi",this.eventoId,"partecipanti"),l=await k(c);l.empty?this.partecipanti=[]:this.partecipanti=l.docs.map(n=>({id:n.id,...n.data()}))}catch(s){console.log(s)}}},computed:{partecipantiFiltrati(){if(!this.screaming)return this.partecipanti;let s=this.screaming.toLocaleLowerCase();return s=s.trim(),this.partecipanti.filter(t=>{let c=t.nome.toLocaleLowerCase()+" "+t.cognome.toLocaleLowerCase(),l=t.cognome.toLocaleLowerCase()+" "+t.nome.toLocaleLowerCase();return c.includes(s)||l.includes(s)})}},mounted(){this.fetchDatiEvento()}},D={key:0,class:"mt-5"},z={class:"partecipanti-label"},E={class:"search-wrapper"},B={for:"",class:"mb-2"},F={class:"partecipanti"},I={class:"table table-striped"},N={scope:"col"},O={scope:"col"},R={scope:"col"},V={scope:"col"},P={scope:"row"},$={key:0},q={key:1};function M(s,t,c,l,n,d){return r(),i(h,null,[n.evento?(r(),i("div",D,[e("h3",null,o(n.evento.nome_evento),1),e("div",null,o(d.invertiData(n.evento.data)),1)])):p("",!0),e("div",z,o(s.$t("participants")),1),e("div",E,[e("label",B,o(s.$t("searchParticipant")),1),f(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>n.screaming=a),placeholder:"",class:"search-input"},null,512),[[g,n.screaming]]),n.screaming?(r(),i("span",{key:0,class:"clear-btn",onClick:t[1]||(t[1]=a=>n.screaming="")},"Ã—")):p("",!0)]),e("div",F,[e("table",I,[e("thead",null,[e("tr",null,[t[2]||(t[2]=e("th",{scope:"col"},"#",-1)),e("th",N,o(s.$t("name")),1),e("th",O,o(s.$t("surname")),1),e("th",R,o(s.$t("dateOfBirth")),1),e("th",V,o(s.$t("presenceConfirmed")),1)])]),e("tbody",null,[(r(!0),i(h,null,b(d.partecipantiFiltrati,(a,u)=>(r(),i("tr",{key:a.id},[e("th",P,o(u+1),1),e("td",null,o(a.nome),1),e("td",null,o(a.cognome),1),e("td",null,o(a.data_di_nascita),1),a.presenzaConfermata?(r(),i("td",$,[...t[3]||(t[3]=[e("i",{class:"bi bi-check-square-fill"},null,-1)])])):(r(),i("td",q,[...t[4]||(t[4]=[e("i",{class:"bi bi-ban"},null,-1)])]))]))),128))])])])],64)}const T=v(C,[["render",M],["__scopeId","data-v-14a0a39f"]]);export{T as default};
