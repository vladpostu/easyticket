{"version":3,"file":"js/788.8a14b1d0.js","mappings":"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","sources":["webpack://easyticket/./views/EventoView.vue","webpack://easyticket/./views/EventoView.vue?83d7"],"sourcesContent":["<template>\n  <div class=\"page\">\n    <div class=\"layout\">\n\n      <section v-if=\"evento\" class=\"event-block\">\n\n        <!-- Img wrapper con badge -->\n        <div class=\"img-wrapper\">\n          <img :src=\"imgCopertinaURL\" class=\"event-img\" />\n\n          <span \n            class=\"days-left\"\n            :class=\"{\n              expired: daysLeftToBook < 0,\n              lastday: daysLeftToBook === 0\n            }\"\n          >\n            <template v-if=\"daysLeftToBook > 0\">\n              {{ $t('in') }} {{ daysLeftToBook }} {{ $t('days') }}\n            </template>\n            <template v-else-if=\"daysLeftToBook === 0\">\n              {{ $t(\"lastDay\") }}\n            </template>\n            <template v-else>\n              {{ $t(\"eventExpired\")}}\n            </template>\n          </span>\n        </div>\n\n        <header class=\"event-info\">\n          <h1 class=\"event-title\">{{ evento.nome_evento }}</h1>\n\n          <p class=\"event-date\">{{ invertiData(evento.data) }}</p>\n\n          <p class=\"event-artists\">{{ evento.artists }}</p>\n          <p class=\"event-description\">{{ evento.description }}</p>\n        </header>\n      </section>\n\n      <section class=\"form\" :class=\"{ formExpired: daysLeftToBook < 0 }\">\n\n        <div v-if=\"daysLeftToBook < 0\" class=\"expired-banner\">\n          <span>{{ $t(\"eventExpired\") }}</span>\n        </div>\n\n        <h4 class=\"form-title\">{{ $t(\"registerParticipantAtEvent\") }}</h4>\n\n        <div class=\"field\">\n          <label>{{ $t(\"name\") }}</label>\n          <input v-model=\"nome\" type=\"text\" :disabled=\"daysLeftToBook < 0\" />\n        </div>\n\n        <div class=\"field\">\n          <label>{{ $t(\"surname\") }}</label>\n          <input v-model=\"cognome\" type=\"text\" :disabled=\"daysLeftToBook < 0\" />\n        </div>\n\n        <div class=\"field\">\n          <label>{{ $t(\"dateOfBirth\") }}</label>\n          <input v-model=\"data_di_nascita\" type=\"date\" :disabled=\"daysLeftToBook < 0\" />\n        </div>\n\n        <button \n          type=\"button\" \n          @click=\"aggiungiPartecipante\" \n          class=\"btn primary\"\n          :disabled=\"daysLeftToBook < 0\"\n        >\n          {{ $t(\"joinButton\") }}\n        </button>\n\n        <button \n          type=\"button\" \n          @click=\"recuperaBiglietto\" \n          class=\"btn outline\"\n        >\n          {{ $t(\"recoverTicketButton\") }}\n        </button>\n\n        <p class=\"note\">{{ $t(\"recoverTicketMessage\") }}</p>\n      </section>\n\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.page {\n  width: 100%;\n  min-height: 100vh;\n  background: #0b2642;\n  display: flex;\n  justify-content: center;\n  padding: 60px 20px;\n  color: #fff;\n}\n\n.layout {\n  display: flex;\n  align-items: flex-start;\n  justify-content: center;\n  gap: 60px;\n  flex-wrap: wrap;\n  max-width: 1100px;\n  width: 100%;\n}\n\n/* EVENT BLOCK */\n.event-block {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 460px;\n}\n\n.img-wrapper {\n  position: relative;\n  width: 100%;\n}\n\n.event-img {\n  width: 100%;\n  height: 300px;\n  object-fit: cover;\n  border-radius: 14px;\n  box-shadow: 0 5px 18px rgba(0,0,0,0.32);\n}\n\n.days-left {\n  position: absolute;\n  top: 14px;\n  right: 14px;\n  padding: 7px 14px;\n  border-radius: 6px;\n  font-size: 0.85rem;\n  font-weight: 600;\n  background: #e5eeff;\n  color: #17355f;\n  box-shadow: 0 3px 10px rgba(0,0,0,0.25);\n  backdrop-filter: blur(3px);\n  transition: 0.25s ease;\n}\n\n.days-left.lastday {\n  background: #ffecb3;\n  color: #6b4f00;\n}\n\n.days-left.expired {\n  background: #ffdddd;\n  color: #a33a3a;\n  opacity: 0.9;\n}\n\n.event-info {\n  width: 100%;\n  margin-top: 20px;\n  text-align: center;\n}\n\n.event-title {\n  font-size: 2rem;\n  font-weight: 700;\n  margin-bottom: 4px;\n}\n\n.event-date {\n  color: #d3e1ed;\n  font-size: 1rem;\n  margin-bottom: 10px;\n}\n\n.event-artists {\n  font-size: 1.1rem;\n  font-weight: 600;\n  margin-top: 6px;\n}\n\n.event-description {\n  margin-top: 10px;\n  font-size: 0.95rem;\n  line-height: 1.6rem;\n  color: #cfd9e4;\n}\n\n/* FORM */\n.form {\n  width: 380px;\n  background: rgba(255,255,255,0.08);\n  padding: 35px 40px;\n  border-radius: 12px;\n  backdrop-filter: blur(10px);\n  box-shadow: 0 4px 16px rgba(0,0,0,0.28);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n}\n\n/* FORM EXPIRED â€” tono coerente con il badge expired */\n.formExpired {\n  opacity: 0.6;\n  filter: grayscale(25%);\n  pointer-events: none;\n  position: relative;\n}\n\n.expired-banner {\n  width: 100%;\n  padding: 10px 0;\n  text-align: center;\n  background: rgba(255, 90, 90, 0.18);\n  border: 1px solid rgba(255, 150, 150, 0.3);\n  border-radius: 8px;\n  font-weight: 600;\n  color: #ffb6b6;\n  margin-bottom: 22px;\n}\n\n.form-title {\n  font-size: 1.3rem;\n  margin-bottom: 25px;\n  font-weight: 600;\n}\n\n.field {\n  width: 100%;\n  margin-bottom: 16px;\n}\n\n.field label {\n  font-size: 0.9rem;\n  margin-bottom: 6px;\n  display: block;\n  opacity: 0.9;\n}\n\n.field input {\n  width: 100%;\n  padding: 10px 12px;\n  border-radius: 6px;\n  border: none;\n  background: rgba(255,255,255,0.95);\n  color: #0c2b4e;\n  font-weight: 500;\n}\n\n.btn {\n  width: 100%;\n  padding: 11px 0;\n  border-radius: 6px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: 0.25s;\n  margin-top: 6px;\n}\n\n.primary {\n  background: #1a6cb0;\n  color: #fff;\n  border: none;\n}\n.primary:hover {\n  background: #155a92;\n}\n\n.outline {\n  background: transparent;\n  color: #fff;\n  border: 1.6px solid #dce6f1;\n  margin-top: 14px;\n}\n.outline:hover {\n  background: rgba(255,255,255,0.15);\n}\n\n.note {\n  margin-top: 14px;\n  font-size: 0.85rem;\n  text-align: center;\n  opacity: 0.85;\n}\n\n/* RESPONSIVE */\n@media (max-width: 768px) {\n  .layout {\n    flex-direction: column-reverse;\n    align-items: center;\n    gap: 40px;\n  }\n\n  .event-block,\n  .form {\n    width: 100%;\n    max-width: 360px;\n  }\n\n  .event-img {\n    height: 230px;\n  }\n}\n</style>\n\n\n\n<script>\nimport { getDoc, doc, addDoc, collection, query, where, getDocs } from 'firebase/firestore'\nimport { db } from '../firebase/firebase'\nimport { invertiData } from '@/utils/dateUtils';\n\nexport default {\n    name: \"EventoView\",\n    props: ['eventoId'],\n    data() {\n        return {\n            evento: null,\n            nome: \"\",\n            cognome: \"\",\n            data_di_nascita: \"\",\n            presenzaConfermata: false,\n            imgCopertinaURL: \"\",\n            daysLeftToBook: \"\",\n        }\n    },\n    async mounted() {\n        try {\n            const docRef = doc(db, 'eventi', this.eventoId)\n            const docSnap = await getDoc(docRef)\n\n            if (docSnap.exists()) {\n                this.evento = docSnap.data()\n                this.imgCopertinaURL = this.evento.imgCopertina;\n                const dif = new Date(this.evento.data) - (new Date)\n                this.daysLeftToBook = Math.ceil(dif / (1000 * 60 * 60 * 24))\n            }\n        } catch (error) {\n            console.log(error)\n        }\n\n    },\n    methods: {\n        invertiData,\n        async aggiungiPartecipante() {\n            try {\n              const partecipanteRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\")\n            let partecipanteId;\n\n            console.log(\"ci sono\")\n\n            const docRef = await addDoc(partecipanteRef, {\n                nome: this.nome,\n                cognome: this.cognome,\n                data_di_nascita: this.data_di_nascita,\n                presenzaConfermata: this.presenzaConfermata,\n            });\n\n            partecipanteId = docRef.id;\n\n            this.nome = \"\";\n            this.cognome = \"\";\n            this.data_di_nascita = \"\";\n\n            this.$router.push({\n                name: \"PartecipanteView\",\n                params: {\n                    eventoId: this.eventoId,\n                    partecipanteId: partecipanteId,\n                }\n            })\n            } catch(error) {\n              console.log(error);\n            }\n        },\n        async recuperaBiglietto() {\n\n            const partecipantiRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\");\n\n            const q = query(\n                partecipantiRef,\n                where(\"nome\", \"==\", this.nome),\n                where(\"cognome\", \"==\", this.cognome),\n                where(\"data_di_nascita\", \"==\", this.data_di_nascita)\n            );\n\n            const snapshot = await getDocs(q);\n\n            if (!snapshot.empty) {\n                this.partecipanteId = snapshot.id;\n                this.$router.push({\n                    name: \"PartecipanteView\",\n                    params: {\n                        eventoId: this.eventoId,\n                        partecipanteId: snapshot.docs[0].id,\n                    }\n\n                })\n            }\n        }\n    }\n}\n</script>","import { render } from \"./EventoView.vue?vue&type=template&id=bfbb6844&scoped=true\"\nimport script from \"./EventoView.vue?vue&type=script&lang=js\"\nexport * from \"./EventoView.vue?vue&type=script&lang=js\"\n\nimport \"./EventoView.vue?vue&type=style&index=0&id=bfbb6844&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bfbb6844\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","evento","_hoisted_3","_hoisted_4","src","imgCopertinaURL","_normalizeClass","daysLeftToBook","_Fragment","key","_ctx","$t","_toDisplayString","_hoisted_6","_hoisted_7","nome_evento","_hoisted_8","$options","invertiData","data","_hoisted_9","artists","_hoisted_10","description","formExpired","_hoisted_11","_hoisted_12","_hoisted_13","nome","$event","type","disabled","_hoisted_15","cognome","_hoisted_17","data_di_nascita","onClick","_cache","args","aggiungiPartecipante","_hoisted_19","recuperaBiglietto","_hoisted_20","name","props","presenzaConfermata","mounted","docRef","doc","db","this","eventoId","docSnap","getDoc","exists","imgCopertina","dif","Date","Math","ceil","error","console","log","methods","partecipanteRef","collection","partecipanteId","addDoc","id","$router","push","params","partecipantiRef","q","query","where","snapshot","getDocs","empty","docs","__exports__","render"],"sourceRoot":""}