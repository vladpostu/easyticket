(function(){"use strict";var e={1764:function(e,a,t){var n=t(5130),r=t(6768),o=t(4232);const i={class:"header"},s={class:"header-box"},d={class:"header-right"},c={class:"lang-selector"},l={class:"dropdown"},v={class:"btn-dropdown"},u={class:"dropdown-content"};function p(e,a,t,n,p,g){const m=(0,r.g2)("router-link"),h=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",i,[(0,r.Lk)("div",s,[(0,r.bF)(m,{to:{name:"HomeView"},class:"logo"},{default:(0,r.k6)(()=>[...a[2]||(a[2]=[(0,r.eW)("EasyTicket",-1)])]),_:1}),(0,r.Lk)("div",d,[(0,r.Lk)("div",c,[(0,r.Lk)("div",l,[(0,r.Lk)("button",v,[a[3]||(a[3]=(0,r.Lk)("i",{class:"bi bi-translate"},null,-1)),(0,r.eW)(" "+(0,o.v_)(e.$i18n.locale.toUpperCase()),1)]),(0,r.Lk)("div",u,[(0,r.Lk)("div",{onClick:a[0]||(a[0]=a=>e.$i18n.locale="it")},"IT"),(0,r.Lk)("div",{onClick:a[1]||(a[1]=a=>e.$i18n.locale="en")},"EN")])])]),(0,r.bF)(m,{to:{name:"AreaRiservata"},class:"area-riservata"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("reservedAreaButtonNavbar")),1)]),_:1})])])]),(0,r.bF)(h)],64)}var g={name:"App",components:{},methods:{changeLang(e){this.$i18n.locale=e}}},m=t(1241);const h=(0,m.A)(g,[["render",p],["__scopeId","data-v-21c77628"]]);var f=h,k=t(8512);function z(e,a,t,n,o,i){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[a[1]||(a[1]=(0,r.Lk)("h1",null,"index",-1)),(0,r.bF)(s,{to:"/home"},{default:(0,r.k6)(()=>[...a[0]||(a[0]=[(0,r.eW)("home",-1)])]),_:1})],64)}var L={name:"IndexView",beforeRouteEnter(e,a,t){t({name:"HomeView"})}};const w=(0,m.A)(L,[["render",z]]);var E=w,b=t.p+"img/crowd-1056764_1280.46c465b3.jpg";const _={class:"image-container"},y={class:"moto"};function C(e,a,t,n,i,s){const d=(0,r.g2)("EventiView");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",_,[a[0]||(a[0]=(0,r.Lk)("img",{src:b,class:"img-fluid",alt:""},null,-1)),(0,r.Lk)("div",y,(0,o.v_)(e.$t("welcome")),1)]),(0,r.bF)(d,{organizzatoreId:this.organizzatoreId},null,8,["organizzatoreId"])],64)}t(8111),t(1701);var A=t(7617),I=t(5697);const P={key:0,class:"eventi"},$=["src"],O={class:"card-body"},F={class:"card-title"},x={class:"card-date"},R={class:"card-artists"},T={class:"card-description"},V={key:1,class:"loader-container"};function X(e,a,t,n,i,s){const d=(0,r.g2)("router-link");return i.loaded?((0,r.uX)(),(0,r.CE)("div",P,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.eventi,e=>((0,r.uX)(),(0,r.Wv)(d,{key:e.id,to:s.getLinkView(e),class:"card"},{default:(0,r.k6)(()=>[(0,r.Lk)("img",{src:e.imgCopertina,class:"card-img-top",alt:""},null,8,$),(0,r.Lk)("div",O,[(0,r.Lk)("h5",F,(0,o.v_)(e.nome_evento),1),(0,r.Lk)("p",x,(0,o.v_)(s.invertiData(e.data)),1),(0,r.Lk)("p",R,(0,o.v_)(e.artists),1),(0,r.Lk)("p",T,(0,o.v_)(e.description),1)])]),_:2},1032,["to"]))),128))])):((0,r.uX)(),(0,r.CE)("div",V,[...a[0]||(a[0]=[(0,r.Lk)("div",{class:"spinner"},null,-1)])]))}var S=t(8020),B={name:"EventiView",data(){return{eventi:[],loaded:!1}},props:["organizzatoreId"],methods:{invertiData:S.E,async fetchEventi(){if(this.organizzatoreId){const e=(0,A.P)((0,A.rJ)(I.db,"eventi"),(0,A._M)("idOrganizzatore","==",this.organizzatoreId)),a=await(0,A.GG)(e);this.loaded=!0,this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}else{const e=(0,A.rJ)(I.db,"eventi"),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()})),this.loaded=!0}},getLinkView(e){return this.organizzatoreId?{name:"EventoOrganizzatore",params:{eventoId:e.id}}:{name:"EventoView",params:{eventoId:e.id}}}},mounted(){this.fetchEventi(),console.log(this.organizzatoreId)}};const U=(0,m.A)(B,[["render",X]]);var N=U,D={name:"HomePage",components:{EventiView:N},data(){return{eventi:[],organizzatoreId:""}},methods:{async aggiornaLista(){const e=(0,A.P)((0,A.rJ)(I.db,"eventi")),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}},async mounted(){await this.aggiornaLista()}};const j=(0,m.A)(D,[["render",C],["__scopeId","data-v-5f853ee8"]]);var J=j;function M(e,a,t,n,i,s){return(0,r.uX)(),(0,r.CE)(r.FK,null,[a[0]||(a[0]=(0,r.Lk)("h1",null,"page 2",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.eventi,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.nome},(0,o.v_)(e.nome),1))),128))])],64)}var W={name:"SecondPage",data(){return{eventi:[]}},async mounted(){const e=await(0,A.GG)((0,A.rJ)(I.db,"test"));this.eventi=e.docs.map(e=>e.data())}};const H=(0,m.A)(W,[["render",M],["__scopeId","data-v-677c1d45"]]);var G=H;const Q={class:"wrapper"},K={class:"mt-5"},q={class:"opzioni"},Y={class:"card"},Z={class:"card-body"},ee={class:"card-title"},ae={class:"card-text"},te={class:"card"},ne={class:"card-body"},re={class:"card-title"},oe={class:"card-text"};function ie(e,a,t,n,i,s){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Q,[(0,r.Lk)("h2",K,(0,o.v_)(e.$t("reservedArea")),1),(0,r.Lk)("div",q,[(0,r.Lk)("div",Y,[(0,r.Lk)("div",Z,[(0,r.Lk)("h5",ee,(0,o.v_)(e.$t("organizer")),1),(0,r.Lk)("p",ae,(0,o.v_)(e.$t("organizerText")),1),(0,r.bF)(d,{to:{name:"AreaOrganizzatore"},class:"btn btn-primary"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("loginButton")),1)]),_:1})])]),(0,r.Lk)("div",te,[(0,r.Lk)("div",ne,[(0,r.Lk)("h5",re,(0,o.v_)(e.$t("validator")),1),(0,r.Lk)("p",oe,(0,o.v_)(e.$t("validatorText")),1),(0,r.bF)(d,{to:{name:"AreaConvalidatore"},class:"btn btn-primary"},{default:(0,r.k6)(()=>[...a[0]||(a[0]=[(0,r.eW)("Accedi",-1)])]),_:1})])])])])}var se={name:"AreaRiservata",mounted(){}};const de=(0,m.A)(se,[["render",ie],["__scopeId","data-v-f2fc4f48"]]);var ce=de;const le={class:"area-organizzatore"},ve={class:"header"},ue={class:"intestazione"},pe={class:"light"},ge={class:"contenuto"},me={class:"eventi-org"},he={class:"fw-bold"};function fe(e,a,t,n,i,s){const d=(0,r.g2)("router-link"),c=(0,r.g2)("EventiView");return(0,r.uX)(),(0,r.CE)("div",le,[(0,r.Lk)("header",ve,[(0,r.Lk)("div",ue,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("organizerArea")),1),(0,r.Lk)("h5",null,[(0,r.Lk)("span",pe,(0,o.v_)(e.$t("hiMessage"))+",",1),(0,r.eW)(" "+(0,o.v_)(i.currentUser.email),1)])]),(0,r.Lk)("button",{class:"logout-button",onClick:a[0]||(a[0]=(...e)=>s.logout&&s.logout(...e))},"Esci")]),(0,r.Lk)("main",ge,[(0,r.bF)(d,{class:"btn btn-primary",to:"/area-riservata/area-organizzatore/aggiungi-evento"},{default:(0,r.k6)(()=>[(0,r.eW)(" + "+(0,o.v_)(e.$t("addNewEvent")),1)]),_:1}),(0,r.Lk)("section",me,[(0,r.Lk)("h6",he,(0,o.v_)(e.$t("yourEvents")),1),i.currentUser&&i.currentUser.uid?((0,r.uX)(),(0,r.Wv)(c,{key:0,class:"eventi-comp",organizzatoreId:i.currentUser.uid},null,8,["organizzatoreId"])):(0,r.Q3)("",!0)])])])}t(4114);var ke=t(9915),ze={name:"AreaOrganizzatore",beforeMount(){},mounted(){},data(){return{organizzatoreIdRecuperato:localStorage.getItem("organizzatoreId"),currentUser:I.j.currentUser}},components:{EventiView:N},methods:{async logout(){try{await(0,ke.CI)(I.j),this.$router.push({name:"AreaRiservata"})}catch(e){console.log(e)}}}};const Le=(0,m.A)(ze,[["render",fe],["__scopeId","data-v-f5cbc0ba"]]);var we=Le;const Ee={class:"evento-nome"},be={class:"evento-nome"};function _e(e,a,t,n,i,s){return(0,r.uX)(),(0,r.CE)(r.FK,null,[a[0]||(a[0]=(0,r.Lk)("h2",null,"Eventi Organizzatore",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.eventi,e=>((0,r.uX)(),(0,r.CE)("div",{class:"evento",key:e.id},[(0,r.Lk)("div",Ee,(0,o.v_)(e.nome_evento),1),(0,r.Lk)("div",be,(0,o.v_)(s.invertiData(e.data)),1)]))),128))],64)}var ye={name:"EventiOrganizzatore",data(){return{eventi:[]}},methods:{invertiData:S.E,async caricaEventi(){const e=(0,A.P)((0,A.rJ)(I.db,"eventi"),(0,A._M)("emailOrganizzatore","==",localStorage.getItem("organizzatoreEmail"))),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}},async mounted(){await this.caricaEventi()}};const Ce=(0,m.A)(ye,[["render",_e]]);var Ae=Ce;const Ie={class:"area-organizzatore"},Pe={class:"subtitle"},$e={class:"form-container"},Oe={class:"form-group"},Fe={for:"email_organizzatore"},xe={class:"form-group"},Re={for:"password_organizzatore"},Te={class:"form-feedback"},Ve={key:0,class:"error-message"},Xe={class:"registrati-link"};function Se(e,a,t,i,s,d){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Ie,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("organizerAccess")),1),(0,r.Lk)("p",Pe,(0,o.v_)(e.$t("organizerAccessText")),1)]),(0,r.Lk)("div",$e,[(0,r.Lk)("div",Oe,[(0,r.Lk)("label",Fe,(0,o.v_)(e.$t("email")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.email=e),type:"email",id:"email_organizzatore",placeholder:""},null,512),[[n.Jo,s.email]])]),(0,r.Lk)("div",xe,[(0,r.Lk)("label",Re,(0,o.v_)(e.$t("password")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),type:"password",id:"password_organizzatore",placeholder:""},null,512),[[n.Jo,s.password]])]),(0,r.Lk)("div",Te,[(0,r.bF)(n.eB,{name:"fade"},{default:(0,r.k6)(()=>[s.loginFailed?((0,r.uX)(),(0,r.CE)("div",Ve,(0,o.v_)(e.$t("loginFailed")),1)):(0,r.Q3)("",!0)]),_:1})]),(0,r.Lk)("button",{class:"btn-primary",onClick:a[2]||(a[2]=(...e)=>d.login&&d.login(...e))},(0,o.v_)(e.$t("loginButton")),1),(0,r.Lk)("div",Xe,[(0,r.eW)((0,o.v_)(e.$t("dontHaveAccount"))+" ",1),(0,r.bF)(c,{to:"/area-riservata/organizzatore-registrati"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("register")),1)]),_:1})])])])}var Be={name:"OrganizzatoreLogin",data(){return{email:"",password:"",loginFailed:!1}},methods:{async login(){try{const e=await(0,ke.x9)(I.j,this.email,this.password),a=await(0,A.x7)((0,A.H9)(I.db,"organizzatori",e.user.uid));console.log(a),localStorage.setItem("organizzatoreId",e.user.uid),this.$router.push({name:"AreaOrganizzatore"})}catch(e){this.loginFailed=!0}}},mounted(){}};const Ue=(0,m.A)(Be,[["render",Se],["__scopeId","data-v-76e6cf7b"]]);var Ne=Ue;const De={class:"area-organizzatore"},je={class:"subtitle"},Je={class:"form-container"},Me={class:"form-group"},We={for:"email_organizzatore"},He={class:"form-group"},Ge={for:"password_organizzatore"},Qe={class:"form-text",style:{"font-size":"0.75em"}},Ke={class:"form-group"},qe={for:"password_organizzatore"},Ye={class:"form-feedback"},Ze={key:0,class:"error-message"},ea=["disabled"],aa={class:"registrati-link"};function ta(e,a,t,i,s,d){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",De,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("register")),1),(0,r.Lk)("p",je,(0,o.v_)(e.$t("organizerRegisterText")),1)]),(0,r.Lk)("div",Je,[(0,r.Lk)("div",Me,[(0,r.Lk)("label",We,(0,o.v_)(e.$t("email")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.email=e),type:"email",ref:"emailInput",id:"email_organizzatore",placeholder:""},null,512),[[n.Jo,s.email]])]),(0,r.Lk)("div",He,[(0,r.Lk)("label",Ge,(0,o.v_)(e.$t("password")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),type:"password",id:"password_organizzatore",placeholder:""},null,512),[[n.Jo,s.password]]),(0,r.Lk)("div",Qe,(0,o.v_)(e.$t("strongPasswordText")),1)]),(0,r.Lk)("div",Ke,[(0,r.Lk)("label",qe,(0,o.v_)(e.$t("repeatPassword")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>s.passwordRepeat=e),type:"password",id:"password_organizzatore_repeat",placeholder:"",onBlur:a[3]||(a[3]=(...e)=>d.validatePassword&&d.validatePassword(...e)),onInput:a[4]||(a[4]=(...e)=>d.validatePassword&&d.validatePassword(...e))},null,544),[[n.Jo,s.passwordRepeat]])]),(0,r.Lk)("div",Ye,[(0,r.bF)(n.eB,{name:"fade"},{default:(0,r.k6)(()=>[!s.validPassword&&s.passwordRepeat.length>0?((0,r.uX)(),(0,r.CE)("div",Ze,(0,o.v_)(e.$t("passwordDoesntMatch")),1)):(0,r.Q3)("",!0)]),_:1})]),(0,r.Lk)("button",{disabled:!s.validPassword,class:"btn-primary",onClick:a[5]||(a[5]=(...e)=>d.addOrganizzatore&&d.addOrganizzatore(...e))},(0,o.v_)(e.$t("createAccount")),9,ea),(0,r.Lk)("div",aa,[(0,r.eW)((0,o.v_)(e.$t("alreadyHaveAccount"))+" ",1),(0,r.bF)(c,{to:"/area-riservata/organizzatore-login"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("loginButton")),1)]),_:1})])])])}var na={name:"OrganizzatoreRegistrati",data(){return{email:"",password:"",passwordRepeat:"",validPassword:!1}},methods:{async addOrganizzatore(){try{const e=await(0,ke.eJ)(I.j,this.email,this.password);await(0,A.BN)((0,A.H9)(I.db,"organizzatori",e.user.uid),{email:this.email,createdAt:new Date}),(0,ke.x9)(I.j,this.email,this.password),this.$router.push("/area-riservata/area-organizzatore")}catch(e){console.error(e)}this.email="",this.password=""},validatePassword(){const e=["!","$","@","#"],a=e.some(e=>this.password.includes(e));this.validPassword=this.password==this.passwordRepeat&&a&&!(this.password.length<8)}}};const ra=(0,m.A)(na,[["render",ta],["__scopeId","data-v-4e02f38a"]]);var oa=ra;function ia(e,a,t,n,o,i){const s=(0,r.g2)("AddEvent");return(0,r.uX)(),(0,r.Wv)(s,{onEventoInserito:i.goToEventiOrganizzatore},null,8,["onEventoInserito"])}const sa={class:"area-add-evento"},da={class:"subtitle"},ca={class:"form-container"},la={class:"form-group"},va={for:"nome_evento"},ua={class:"form-group"},pa={for:"data_evento"},ga={class:"form-group"},ma={for:"password_convalidatori"},ha={class:"form-group upload"},fa={for:"inputGroupFile01"},ka={class:"form-group"},za={for:"artists"},La={class:"form-group"},wa={for:"description"},Ea={key:0,class:"alert-success"};function ba(e,a,t,i,s,d){return(0,r.uX)(),(0,r.CE)("div",sa,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("addEvent")),1),(0,r.Lk)("p",da,(0,o.v_)(e.$t("addEventText")),1)]),(0,r.Lk)("div",ca,[(0,r.Lk)("div",la,[(0,r.Lk)("label",va,(0,o.v_)(e.$t("nameEvent")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.nome_evento=e),type:"text",id:"nome_evento",placeholder:"Summer Fest 2025"},null,512),[[n.Jo,s.nome_evento]])]),(0,r.Lk)("div",ua,[(0,r.Lk)("label",pa,(0,o.v_)(e.$t("dateEvent")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.data=e),type:"date",id:"data_evento"},null,512),[[n.Jo,s.data]])]),(0,r.Lk)("div",ga,[(0,r.Lk)("label",ma,(0,o.v_)(e.$t("validatorsPassword")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>s.passwordConvalidatori=e),type:"text",id:"password_convalidatori",placeholder:""},null,512),[[n.Jo,s.passwordConvalidatori]]),a[7]||(a[7]=(0,r.Lk)("small",{class:"form-text"},"Fornisci questa password ai tuoi convalidatori per l’accesso.",-1))]),(0,r.Lk)("div",ha,[(0,r.Lk)("label",fa,(0,o.v_)(e.$t("imgCover")),1),(0,r.Lk)("input",{type:"file",id:"inputGroupFile01",onChange:a[3]||(a[3]=(...e)=>d.onFileChange&&d.onFileChange(...e)),class:"form-control"},null,32)]),(0,r.Lk)("div",ka,[(0,r.Lk)("label",za,(0,o.v_)(e.$t("artists")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>s.artists=e),type:"text",id:"artists",placeholder:"Carl Cox, Cera Khin, The Martinez Brothers"},null,512),[[n.Jo,s.artists]])]),(0,r.Lk)("div",La,[(0,r.Lk)("label",wa,(0,o.v_)(e.$t("descriptionEvent")),1),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":a[5]||(a[5]=e=>s.description=e),id:"description",class:"textarea",placeholder:""},null,512),[[n.Jo,s.description]])]),s.aliasEvento?((0,r.uX)(),(0,r.CE)("div",Ea,[(0,r.Lk)("p",null,(0,o.v_)(e.$t("successfullyInsertEvent")),1),(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("aliasEventGenerated")),1),a[8]||(a[8]=(0,r.eW)()),(0,r.Lk)("span",null,(0,o.v_)(s.aliasEvento),1)])])):(0,r.Q3)("",!0),(0,r.Lk)("button",{class:"btn-primary btn-center",onClick:a[6]||(a[6]=(...e)=>d.inserisciEvento&&d.inserisciEvento(...e))},(0,o.v_)(e.$t("insertEvent")),1)])])}var _a=t(7844),ya={name:"AddEvent",data(){return{nome_evento:"",data:"",emailOrganizzatore:"",idOrganizzatore:"",aliasEvento:"",passwordConvalidatori:"",imgCopertina:null,artists:"",description:"",currentUser:I.j.currentUser}},methods:{async inserisciEvento(){this.emailOrganizzatore=this.currentUser.email,this.idOrganizzatore=this.currentUser.uid;let e="";if(this.imgCopertina){const a=(0,_a.KR)(I.I,`copertine/${this.imgCopertina.name}`);await(0,_a.D)(a,this.imgCopertina),e=await(0,_a.qk)(a)}const a={nome_evento:this.nome_evento,data:this.data,emailOrganizzatore:this.emailOrganizzatore,idOrganizzatore:this.idOrganizzatore,aliasEvento:this.nome_evento.slice(0,3)+this.data,passwordConvalidatori:this.passwordConvalidatori,imgCopertina:e,artists:this.artists,description:this.description};try{await(0,A.gS)((0,A.rJ)(I.db,"eventi"),a),this.aliasEvento=a.aliasEvento,this.data="",this.nome_evento="",this.$emit("eventoInserito")}catch(t){console.log(t)}},onFileChange(e){this.imgCopertina=e.target.files[0]}}};const Ca=(0,m.A)(ya,[["render",ba],["__scopeId","data-v-d4fc261c"]]);var Aa=Ca,Ia={name:"AggiungiEvento",data(){return{}},components:{AddEvent:Aa},methods:{goToEventiOrganizzatore(){this.$router.push({name:"AreaOrganizzatore"})}}};const Pa=(0,m.A)(Ia,[["render",ia]]);var $a=Pa;const Oa={class:"area-convalidatore"},Fa={key:0,class:"subtitle"},xa={key:0,class:"form-container"},Ra={class:"form-group"},Ta={for:"alias_evento"},Va={class:"form-group"},Xa={for:"password_evento"},Sa={key:0,class:"form-feedback"},Ba={key:0,class:"error-message"},Ua={class:"form-text"},Na={key:1,class:"scanner-section"},Da={key:0,class:"partecipante"},ja={class:"info"},Ja={class:"conferma"},Ma={key:0,class:"alert alert-warning"},Wa={key:1};function Ha(e,a,t,i,s,d){const c=(0,r.g2)("ApriFotocamera");return(0,r.uX)(),(0,r.CE)("div",Oa,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("validatorArea")),1),s.isLogged?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",Fa,(0,o.v_)(e.$t("validatorAreaText")),1))]),s.isLogged?((0,r.uX)(),(0,r.CE)("div",Na,[(0,r.bF)(c,{onEmitQRCode:d.gestisciQR},null,8,["onEmitQRCode"]),s.idPartecipante?((0,r.uX)(),(0,r.CE)("div",Da,[(0,r.Lk)("h4",null,(0,o.v_)(e.$t("infoParticipant")),1),(0,r.Lk)("div",ja,[(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("name"))+":",1),(0,r.eW)(" "+(0,o.v_)(s.datiPartecipante.nome),1)]),(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("surname"))+":",1),(0,r.eW)(" "+(0,o.v_)(s.datiPartecipante.cognome),1)]),(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("dateOfBirth"))+":",1),(0,r.eW)(" "+(0,o.v_)(s.datiPartecipante.dataNascita),1)])]),(0,r.Lk)("div",Ja,[s.datiPartecipante.presenzaConfermata?((0,r.uX)(),(0,r.CE)("div",Ma,(0,o.v_)(e.$t("alreadyConfirmed")),1)):((0,r.uX)(),(0,r.CE)("div",Wa,[(0,r.Lk)("p",null,(0,o.v_)(e.$t("dataIsCorrectMessage")),1),(0,r.Lk)("button",{class:"btn-confirm",onClick:a[3]||(a[3]=(...e)=>d.confermaPartecipazione&&d.confermaPartecipazione(...e))},(0,o.v_)(e.$t("confirmPresence")),1)]))])])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",xa,[(0,r.Lk)("div",Ra,[(0,r.Lk)("label",Ta,(0,o.v_)(e.$t("aliasEvent")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.evento=e),type:"text",id:"alias_evento",placeholder:""},null,512),[[n.Jo,s.evento]])]),(0,r.Lk)("div",Va,[(0,r.Lk)("label",Xa,(0,o.v_)(e.$t("password")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),type:"password",id:"password_evento",placeholder:""},null,512),[[n.Jo,s.password]])]),s.loginFailed?((0,r.uX)(),(0,r.CE)("div",Sa,[(0,r.bF)(n.eB,{name:"fade"},{default:(0,r.k6)(()=>[s.loginFailed?((0,r.uX)(),(0,r.CE)("div",Ba,(0,o.v_)(e.$t("validatorLoginFailed")),1)):(0,r.Q3)("",!0)]),_:1})])):(0,r.Q3)("",!0),(0,r.Lk)("small",Ua,(0,o.v_)(e.$t("credentialsFromOrganizer")),1),(0,r.Lk)("button",{class:"btn-primary",onClick:a[2]||(a[2]=(...e)=>d.convalidatoreLogin&&d.convalidatoreLogin(...e))},(0,o.v_)(e.$t("loginButton")),1)]))])}const Ga={class:"scanner-container"},Qa=["disabled"],Ka={key:0,class:"video-wrapper"},qa={ref:"video",autoplay:"",playsinline:""},Ya={ref:"canvas",class:"hidden-canvas"},Za={key:1,class:"qr-result"},et={class:"code"};function at(e,a,t,n,i,s){return(0,r.uX)(),(0,r.CE)("div",Ga,[(0,r.Lk)("button",{class:"btn-scan",onClick:a[0]||(a[0]=(...e)=>s.apriFotocamera&&s.apriFotocamera(...e)),disabled:i.scanning},(0,o.v_)(i.scanning?"Scansione in corso...":"Scannerizza QR Code"),9,Qa),i.scanning?((0,r.uX)(),(0,r.CE)("div",Ka,[(0,r.Lk)("video",qa,null,512),a[1]||(a[1]=(0,r.Lk)("div",{class:"scan-overlay"},null,-1))])):(0,r.Q3)("",!0),(0,r.Lk)("canvas",Ya,null,512),i.qrContent?((0,r.uX)(),(0,r.CE)("div",Za,[a[2]||(a[2]=(0,r.Lk)("p",null,"QR Rilevato:",-1)),(0,r.Lk)("div",et,(0,o.v_)(i.qrContent),1)])):(0,r.Q3)("",!0)])}t(7588);var tt=t(8703),nt=t.n(tt),rt={name:"ApriFotocamera",data(){return{stream:null,qrContent:"",scanning:!1}},emits:["emitQRCode"],async mounted(){},methods:{async apriFotocamera(){try{this.scanning=!0,this.$nextTick(()=>{this.scanQR()}),this.stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),this.$refs.video.srcObject=this.stream}catch(e){console.error(e)}},async scanQR(){const e=this.$refs.video,a=this.$refs.canvas,t=a.getContext("2d"),n=()=>{if(this.scanning){if(e.readyState===e.HAVE_ENOUGH_DATA){a.width=e.videoWidth,a.height=e.videoHeight,t.drawImage(e,0,0,a.width,a.height);const n=t.getImageData(0,0,a.width,a.height),r=nt()(n.data,n.width,n.height);r&&(this.$emit("emitQRCode",r.data),this.scanning=!1,this.stopCamera())}requestAnimationFrame(n)}};n()},stopCamera(){this.stream&&this.stream.getTracks().forEach(e=>e.stop())}},beforeUnmount(){this.stopCamera()}};const ot=(0,m.A)(rt,[["render",at],["__scopeId","data-v-45bab6c9"]]);var it=ot,st={name:"AreaConvalidatore",data(){return{isLogged:null,evento:"",password:"",eventoId:"",idPartecipante:"",datiPartecipante:{nome:"",cognome:"",dataNascita:"",presenzaConfermata:null},loginFailed:!1}},components:{ApriFotocamera:it},beforeMount(){this.isLogged=!1},methods:{async convalidatoreLogin(){const e=(0,A.P)((0,A.rJ)(I.db,"eventi"),(0,A._M)("aliasEvento","==",this.evento),(0,A._M)("passwordConvalidatori","==",this.password)),a=await(0,A.GG)(e);a.empty?this.loginFailed=!0:(this.eventoId=a.docs[0].id,localStorage.setItem("convalidatoreEvento",this.evento),localStorage.setItem("convalidatorePassword",this.password),localStorage.setItem("convalidatoreLogged","true"),this.isLogged=!0)},gestisciQR(e){this.idPartecipante=e,this.recuperaDatiPartecipante()},async recuperaDatiPartecipante(){try{const e=(0,A.H9)(I.db,"eventi",this.eventoId,"partecipanti",this.idPartecipante),a=await(0,A.x7)(e);if(a.exists()){const e=a.data();this.datiPartecipante={nome:e.nome,cognome:e.cognome,dataNascita:e.data_di_nascita,presenzaConfermata:e.presenzaConfermata}}}catch(e){console.log(e)}},async confermaPartecipazione(){const e=(0,A.H9)(I.db,"eventi",this.eventoId,"partecipanti",this.idPartecipante);try{await(0,A.mZ)(e,{presenzaConfermata:!0}),this.datiPartecipante.presenzaConfermata=!0}catch(a){console.log(a)}}}};const dt=(0,m.A)(st,[["render",Ha],["__scopeId","data-v-0f832719"]]);var ct=dt;const lt=[{path:"/",name:"IndexView",component:E},{path:"/home",name:"HomeView",component:J},{path:"/secondpage",name:"SecondPage",component:G},{path:"/evento/:eventoId",name:"EventoView",component:()=>t.e(291).then(t.bind(t,5291)),props:!0},{path:"/evento/:eventoId/:partecipanteId",name:"PartecipanteView",component:()=>t.e(778).then(t.bind(t,8778)),props:!0},{path:"/area-riservata",name:"AreaRiservata",component:ce},{path:"/area-riservata/area-organizzatore",name:"AreaOrganizzatore",component:we,meta:{requiresAuth:!0}},{path:"/area-riservata/area-organizzatore/eventi-organizzatore",name:"EventiOrganizzatore",component:Ae},{path:"/area-riservata/organizzatore-login",name:"OrganizzatoreLogin",component:Ne},{path:"/area-riservata/organizzatore-registrati",name:"OrganizzatoreRegistrati",component:oa},{path:"/area-riservata/area-organizzatore/aggiungi-evento",name:"AggiungiEvento",component:$a},{path:"/area-riservata/area-convalidatore",name:"AreaConvalidatore",component:ct},{path:"/area-riservata/area-organizzatore/evento/:eventoId",name:"EventoOrganizzatore",component:()=>t.e(136).then(t.bind(t,6136)),props:!0}],vt=(0,k.aE)({history:(0,k.Bt)("/easyticket/"),routes:lt});function ut(){return new Promise((e,a)=>{const t=(0,ke.hg)((0,ke.xI)(),a=>{t(),e(a)},a)})}vt.beforeEach(async(e,a,t)=>{const n=await ut();e.path.startsWith("/area-riservata/area-organizzatore")&&!n?t("/area-riservata/organizzatore-login"):e.path.startsWith("/area-riservata/organizzatore-login")&&n?t("/home"):t()});var pt=vt,gt=t(8974),mt=(t(8077),JSON.parse('{"welcome":"Discover the events made for you","reservedAreaButtonNavbar":"RESERVED AREA","registerParticipantAtEvent":"Register for the event","name":"Name","surname":"Surname","dateOfBirth":"Date of birth","joinButton":"Join","recoverTicketButton":"Recover ticket","recoverTicketMessage":"If you want to recover your ticket, fill in the fields and press the Recover Ticket button","reservedArea":"Reserved Area","organizerArea":"Organizer Area","organizer":"Organizer","organizerText":"Create, manage, and check your events","loginButton":"Login","validator":"Validator","validatorText":"Verify and validate participant attendance","organizerAccess":"Organizer Access","organizerAccessText":"Log in to manage your events","email":"Email","password":"Password","register":"Register","dontHaveAccount":"Don\'t have an account?","organizerRegisterText":"Create your organizer account","alreadyHaveAccount":"Already have an account?","validatorArea":"Validator Area","validatorAreaText":"Log in to validate participant attendance","aliasEvent":"Event Alias","credentialsFromOrganizer":"Credentials are provided by the organizer","infoParticipant":"Participant Details","alreadyConfirmed":"Attendance already confirmed","dataIsCorrectMessage":"Is the information correct?","confirmPresence":"Confirm Attendance","hiMessage":"Hi","addNewEvent":"Add a new event","yourEvents":"Your events","participants":"Participants","searchParticipant":"Search participants","presenceConfirmed":"Attendance Confirmed","addEvent":"Add Event","addEventText":"Fill in the details to create a new event","nameEvent":"Event Name","dateEvent":"Event Date","validatorsPassword":"Validators Password","imgCover":"Cover Image","insertEvent":"Create Event","successfullyInsertEvent":"Event successfully created!","aliasEventGenerated":"Generated alias:","createAccount":"Create Account","repeatPassword":"Repeat Password","strongPasswordText":"At least 8 characters, including one of [!, $, #, @]","passwordDoesntMatch":"Length, format or password does not match","loginFailed":"Incorrect email and/or password","validatorLoginFailed":"Incorrect event alias and/or password","artists":"Artists","descriptionEvent":"Event description (max. 100 words)"}')),ht=JSON.parse('{"welcome":"Scopri gli eventi dedicati a te","reservedAreaButtonNavbar":"AREA RISERVATA","registerParticipantAtEvent":"Registrati all\'evento","name":"Nome","surname":"Cognome","dateOfBirth":"Data di nascita","joinButton":"Partecipa","recoverTicketButton":"Recupera biglietto","recoverTicketMessage":"Se vuoi recuperare il tuo biglietto compila i campi e premi il pulsante Recupera Biglietto","reservedArea":"Area Riservata","organizerArea":"Area Organizzatore","organizer":"Organizzatore","organizerText":"Crea, gestisci e verifica i tuoi eventi creati","loginButton":"Accedi","validator":"Convalidatore","validatorText":"Verifica e convalida la presenza dei partecipanti","organizerAccess":"Accesso Organizzatore","organizerAccessText":"Accedi per gestire i tuoi eventi","email":"Email","password":"Password","register":"Registrati","dontHaveAccount":"Non hai un account?","organizerRegisterText":"Crea il tuo account organizzatore","alreadyHaveAccount":"Hai già un account?","validatorArea":"Area Convalidatore","validatorAreaText":"Accedi per convalidare i partecipanti all’evento","aliasEvent":"Alias Evento","credentialsFromOrganizer":"Le credenziali vengono fornite dall\'organizzatore","infoParticipant":"Dettagli Partecipante","alreadyConfirmed":"Presenza già confermata","dataIsCorrectMessage":"I dati sono corretti?","confirmPresence":"Conferma Presenza","hiMessage":"Ciao","addNewEvent":"Aggiungi un nuovo evento","yourEvents":"I tuoi eventi","participants":"Partecipanti","searchParticipant":"Cerca partecipanti","presenceConfirmed":"Presenza Confermata","addEvent":"Aggiungi Evento","addEventText":"Compila i dati per creare un nuovo evento","nameEvent":"Nome Evento","dateEvent":"Data Evento","validatorsPassword":"Password Convalidatori","imgCover":"Immagine di copertina","insertEvent":"Inserisci Evento","successfullyInsertEvent":"Evento inserito correttamente!","aliasEventGenerated":"Alias generato:","createAccount":"Crea Account","repeatPassword":"Reinserisci Password","strongPasswordText":"Almeno 8 caratteri, di cui uno tra [!, $, #, @]","passwordDoesntMatch":"Lunghezza, formato o password non coincide","loginFailed":"Email e/o Password errata","validatorLoginFailed":"Alias Evento e/o Password errata","artists":"Artisti","descriptionEvent":"Descrizione dell\'evento (max. 100 parole)","in":"tra","days":"giorni","eventExpired":"Evento finito"}');const ft=(0,gt.hU)({legacy:!1,locale:"it",fallbackLocale:"en",messages:{it:ht,en:mt}}),kt=(0,n.Ef)(f);kt.use(pt),kt.use(ft),kt.mount("#app")},5697:function(e,a,t){t.d(a,{I:function(){return l},db:function(){return c},j:function(){return v}});var n=t(7617),r=t(6400),o=t(7844),i=t(9915);const s={apiKey:"AIzaSyAYzU05BOCyEZwn5jdBEkNHRJ0VFtSL8i0",authDomain:"easyticket-65a56.firebaseapp.com",projectId:"easyticket-65a56",storageBucket:"easyticket-65a56.firebasestorage.app",messagingSenderId:"1089510162656",appId:"1:1089510162656:web:919825ad8d992826d8d085",measurementId:"G-3YM37HZJ5E"},d=(0,r.Wp)(s),c=(0,n.aU)(d),l=(0,o.c7)(),v=(0,i.xI)(d)},8020:function(e,a,t){function n(e){if(!e)return e;const a=e.split("-"),[t,n,r]=a;return`${r}/${n}/${t}`}t.d(a,{E:function(){return n}})}},a={};function t(n){var r=a[n];if(void 0!==r)return r.exports;var o=a[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,n,r,o){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],o=e[l][2];for(var s=!0,d=0;d<n.length;d++)(!1&o||i>=o)&&Object.keys(t.O).every(function(e){return t.O[e](n[d])})?n.splice(d--,1):(s=!1,o<i&&(i=o));if(s){e.splice(l--,1);var c=r();void 0!==c&&(a=c)}}return a}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce(function(a,n){return t.f[n](e,a),a},[]))}}(),function(){t.u=function(e){return"js/"+e+"."+{136:"dbe75ad1",291:"4eab033f",778:"12ab3c9f"}[e]+".js"}}(),function(){t.miniCssF=function(e){return"css/"+e+"."+{136:"164cdeef",291:"e65bd3d8",778:"fe4e4349"}[e]+".css"}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={},a="easyticket:";t.l=function(n,r,o,i){if(e[n])e[n].push(r);else{var s,d;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var v=c[l];if(v.getAttribute("src")==n||v.getAttribute("data-webpack")==a+o){s=v;break}}s||(d=!0,s=document.createElement("script"),s.charset="utf-8",t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",a+o),s.src=n),e[n]=[r];var u=function(a,t){s.onerror=s.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(function(e){return e(t)}),a)return a(t)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),d&&document.head.appendChild(s)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/easyticket/"}(),function(){if("undefined"!==typeof document){var e=function(e,a,n,r,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",t.nc&&(i.nonce=t.nc);var s=function(t){if(i.onerror=i.onload=null,"load"===t.type)r();else{var n=t&&t.type,s=t&&t.target&&t.target.href||a,d=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+s+")");d.name="ChunkLoadError",d.code="CSS_CHUNK_LOAD_FAILED",d.type=n,d.request=s,i.parentNode&&i.parentNode.removeChild(i),o(d)}};return i.onerror=i.onload=s,i.href=a,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},a=function(e,a){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++){var r=t[n],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===a))return r}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){r=i[n],o=r.getAttribute("data-href");if(o===e||o===a)return r}},n=function(n){return new Promise(function(r,o){var i=t.miniCssF(n),s=t.p+i;if(a(i,s))return r();e(n,s,null,r,o)})},r={524:0};t.f.miniCss=function(e,a){var t={136:1,291:1,778:1};r[e]?a.push(r[e]):0!==r[e]&&t[e]&&a.push(r[e]=n(e).then(function(){r[e]=0},function(a){throw delete r[e],a}))}}}(),function(){var e={524:0};t.f.j=function(a,n){var r=t.o(e,a)?e[a]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(function(t,n){r=e[a]=[t,n]});n.push(r[2]=o);var i=t.p+t.u(a),s=new Error,d=function(n){if(t.o(e,a)&&(r=e[a],0!==r&&(e[a]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+a+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}};t.l(i,d,"chunk-"+a,a)}},t.O.j=function(a){return 0===e[a]};var a=function(a,n){var r,o,i=n[0],s=n[1],d=n[2],c=0;if(i.some(function(a){return 0!==e[a]})){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(d)var l=d(t)}for(a&&a(n);c<i.length;c++)o=i[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(l)},n=self["webpackChunkeasyticket"]=self["webpackChunkeasyticket"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],function(){return t(1764)});n=t.O(n)})();
//# sourceMappingURL=app.cb3c0d32.js.map