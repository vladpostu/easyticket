(function(){"use strict";var e={2182:function(e,a,t){var n=t(5130),r=t(6768),o=t(4232);const i={class:"header"},s={class:"header-box"},d={class:"header-right"},c={class:"lang-selector"},l={class:"dropdown"},v={class:"btn-dropdown"},u={class:"dropdown-content"};function p(e,a,t,n,p,g){const m=(0,r.g2)("router-link"),f=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",i,[(0,r.Lk)("div",s,[(0,r.bF)(m,{to:{name:"HomeView"},class:"logo"},{default:(0,r.k6)(()=>[...a[2]||(a[2]=[(0,r.eW)("EasyTicket",-1)])]),_:1}),(0,r.Lk)("div",d,[(0,r.Lk)("div",c,[(0,r.Lk)("div",l,[(0,r.Lk)("button",v,[a[3]||(a[3]=(0,r.Lk)("i",{class:"bi bi-translate"},null,-1)),(0,r.eW)(" "+(0,o.v_)(e.$i18n.locale.toUpperCase()),1)]),(0,r.Lk)("div",u,[(0,r.Lk)("div",{onClick:a[0]||(a[0]=a=>e.$i18n.locale="it")},"IT"),(0,r.Lk)("div",{onClick:a[1]||(a[1]=a=>e.$i18n.locale="en")},"EN")])])]),(0,r.bF)(m,{to:{name:"AreaRiservata"},class:"area-riservata"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("reservedAreaButtonNavbar")),1)]),_:1})])])]),(0,r.bF)(f)],64)}var g={name:"App",components:{},methods:{changeLang(e){this.$i18n.locale=e}}},m=t(1241);const f=(0,m.A)(g,[["render",p],["__scopeId","data-v-21c77628"]]);var h=f,k=t(8512);function z(e,a,t,n,o,i){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[a[1]||(a[1]=(0,r.Lk)("h1",null,"index",-1)),(0,r.bF)(s,{to:"/home"},{default:(0,r.k6)(()=>[...a[0]||(a[0]=[(0,r.eW)("home",-1)])]),_:1})],64)}var E={name:"IndexView",beforeRouteEnter(e,a,t){t({name:"HomeView"})}};const w=(0,m.A)(E,[["render",z]]);var L=w,b=t.p+"img/crowd-1056764_1280.46c465b3.jpg";const y={class:"image-container"},_={class:"moto"};function C(e,a,t,n,i,s){const d=(0,r.g2)("EventiView");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",y,[a[0]||(a[0]=(0,r.Lk)("img",{src:b,class:"img-fluid",alt:""},null,-1)),(0,r.Lk)("div",_,(0,o.v_)(e.$t("welcome")),1)]),(0,r.bF)(d,{organizzatoreId:this.organizzatoreId},null,8,["organizzatoreId"])],64)}t(8111),t(1701);var A=t(7617),P=t(5697);const I={key:0,class:"eventi"},$=["src"],O={class:"card-body"},F={class:"card-title"},x={key:0,class:"left-days-to-book"},T={key:1,class:"left-days-to-book warning"},R={key:2,class:"left-days-to-book danger"},X={class:"card-date"},B={class:"card-artists"},D={class:"card-description"},U={key:1,class:"loader-container"};function V(e,a,t,n,i,s){const d=(0,r.g2)("router-link");return i.loaded?((0,r.uX)(),(0,r.CE)("div",I,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.eventi,a=>((0,r.uX)(),(0,r.Wv)(d,{key:a.id,to:s.getLinkView(a),class:"card"},{default:(0,r.k6)(()=>[(0,r.Lk)("img",{src:a.imgCopertina,class:"card-img-top",alt:""},null,8,$),(0,r.Lk)("div",O,[(0,r.Lk)("h5",F,(0,o.v_)(a.nome_evento),1),s.leftDaysToBookUtil(a.data)>0?((0,r.uX)(),(0,r.CE)("p",x,(0,o.v_)(e.$t("in"))+" "+(0,o.v_)(s.leftDaysToBookUtil(a.data))+" "+(0,o.v_)(e.$t("days")),1)):(0,r.Q3)("",!0),0==s.leftDaysToBookUtil(a.data)?((0,r.uX)(),(0,r.CE)("p",T,(0,o.v_)(e.$t("lastDay")),1)):(0,r.Q3)("",!0),s.leftDaysToBookUtil(a.data)<0?((0,r.uX)(),(0,r.CE)("p",R,(0,o.v_)(e.$t("eventExpired")),1)):(0,r.Q3)("",!0),(0,r.Lk)("p",X,(0,o.v_)(s.invertiData(a.data)),1),(0,r.Lk)("p",B,(0,o.v_)(a.artists),1),(0,r.Lk)("p",D,(0,o.v_)(a.description),1)])]),_:2},1032,["to"]))),128))])):((0,r.uX)(),(0,r.CE)("div",U,[...a[0]||(a[0]=[(0,r.Lk)("div",{class:"spinner"},null,-1)])]))}var S=t(8020);function N(e){const a=new Date(e)-new Date,t=Math.ceil(a/864e5);return t}var j={name:"EventiView",data(){return{eventi:[],loaded:!1}},props:["organizzatoreId"],methods:{invertiData:S.E,leftDaysToBookUtil:N,async fetchEventi(){if(this.organizzatoreId){const e=(0,A.P)((0,A.rJ)(P.db,"eventi"),(0,A._M)("idOrganizzatore","==",this.organizzatoreId)),a=await(0,A.GG)(e);this.loaded=!0,this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}else{const e=(0,A.rJ)(P.db,"eventi"),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()})),this.loaded=!0}},getLinkView(e){return this.organizzatoreId?{name:"EventoOrganizzatore",params:{eventoId:e.id}}:{name:"EventoView",params:{eventoId:e.id}}}},mounted(){this.fetchEventi(),console.log(this.organizzatoreId)}};const J=(0,m.A)(j,[["render",V]]);var M=J,Q={name:"HomePage",components:{EventiView:M},data(){return{eventi:[],organizzatoreId:""}},methods:{async aggiornaLista(){const e=(0,A.P)((0,A.rJ)(P.db,"eventi")),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}},async mounted(){await this.aggiornaLista()}};const W=(0,m.A)(Q,[["render",C],["__scopeId","data-v-5f853ee8"]]);var H=W;function G(e,a,t,n,i,s){return(0,r.uX)(),(0,r.CE)(r.FK,null,[a[0]||(a[0]=(0,r.Lk)("h1",null,"page 2",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.eventi,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.nome},(0,o.v_)(e.nome),1))),128))])],64)}var K={name:"SecondPage",data(){return{eventi:[]}},async mounted(){const e=await(0,A.GG)((0,A.rJ)(P.db,"test"));this.eventi=e.docs.map(e=>e.data())}};const q=(0,m.A)(K,[["render",G],["__scopeId","data-v-677c1d45"]]);var Y=q;const Z={class:"wrapper"},ee={class:"mt-5"},ae={class:"opzioni"},te={class:"card"},ne={class:"card-body"},re={class:"card-title"},oe={class:"card-text"},ie={class:"card"},se={class:"card-body"},de={class:"card-title"},ce={class:"card-text"};function le(e,a,t,n,i,s){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Z,[(0,r.Lk)("h2",ee,(0,o.v_)(e.$t("reservedArea")),1),(0,r.Lk)("div",ae,[(0,r.Lk)("div",te,[(0,r.Lk)("div",ne,[(0,r.Lk)("h5",re,(0,o.v_)(e.$t("organizer")),1),(0,r.Lk)("p",oe,(0,o.v_)(e.$t("organizerText")),1),(0,r.bF)(d,{to:{name:"AreaOrganizzatore"},class:"btn btn-primary"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("loginButton")),1)]),_:1})])]),(0,r.Lk)("div",ie,[(0,r.Lk)("div",se,[(0,r.Lk)("h5",de,(0,o.v_)(e.$t("validator")),1),(0,r.Lk)("p",ce,(0,o.v_)(e.$t("validatorText")),1),(0,r.bF)(d,{to:{name:"AreaConvalidatore"},class:"btn btn-primary"},{default:(0,r.k6)(()=>[...a[0]||(a[0]=[(0,r.eW)("Accedi",-1)])]),_:1})])])])])}var ve={name:"AreaRiservata",mounted(){}};const ue=(0,m.A)(ve,[["render",le],["__scopeId","data-v-f2fc4f48"]]);var pe=ue;const ge={class:"area-organizzatore"},me={class:"header"},fe={class:"intestazione"},he={class:"light"},ke={class:"contenuto"},ze={class:"eventi-org"},Ee={class:"fw-bold"};function we(e,a,t,n,i,s){const d=(0,r.g2)("router-link"),c=(0,r.g2)("EventiView");return(0,r.uX)(),(0,r.CE)("div",ge,[(0,r.Lk)("header",me,[(0,r.Lk)("div",fe,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("organizerArea")),1),(0,r.Lk)("h5",null,[(0,r.Lk)("span",he,(0,o.v_)(e.$t("hiMessage"))+",",1),(0,r.eW)(" "+(0,o.v_)(i.currentUser.email),1)])]),(0,r.Lk)("button",{class:"logout-button",onClick:a[0]||(a[0]=(...e)=>s.logout&&s.logout(...e))},"Esci")]),(0,r.Lk)("main",ke,[(0,r.bF)(d,{class:"btn btn-primary",to:"/area-riservata/area-organizzatore/aggiungi-evento"},{default:(0,r.k6)(()=>[(0,r.eW)(" + "+(0,o.v_)(e.$t("addNewEvent")),1)]),_:1}),(0,r.Lk)("section",ze,[(0,r.Lk)("h6",Ee,(0,o.v_)(e.$t("yourEvents")),1),i.currentUser&&i.currentUser.uid?((0,r.uX)(),(0,r.Wv)(c,{key:0,class:"eventi-comp",organizzatoreId:i.currentUser.uid},null,8,["organizzatoreId"])):(0,r.Q3)("",!0)])])])}t(4114);var Le=t(9915),be={name:"AreaOrganizzatore",beforeMount(){},mounted(){},data(){return{organizzatoreIdRecuperato:localStorage.getItem("organizzatoreId"),currentUser:P.j.currentUser}},components:{EventiView:M},methods:{async logout(){try{await(0,Le.CI)(P.j),this.$router.push({name:"AreaRiservata"})}catch(e){console.log(e)}}}};const ye=(0,m.A)(be,[["render",we],["__scopeId","data-v-23277851"]]);var _e=ye;const Ce={class:"evento-nome"},Ae={class:"evento-nome"};function Pe(e,a,t,n,i,s){return(0,r.uX)(),(0,r.CE)(r.FK,null,[a[0]||(a[0]=(0,r.Lk)("h2",null,"Eventi Organizzatore",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.eventi,e=>((0,r.uX)(),(0,r.CE)("div",{class:"evento",key:e.id},[(0,r.Lk)("div",Ce,(0,o.v_)(e.nome_evento),1),(0,r.Lk)("div",Ae,(0,o.v_)(s.invertiData(e.data)),1)]))),128))],64)}var Ie={name:"EventiOrganizzatore",data(){return{eventi:[]}},methods:{invertiData:S.E,async caricaEventi(){const e=(0,A.P)((0,A.rJ)(P.db,"eventi"),(0,A._M)("emailOrganizzatore","==",localStorage.getItem("organizzatoreEmail"))),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}},async mounted(){await this.caricaEventi()}};const $e=(0,m.A)(Ie,[["render",Pe]]);var Oe=$e;const Fe={class:"area-organizzatore"},xe={class:"subtitle"},Te={class:"form-container"},Re={class:"form-group"},Xe={for:"email_organizzatore"},Be={class:"form-group"},De={for:"password_organizzatore"},Ue={class:"form-feedback"},Ve={key:0,class:"error-message"},Se={class:"registrati-link"};function Ne(e,a,t,i,s,d){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Fe,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("organizerAccess")),1),(0,r.Lk)("p",xe,(0,o.v_)(e.$t("organizerAccessText")),1)]),(0,r.Lk)("div",Te,[(0,r.Lk)("div",Re,[(0,r.Lk)("label",Xe,(0,o.v_)(e.$t("email")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.email=e),type:"email",id:"email_organizzatore",placeholder:""},null,512),[[n.Jo,s.email]])]),(0,r.Lk)("div",Be,[(0,r.Lk)("label",De,(0,o.v_)(e.$t("password")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),type:"password",id:"password_organizzatore",placeholder:""},null,512),[[n.Jo,s.password]])]),(0,r.Lk)("div",Ue,[(0,r.bF)(n.eB,{name:"fade"},{default:(0,r.k6)(()=>[s.loginFailed?((0,r.uX)(),(0,r.CE)("div",Ve,(0,o.v_)(e.$t("loginFailed")),1)):(0,r.Q3)("",!0)]),_:1})]),(0,r.Lk)("button",{class:"btn-primary",onClick:a[2]||(a[2]=(...e)=>d.login&&d.login(...e))},(0,o.v_)(e.$t("loginButton")),1),(0,r.Lk)("div",Se,[(0,r.eW)((0,o.v_)(e.$t("dontHaveAccount"))+" ",1),(0,r.bF)(c,{to:"/area-riservata/organizzatore-registrati"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("register")),1)]),_:1})])])])}var je={name:"OrganizzatoreLogin",data(){return{email:"",password:"",loginFailed:!1}},methods:{async login(){try{const e=await(0,Le.x9)(P.j,this.email,this.password),a=await(0,A.x7)((0,A.H9)(P.db,"organizzatori",e.user.uid));console.log(a),localStorage.setItem("organizzatoreId",e.user.uid),this.$router.push({name:"AreaOrganizzatore"})}catch(e){this.loginFailed=!0}}},mounted(){}};const Je=(0,m.A)(je,[["render",Ne],["__scopeId","data-v-76e6cf7b"]]);var Me=Je;const Qe={class:"area-organizzatore"},We={class:"subtitle"},He={class:"form-container"},Ge={class:"form-group"},Ke={for:"email_organizzatore"},qe={class:"form-group"},Ye={for:"password_organizzatore"},Ze={class:"form-text",style:{"font-size":"0.75em"}},ea={class:"form-group"},aa={for:"password_organizzatore"},ta={class:"form-feedback"},na={key:0,class:"error-message"},ra=["disabled"],oa={class:"registrati-link"};function ia(e,a,t,i,s,d){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Qe,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("register")),1),(0,r.Lk)("p",We,(0,o.v_)(e.$t("organizerRegisterText")),1)]),(0,r.Lk)("div",He,[(0,r.Lk)("div",Ge,[(0,r.Lk)("label",Ke,(0,o.v_)(e.$t("email")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.email=e),type:"email",ref:"emailInput",id:"email_organizzatore",placeholder:""},null,512),[[n.Jo,s.email]])]),(0,r.Lk)("div",qe,[(0,r.Lk)("label",Ye,(0,o.v_)(e.$t("password")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),type:"password",id:"password_organizzatore",placeholder:""},null,512),[[n.Jo,s.password]]),(0,r.Lk)("div",Ze,(0,o.v_)(e.$t("strongPasswordText")),1)]),(0,r.Lk)("div",ea,[(0,r.Lk)("label",aa,(0,o.v_)(e.$t("repeatPassword")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>s.passwordRepeat=e),type:"password",id:"password_organizzatore_repeat",placeholder:"",onBlur:a[3]||(a[3]=(...e)=>d.validatePassword&&d.validatePassword(...e)),onInput:a[4]||(a[4]=(...e)=>d.validatePassword&&d.validatePassword(...e))},null,544),[[n.Jo,s.passwordRepeat]])]),(0,r.Lk)("div",ta,[(0,r.bF)(n.eB,{name:"fade"},{default:(0,r.k6)(()=>[!s.validPassword&&s.passwordRepeat.length>0?((0,r.uX)(),(0,r.CE)("div",na,(0,o.v_)(e.$t("passwordDoesntMatch")),1)):(0,r.Q3)("",!0)]),_:1})]),(0,r.Lk)("button",{disabled:!s.validPassword,class:"btn-primary",onClick:a[5]||(a[5]=(...e)=>d.addOrganizzatore&&d.addOrganizzatore(...e))},(0,o.v_)(e.$t("createAccount")),9,ra),(0,r.Lk)("div",oa,[(0,r.eW)((0,o.v_)(e.$t("alreadyHaveAccount"))+" ",1),(0,r.bF)(c,{to:"/area-riservata/organizzatore-login"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("loginButton")),1)]),_:1})])])])}var sa={name:"OrganizzatoreRegistrati",data(){return{email:"",password:"",passwordRepeat:"",validPassword:!1}},methods:{async addOrganizzatore(){try{const e=await(0,Le.eJ)(P.j,this.email,this.password);await(0,A.BN)((0,A.H9)(P.db,"organizzatori",e.user.uid),{email:this.email,createdAt:new Date}),(0,Le.x9)(P.j,this.email,this.password),this.$router.push("/area-riservata/area-organizzatore")}catch(e){console.error(e)}this.email="",this.password=""},validatePassword(){const e=["!","$","@","#"],a=e.some(e=>this.password.includes(e));this.validPassword=this.password==this.passwordRepeat&&a&&!(this.password.length<8)}}};const da=(0,m.A)(sa,[["render",ia],["__scopeId","data-v-4e02f38a"]]);var ca=da;function la(e,a,t,n,o,i){const s=(0,r.g2)("AddEvent");return(0,r.uX)(),(0,r.Wv)(s,{onEventoInserito:i.goToEventiOrganizzatore},null,8,["onEventoInserito"])}const va={class:"area-add-evento"},ua={class:"subtitle"},pa={class:"form-container"},ga={class:"form-group"},ma={for:"nome_evento"},fa={class:"form-group"},ha={for:"data_evento"},ka={class:"form-group"},za={for:"password_convalidatori"},Ea={class:"form-group upload"},wa={for:"inputGroupFile01"},La={class:"form-group"},ba={for:"artists"},ya={class:"form-group"},_a={for:"description"},Ca={key:0,class:"alert-success"};function Aa(e,a,t,i,s,d){return(0,r.uX)(),(0,r.CE)("div",va,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("addEvent")),1),(0,r.Lk)("p",ua,(0,o.v_)(e.$t("addEventText")),1)]),(0,r.Lk)("div",pa,[(0,r.Lk)("div",ga,[(0,r.Lk)("label",ma,(0,o.v_)(e.$t("nameEvent")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.nome_evento=e),type:"text",id:"nome_evento",placeholder:"Summer Fest 2025"},null,512),[[n.Jo,s.nome_evento]])]),(0,r.Lk)("div",fa,[(0,r.Lk)("label",ha,(0,o.v_)(e.$t("dateEvent")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.data=e),type:"date",id:"data_evento"},null,512),[[n.Jo,s.data]])]),(0,r.Lk)("div",ka,[(0,r.Lk)("label",za,(0,o.v_)(e.$t("validatorsPassword")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>s.passwordConvalidatori=e),type:"text",id:"password_convalidatori",placeholder:""},null,512),[[n.Jo,s.passwordConvalidatori]]),a[7]||(a[7]=(0,r.Lk)("small",{class:"form-text"},"Fornisci questa password ai tuoi convalidatori per l’accesso.",-1))]),(0,r.Lk)("div",Ea,[(0,r.Lk)("label",wa,(0,o.v_)(e.$t("imgCover")),1),(0,r.Lk)("input",{type:"file",id:"inputGroupFile01",onChange:a[3]||(a[3]=(...e)=>d.onFileChange&&d.onFileChange(...e)),class:"form-control"},null,32)]),(0,r.Lk)("div",La,[(0,r.Lk)("label",ba,(0,o.v_)(e.$t("artists")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[4]||(a[4]=e=>s.artists=e),type:"text",id:"artists",placeholder:"Carl Cox, Cera Khin, The Martinez Brothers"},null,512),[[n.Jo,s.artists]])]),(0,r.Lk)("div",ya,[(0,r.Lk)("label",_a,(0,o.v_)(e.$t("descriptionEvent")),1),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":a[5]||(a[5]=e=>s.description=e),id:"description",class:"textarea",placeholder:""},null,512),[[n.Jo,s.description]])]),s.aliasEvento?((0,r.uX)(),(0,r.CE)("div",Ca,[(0,r.Lk)("p",null,(0,o.v_)(e.$t("successfullyInsertEvent")),1),(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("aliasEventGenerated")),1),a[8]||(a[8]=(0,r.eW)()),(0,r.Lk)("span",null,(0,o.v_)(s.aliasEvento),1)])])):(0,r.Q3)("",!0),(0,r.Lk)("button",{class:"btn-primary btn-center",onClick:a[6]||(a[6]=(...e)=>d.inserisciEvento&&d.inserisciEvento(...e))},(0,o.v_)(e.$t("insertEvent")),1)])])}var Pa=t(7844),Ia={name:"AddEvent",data(){return{nome_evento:"",data:"",emailOrganizzatore:"",idOrganizzatore:"",aliasEvento:"",passwordConvalidatori:"",imgCopertina:null,artists:"",description:"",currentUser:P.j.currentUser}},methods:{async inserisciEvento(){this.emailOrganizzatore=this.currentUser.email,this.idOrganizzatore=this.currentUser.uid;let e="";if(this.imgCopertina){const a=(0,Pa.KR)(P.I,`copertine/${this.imgCopertina.name}`);await(0,Pa.D)(a,this.imgCopertina),e=await(0,Pa.qk)(a)}const a={nome_evento:this.nome_evento,data:this.data,emailOrganizzatore:this.emailOrganizzatore,idOrganizzatore:this.idOrganizzatore,aliasEvento:this.nome_evento.slice(0,3)+this.data,passwordConvalidatori:this.passwordConvalidatori,imgCopertina:e,artists:this.artists,description:this.description};try{await(0,A.gS)((0,A.rJ)(P.db,"eventi"),a),this.aliasEvento=a.aliasEvento,this.data="",this.nome_evento="",this.$emit("eventoInserito")}catch(t){console.log(t)}},onFileChange(e){this.imgCopertina=e.target.files[0]}}};const $a=(0,m.A)(Ia,[["render",Aa],["__scopeId","data-v-d4fc261c"]]);var Oa=$a,Fa={name:"AggiungiEvento",data(){return{}},components:{AddEvent:Oa},methods:{goToEventiOrganizzatore(){this.$router.push({name:"AreaOrganizzatore"})}}};const xa=(0,m.A)(Fa,[["render",la]]);var Ta=xa;const Ra={class:"area-convalidatore"},Xa={key:0,class:"subtitle"},Ba={key:0,class:"form-container"},Da={class:"form-group"},Ua={for:"alias_evento"},Va={class:"form-group"},Sa={for:"password_evento"},Na={key:0,class:"form-feedback"},ja={key:0,class:"error-message"},Ja={class:"form-text"},Ma={key:1,class:"scanner-section"},Qa={key:0,class:"partecipante"},Wa={class:"info"},Ha={class:"conferma"},Ga={key:0,class:"alert alert-warning"},Ka={key:1};function qa(e,a,t,i,s,d){const c=(0,r.g2)("ApriFotocamera");return(0,r.uX)(),(0,r.CE)("div",Ra,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("validatorArea")),1),s.isLogged?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",Xa,(0,o.v_)(e.$t("validatorAreaText")),1))]),s.isLogged?((0,r.uX)(),(0,r.CE)("div",Ma,[(0,r.bF)(c,{onEmitQRCode:d.gestisciQR},null,8,["onEmitQRCode"]),s.idPartecipante?((0,r.uX)(),(0,r.CE)("div",Qa,[(0,r.Lk)("h4",null,(0,o.v_)(e.$t("infoParticipant")),1),(0,r.Lk)("div",Wa,[(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("name"))+":",1),(0,r.eW)(" "+(0,o.v_)(s.datiPartecipante.nome),1)]),(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("surname"))+":",1),(0,r.eW)(" "+(0,o.v_)(s.datiPartecipante.cognome),1)]),(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("dateOfBirth"))+":",1),(0,r.eW)(" "+(0,o.v_)(s.datiPartecipante.dataNascita),1)])]),(0,r.Lk)("div",Ha,[s.datiPartecipante.presenzaConfermata?((0,r.uX)(),(0,r.CE)("div",Ga,(0,o.v_)(e.$t("alreadyConfirmed")),1)):((0,r.uX)(),(0,r.CE)("div",Ka,[(0,r.Lk)("p",null,(0,o.v_)(e.$t("dataIsCorrectMessage")),1),(0,r.Lk)("button",{class:"btn-confirm",onClick:a[3]||(a[3]=(...e)=>d.confermaPartecipazione&&d.confermaPartecipazione(...e))},(0,o.v_)(e.$t("confirmPresence")),1)]))])])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",Ba,[(0,r.Lk)("div",Da,[(0,r.Lk)("label",Ua,(0,o.v_)(e.$t("aliasEvent")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.evento=e),type:"text",id:"alias_evento",placeholder:""},null,512),[[n.Jo,s.evento]])]),(0,r.Lk)("div",Va,[(0,r.Lk)("label",Sa,(0,o.v_)(e.$t("password")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),type:"password",id:"password_evento",placeholder:""},null,512),[[n.Jo,s.password]])]),s.loginFailed?((0,r.uX)(),(0,r.CE)("div",Na,[(0,r.bF)(n.eB,{name:"fade"},{default:(0,r.k6)(()=>[s.loginFailed?((0,r.uX)(),(0,r.CE)("div",ja,(0,o.v_)(e.$t("validatorLoginFailed")),1)):(0,r.Q3)("",!0)]),_:1})])):(0,r.Q3)("",!0),(0,r.Lk)("small",Ja,(0,o.v_)(e.$t("credentialsFromOrganizer")),1),(0,r.Lk)("button",{class:"btn-primary",onClick:a[2]||(a[2]=(...e)=>d.convalidatoreLogin&&d.convalidatoreLogin(...e))},(0,o.v_)(e.$t("loginButton")),1)]))])}const Ya={class:"scanner-container"},Za=["disabled"],et={key:0,class:"video-wrapper"},at={ref:"video",autoplay:"",playsinline:""},tt={ref:"canvas",class:"hidden-canvas"},nt={key:1,class:"qr-result"},rt={class:"code"};function ot(e,a,t,n,i,s){return(0,r.uX)(),(0,r.CE)("div",Ya,[(0,r.Lk)("button",{class:"btn-scan",onClick:a[0]||(a[0]=(...e)=>s.apriFotocamera&&s.apriFotocamera(...e)),disabled:i.scanning},(0,o.v_)(i.scanning?"Scansione in corso...":"Scannerizza QR Code"),9,Za),i.scanning?((0,r.uX)(),(0,r.CE)("div",et,[(0,r.Lk)("video",at,null,512),a[1]||(a[1]=(0,r.Lk)("div",{class:"scan-overlay"},null,-1))])):(0,r.Q3)("",!0),(0,r.Lk)("canvas",tt,null,512),i.qrContent?((0,r.uX)(),(0,r.CE)("div",nt,[a[2]||(a[2]=(0,r.Lk)("p",null,"QR Rilevato:",-1)),(0,r.Lk)("div",rt,(0,o.v_)(i.qrContent),1)])):(0,r.Q3)("",!0)])}t(7588);var it=t(8703),st=t.n(it),dt={name:"ApriFotocamera",data(){return{stream:null,qrContent:"",scanning:!1}},emits:["emitQRCode"],async mounted(){},methods:{async apriFotocamera(){try{this.scanning=!0,this.$nextTick(()=>{this.scanQR()}),this.stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),this.$refs.video.srcObject=this.stream}catch(e){console.error(e)}},async scanQR(){const e=this.$refs.video,a=this.$refs.canvas,t=a.getContext("2d"),n=()=>{if(this.scanning){if(e.readyState===e.HAVE_ENOUGH_DATA){a.width=e.videoWidth,a.height=e.videoHeight,t.drawImage(e,0,0,a.width,a.height);const n=t.getImageData(0,0,a.width,a.height),r=st()(n.data,n.width,n.height);r&&(this.$emit("emitQRCode",r.data),this.scanning=!1,this.stopCamera())}requestAnimationFrame(n)}};n()},stopCamera(){this.stream&&this.stream.getTracks().forEach(e=>e.stop())}},beforeUnmount(){this.stopCamera()}};const ct=(0,m.A)(dt,[["render",ot],["__scopeId","data-v-45bab6c9"]]);var lt=ct,vt={name:"AreaConvalidatore",data(){return{isLogged:null,evento:"",password:"",eventoId:"",idPartecipante:"",datiPartecipante:{nome:"",cognome:"",dataNascita:"",presenzaConfermata:null},loginFailed:!1}},components:{ApriFotocamera:lt},beforeMount(){this.isLogged=!1},methods:{async convalidatoreLogin(){const e=(0,A.P)((0,A.rJ)(P.db,"eventi"),(0,A._M)("aliasEvento","==",this.evento),(0,A._M)("passwordConvalidatori","==",this.password)),a=await(0,A.GG)(e);a.empty?this.loginFailed=!0:(this.eventoId=a.docs[0].id,localStorage.setItem("convalidatoreEvento",this.evento),localStorage.setItem("convalidatorePassword",this.password),localStorage.setItem("convalidatoreLogged","true"),this.isLogged=!0)},gestisciQR(e){this.idPartecipante=e,this.recuperaDatiPartecipante()},async recuperaDatiPartecipante(){try{const e=(0,A.H9)(P.db,"eventi",this.eventoId,"partecipanti",this.idPartecipante),a=await(0,A.x7)(e);if(a.exists()){const e=a.data();this.datiPartecipante={nome:e.nome,cognome:e.cognome,dataNascita:e.data_di_nascita,presenzaConfermata:e.presenzaConfermata}}}catch(e){console.log(e)}},async confermaPartecipazione(){const e=(0,A.H9)(P.db,"eventi",this.eventoId,"partecipanti",this.idPartecipante);try{await(0,A.mZ)(e,{presenzaConfermata:!0}),this.datiPartecipante.presenzaConfermata=!0}catch(a){console.log(a)}}}};const ut=(0,m.A)(vt,[["render",qa],["__scopeId","data-v-0f832719"]]);var pt=ut;const gt=[{path:"/",name:"IndexView",component:L},{path:"/home",name:"HomeView",component:H},{path:"/secondpage",name:"SecondPage",component:Y},{path:"/evento/:eventoId",name:"EventoView",component:()=>t.e(788).then(t.bind(t,1788)),props:!0},{path:"/evento/:eventoId/:partecipanteId",name:"PartecipanteView",component:()=>t.e(778).then(t.bind(t,8778)),props:!0},{path:"/area-riservata",name:"AreaRiservata",component:pe},{path:"/area-riservata/area-organizzatore",name:"AreaOrganizzatore",component:_e,meta:{requiresAuth:!0}},{path:"/area-riservata/area-organizzatore/eventi-organizzatore",name:"EventiOrganizzatore",component:Oe},{path:"/area-riservata/organizzatore-login",name:"OrganizzatoreLogin",component:Me},{path:"/area-riservata/organizzatore-registrati",name:"OrganizzatoreRegistrati",component:ca},{path:"/area-riservata/area-organizzatore/aggiungi-evento",name:"AggiungiEvento",component:Ta},{path:"/area-riservata/area-convalidatore",name:"AreaConvalidatore",component:pt},{path:"/area-riservata/area-organizzatore/evento/:eventoId",name:"EventoOrganizzatore",component:()=>t.e(474).then(t.bind(t,1474)),props:!0}],mt=(0,k.aE)({history:(0,k.Bt)("/easyticket/"),routes:gt});function ft(){return new Promise((e,a)=>{const t=(0,Le.hg)((0,Le.xI)(),a=>{t(),e(a)},a)})}mt.beforeEach(async(e,a,t)=>{const n=await ft();e.path.startsWith("/area-riservata/area-organizzatore")&&!n?t("/area-riservata/organizzatore-login"):e.path.startsWith("/area-riservata/organizzatore-login")&&n?t("/home"):t()});var ht=mt,kt=t(8974),zt=(t(8077),JSON.parse('{"welcome":"Discover events just for you","reservedAreaButtonNavbar":"RESERVED AREA","registerParticipantAtEvent":"Register for the event","name":"First Name","surname":"Last Name","dateOfBirth":"Date of Birth","joinButton":"Join","recoverTicketButton":"Recover Ticket","recoverTicketMessage":"If you want to recover your ticket, fill in the fields and press the Recover Ticket button","reservedArea":"Reserved Area","organizerArea":"Organizer Area","organizer":"Organizer","organizerText":"Create, manage, and check your created events","loginButton":"Login","validator":"Validator","validatorText":"Check and validate participant attendance","organizerAccess":"Organizer Access","organizerAccessText":"Log in to manage your events","email":"Email","password":"Password","register":"Register","dontHaveAccount":"Don\'t have an account?","organizerRegisterText":"Create your organizer account","alreadyHaveAccount":"Already have an account?","validatorArea":"Validator Area","validatorAreaText":"Log in to validate event participants","aliasEvent":"Event Alias","credentialsFromOrganizer":"Credentials are provided by the organizer","infoParticipant":"Participant Details","alreadyConfirmed":"Attendance already confirmed","dataIsCorrectMessage":"Are the details correct?","confirmPresence":"Confirm Attendance","hiMessage":"Hi","addNewEvent":"Add a new event","yourEvents":"Your events","participants":"Participants","searchParticipant":"Search participants","presenceConfirmed":"Attendance Confirmed","addEvent":"Add Event","addEventText":"Fill in the details to create a new event","nameEvent":"Event Name","dateEvent":"Event Date","validatorsPassword":"Validators\' Password","imgCover":"Cover Image","insertEvent":"Insert Event","successfullyInsertEvent":"Event successfully added!","aliasEventGenerated":"Generated alias:","createAccount":"Create Account","repeatPassword":"Re-enter Password","strongPasswordText":"At least 8 characters, including one of [!, $, #, @]","passwordDoesntMatch":"Password length, format, or confirmation does not match","loginFailed":"Incorrect Email and/or Password","validatorLoginFailed":"Incorrect Event Alias and/or Password","artists":"Artists","descriptionEvent":"Event description (max. 100 words)","in":"in","days":"days","eventExpired":"Event ended","lastDay":"Last day"}')),Et=JSON.parse('{"welcome":"Scopri gli eventi dedicati a te","reservedAreaButtonNavbar":"AREA RISERVATA","registerParticipantAtEvent":"Registrati all\'evento","name":"Nome","surname":"Cognome","dateOfBirth":"Data di nascita","joinButton":"Partecipa","recoverTicketButton":"Recupera biglietto","recoverTicketMessage":"Se vuoi recuperare il tuo biglietto compila i campi e premi il pulsante Recupera Biglietto","reservedArea":"Area Riservata","organizerArea":"Area Organizzatore","organizer":"Organizzatore","organizerText":"Crea, gestisci e verifica i tuoi eventi creati","loginButton":"Accedi","validator":"Convalidatore","validatorText":"Verifica e convalida la presenza dei partecipanti","organizerAccess":"Accesso Organizzatore","organizerAccessText":"Accedi per gestire i tuoi eventi","email":"Email","password":"Password","register":"Registrati","dontHaveAccount":"Non hai un account?","organizerRegisterText":"Crea il tuo account organizzatore","alreadyHaveAccount":"Hai già un account?","validatorArea":"Area Convalidatore","validatorAreaText":"Accedi per convalidare i partecipanti all’evento","aliasEvent":"Alias Evento","credentialsFromOrganizer":"Le credenziali vengono fornite dall\'organizzatore","infoParticipant":"Dettagli Partecipante","alreadyConfirmed":"Presenza già confermata","dataIsCorrectMessage":"I dati sono corretti?","confirmPresence":"Conferma Presenza","hiMessage":"Ciao","addNewEvent":"Aggiungi un nuovo evento","yourEvents":"I tuoi eventi","participants":"Partecipanti","searchParticipant":"Cerca partecipanti","presenceConfirmed":"Presenza Confermata","addEvent":"Aggiungi Evento","addEventText":"Compila i dati per creare un nuovo evento","nameEvent":"Nome Evento","dateEvent":"Data Evento","validatorsPassword":"Password Convalidatori","imgCover":"Immagine di copertina","insertEvent":"Inserisci Evento","successfullyInsertEvent":"Evento inserito correttamente!","aliasEventGenerated":"Alias generato:","createAccount":"Crea Account","repeatPassword":"Reinserisci Password","strongPasswordText":"Almeno 8 caratteri, di cui uno tra [!, $, #, @]","passwordDoesntMatch":"Lunghezza, formato o password non coincide","loginFailed":"Email e/o Password errata","validatorLoginFailed":"Alias Evento e/o Password errata","artists":"Artisti","descriptionEvent":"Descrizione dell\'evento (max. 100 parole)","in":"tra","days":"giorni","eventExpired":"Evento concluso","lastDay":"Ultimo giorno"}');const wt=(0,kt.hU)({legacy:!1,locale:"it",fallbackLocale:"en",messages:{it:Et,en:zt}}),Lt=(0,n.Ef)(h);Lt.use(ht),Lt.use(wt),Lt.mount("#app")},5697:function(e,a,t){t.d(a,{I:function(){return l},db:function(){return c},j:function(){return v}});var n=t(7617),r=t(6400),o=t(7844),i=t(9915);const s={apiKey:"AIzaSyAYzU05BOCyEZwn5jdBEkNHRJ0VFtSL8i0",authDomain:"easyticket-65a56.firebaseapp.com",projectId:"easyticket-65a56",storageBucket:"easyticket-65a56.firebasestorage.app",messagingSenderId:"1089510162656",appId:"1:1089510162656:web:919825ad8d992826d8d085",measurementId:"G-3YM37HZJ5E"},d=(0,r.Wp)(s),c=(0,n.aU)(d),l=(0,o.c7)(),v=(0,i.xI)(d)},8020:function(e,a,t){function n(e){if(!e)return e;const a=e.split("-"),[t,n,r]=a;return`${r}/${n}/${t}`}t.d(a,{E:function(){return n}})}},a={};function t(n){var r=a[n];if(void 0!==r)return r.exports;var o=a[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,n,r,o){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],o=e[l][2];for(var s=!0,d=0;d<n.length;d++)(!1&o||i>=o)&&Object.keys(t.O).every(function(e){return t.O[e](n[d])})?n.splice(d--,1):(s=!1,o<i&&(i=o));if(s){e.splice(l--,1);var c=r();void 0!==c&&(a=c)}}return a}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce(function(a,n){return t.f[n](e,a),a},[]))}}(),function(){t.u=function(e){return"js/"+e+"."+{474:"570235ae",778:"12ab3c9f",788:"8a14b1d0"}[e]+".js"}}(),function(){t.miniCssF=function(e){return"css/"+e+"."+{474:"5f58c97b",778:"fe4e4349",788:"991caba3"}[e]+".css"}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={},a="easyticket:";t.l=function(n,r,o,i){if(e[n])e[n].push(r);else{var s,d;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var v=c[l];if(v.getAttribute("src")==n||v.getAttribute("data-webpack")==a+o){s=v;break}}s||(d=!0,s=document.createElement("script"),s.charset="utf-8",t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",a+o),s.src=n),e[n]=[r];var u=function(a,t){s.onerror=s.onload=null,clearTimeout(p);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(function(e){return e(t)}),a)return a(t)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),d&&document.head.appendChild(s)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/easyticket/"}(),function(){if("undefined"!==typeof document){var e=function(e,a,n,r,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",t.nc&&(i.nonce=t.nc);var s=function(t){if(i.onerror=i.onload=null,"load"===t.type)r();else{var n=t&&t.type,s=t&&t.target&&t.target.href||a,d=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+s+")");d.name="ChunkLoadError",d.code="CSS_CHUNK_LOAD_FAILED",d.type=n,d.request=s,i.parentNode&&i.parentNode.removeChild(i),o(d)}};return i.onerror=i.onload=s,i.href=a,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},a=function(e,a){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++){var r=t[n],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===a))return r}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){r=i[n],o=r.getAttribute("data-href");if(o===e||o===a)return r}},n=function(n){return new Promise(function(r,o){var i=t.miniCssF(n),s=t.p+i;if(a(i,s))return r();e(n,s,null,r,o)})},r={524:0};t.f.miniCss=function(e,a){var t={474:1,778:1,788:1};r[e]?a.push(r[e]):0!==r[e]&&t[e]&&a.push(r[e]=n(e).then(function(){r[e]=0},function(a){throw delete r[e],a}))}}}(),function(){var e={524:0};t.f.j=function(a,n){var r=t.o(e,a)?e[a]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(function(t,n){r=e[a]=[t,n]});n.push(r[2]=o);var i=t.p+t.u(a),s=new Error,d=function(n){if(t.o(e,a)&&(r=e[a],0!==r&&(e[a]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+a+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}};t.l(i,d,"chunk-"+a,a)}},t.O.j=function(a){return 0===e[a]};var a=function(a,n){var r,o,i=n[0],s=n[1],d=n[2],c=0;if(i.some(function(a){return 0!==e[a]})){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(d)var l=d(t)}for(a&&a(n);c<i.length;c++)o=i[c],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(l)},n=self["webpackChunkeasyticket"]=self["webpackChunkeasyticket"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],function(){return t(2182)});n=t.O(n)})();
//# sourceMappingURL=app.4e544327.js.map