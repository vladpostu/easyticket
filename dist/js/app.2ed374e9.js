(function(){"use strict";var e={5697:function(e,a,t){t.d(a,{I:function(){return l},db:function(){return d},j:function(){return v}});var n=t(7617),r=t(6400),o=t(7844),i=t(9915);const s={apiKey:"AIzaSyAYzU05BOCyEZwn5jdBEkNHRJ0VFtSL8i0",authDomain:"easyticket-65a56.firebaseapp.com",projectId:"easyticket-65a56",storageBucket:"easyticket-65a56.firebasestorage.app",messagingSenderId:"1089510162656",appId:"1:1089510162656:web:919825ad8d992826d8d085",measurementId:"G-3YM37HZJ5E"},c=(0,r.Wp)(s),d=(0,n.aU)(c),l=(0,o.c7)(),v=(0,i.xI)(c)},8020:function(e,a,t){function n(e){if(!e)return e;const a=e.split("-"),[t,n,r]=a;return`${r}/${n}/${t}`}t.d(a,{E:function(){return n}})},9939:function(e,a,t){var n=t(5130),r=t(6768),o=t(4232);const i={class:"header"},s={class:"header-box"},c={class:"header-right"},d={class:"lang-selector"},l={class:"dropdown"},v={class:"btn-dropdown"},u={class:"dropdown-content"};function g(e,a,t,n,g,p){const m=(0,r.g2)("router-link"),h=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",i,[(0,r.Lk)("div",s,[(0,r.bF)(m,{to:{name:"HomeView"},class:"logo"},{default:(0,r.k6)(()=>[...a[2]||(a[2]=[(0,r.eW)("EasyTicket",-1)])]),_:1}),(0,r.Lk)("div",c,[(0,r.Lk)("div",d,[(0,r.Lk)("div",l,[(0,r.Lk)("button",v,[a[3]||(a[3]=(0,r.Lk)("i",{class:"bi bi-translate"},null,-1)),(0,r.eW)(" "+(0,o.v_)(e.$i18n.locale.toUpperCase()),1)]),(0,r.Lk)("div",u,[(0,r.Lk)("div",{onClick:a[0]||(a[0]=a=>e.$i18n.locale="it")},"IT"),(0,r.Lk)("div",{onClick:a[1]||(a[1]=a=>e.$i18n.locale="en")},"EN")])])]),(0,r.bF)(m,{to:{name:"AreaRiservata"},class:"area-riservata"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("reservedAreaButtonNavbar")),1)]),_:1})])])]),(0,r.bF)(h)],64)}var p={name:"App",components:{},methods:{changeLang(e){this.$i18n.locale=e}}},m=t(1241);const h=(0,m.A)(p,[["render",g],["__scopeId","data-v-6e2053aa"]]);var f=h,z=t(8512);function k(e,a,t,n,o,i){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)(r.FK,null,[a[1]||(a[1]=(0,r.Lk)("h1",null,"index",-1)),(0,r.bF)(s,{to:"/home"},{default:(0,r.k6)(()=>[...a[0]||(a[0]=[(0,r.eW)("home",-1)])]),_:1})],64)}var E={name:"IndexView",beforeRouteEnter(e,a,t){t({name:"HomeView"})}};const L=(0,m.A)(E,[["render",k]]);var b=L,_=t.p+"img/crowd-1056764_1280.46c465b3.jpg";const y={class:"image-container"},w={class:"moto"};function C(e,a,t,n,i,s){const c=(0,r.g2)("EventiView");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Lk)("div",y,[a[0]||(a[0]=(0,r.Lk)("img",{src:_,class:"img-fluid",alt:""},null,-1)),(0,r.Lk)("div",w,(0,o.v_)(e.$t("welcome")),1)]),(0,r.bF)(c,{organizzatoreId:this.organizzatoreId},null,8,["organizzatoreId"])],64)}t(8111),t(1701);var A=t(7617),I=t(5697);const $={class:"eventi"},O=["src"],P={class:"card-body"},x={class:"card-title"};function F(e,a,t,n,i,s){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",$,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.eventi,e=>((0,r.uX)(),(0,r.Wv)(c,{to:s.getLinkView(e),key:e.id,class:"card",style:{width:"18rem"}},{default:(0,r.k6)(()=>[(0,r.Lk)("img",{src:e.imgCopertina,class:"card-img-top",alt:""},null,8,O),(0,r.Lk)("div",P,[(0,r.Lk)("h5",x,(0,o.v_)(e.nome_evento),1),(0,r.Lk)("p",null,(0,o.v_)(s.invertiData(e.data)),1),a[0]||(a[0]=(0,r.Lk)("p",{class:"card-text"},"Some quick example text to build on the card title and make up the bulk of the card’s content.",-1))])]),_:2},1032,["to"]))),128))])}var R=t(8020),T={name:"EventiView",data(){return{eventi:[]}},props:["organizzatoreId"],methods:{invertiData:R.E,async fetchEventi(){if(this.organizzatoreId){const e=(0,A.P)((0,A.rJ)(I.db,"eventi"),(0,A._M)("idOrganizzatore","==",this.organizzatoreId)),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}else{const e=(0,A.rJ)(I.db,"eventi"),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}},getLinkView(e){return this.organizzatoreId?{name:"EventoOrganizzatore",params:{eventoId:e.id}}:{name:"EventoView",params:{eventoId:e.id}}}},mounted(){this.fetchEventi()}};const S=(0,m.A)(T,[["render",F],["__scopeId","data-v-3ce6ec49"]]);var V=S,N={name:"HomePage",components:{EventiView:V},data(){return{eventi:[],organizzatoreId:""}},methods:{async aggiornaLista(){const e=(0,A.P)((0,A.rJ)(I.db,"eventi")),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}},async mounted(){await this.aggiornaLista()}};const X=(0,m.A)(N,[["render",C],["__scopeId","data-v-5f853ee8"]]);var B=X;function j(e,a,t,n,i,s){return(0,r.uX)(),(0,r.CE)(r.FK,null,[a[0]||(a[0]=(0,r.Lk)("h1",null,"page 2",-1)),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.eventi,e=>((0,r.uX)(),(0,r.CE)("li",{key:e.nome},(0,o.v_)(e.nome),1))),128))])],64)}var D={name:"SecondPage",data(){return{eventi:[]}},async mounted(){const e=await(0,A.GG)((0,A.rJ)(I.db,"test"));this.eventi=e.docs.map(e=>e.data())}};const H=(0,m.A)(D,[["render",j],["__scopeId","data-v-677c1d45"]]);var J=H;const W={class:"wrapper"},M={class:"mt-5"},U={class:"opzioni"},G={class:"card"},Q={class:"card-body"},q={class:"card-title"},K={class:"card-text"},Y={class:"card"},Z={class:"card-body"},ee={class:"card-title"},ae={class:"card-text"};function te(e,a,t,n,i,s){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",W,[(0,r.Lk)("h2",M,(0,o.v_)(e.$t("reservedArea")),1),(0,r.Lk)("div",U,[(0,r.Lk)("div",G,[(0,r.Lk)("div",Q,[(0,r.Lk)("h5",q,(0,o.v_)(e.$t("organizer")),1),(0,r.Lk)("p",K,(0,o.v_)(e.$t("organizerText")),1),(0,r.bF)(c,{to:{name:"AreaOrganizzatore"},class:"btn btn-primary"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("loginButton")),1)]),_:1})])]),(0,r.Lk)("div",Y,[(0,r.Lk)("div",Z,[(0,r.Lk)("h5",ee,(0,o.v_)(e.$t("validator")),1),(0,r.Lk)("p",ae,(0,o.v_)(e.$t("validatorText")),1),(0,r.bF)(c,{to:{name:"AreaConvalidatore"},class:"btn btn-primary"},{default:(0,r.k6)(()=>[...a[0]||(a[0]=[(0,r.eW)("Accedi",-1)])]),_:1})])])])])}var ne={name:"AreaRiservata",mounted(){}};const re=(0,m.A)(ne,[["render",te],["__scopeId","data-v-2e9d4382"]]);var oe=re;const ie={class:"area-organizzatore"},se={class:"header"},ce={class:"intestazione"},de={class:"light"},le={class:"contenuto"},ve={class:"eventi-org"},ue={class:"fw-bold"};function ge(e,a,t,n,i,s){const c=(0,r.g2)("router-link"),d=(0,r.g2)("EventiView");return(0,r.uX)(),(0,r.CE)("div",ie,[(0,r.Lk)("header",se,[(0,r.Lk)("div",ce,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("organizerArea")),1),(0,r.Lk)("h5",null,[(0,r.Lk)("span",de,(0,o.v_)(e.$t("hiMessage"))+",",1),(0,r.eW)(" "+(0,o.v_)(i.currentUser.email),1)])]),(0,r.Lk)("button",{class:"logout-button",onClick:a[0]||(a[0]=(...e)=>s.logout&&s.logout(...e))},"Esci")]),(0,r.Lk)("main",le,[(0,r.bF)(c,{class:"btn btn-primary",to:"/area-riservata/area-organizzatore/aggiungi-evento"},{default:(0,r.k6)(()=>[(0,r.eW)(" + "+(0,o.v_)(e.$t("addNewEvent")),1)]),_:1}),(0,r.Lk)("section",ve,[(0,r.Lk)("h6",ue,(0,o.v_)(e.$t("yourEvents")),1),(0,r.bF)(d,{class:"eventi-comp",organizzatoreId:i.organizzatoreIdRecuperato},null,8,["organizzatoreId"])])])])}t(4114);var pe=t(9915),me={name:"AreaOrganizzatore",beforeMount(){},mounted(){console.log("org id "+localStorage.getItem("organizzatoreId"))},data(){return{organizzatoreIdRecuperato:localStorage.getItem("organizzatoreId"),currentUser:I.j.currentUser}},components:{EventiView:V},methods:{async logout(){try{await(0,pe.CI)(I.j),this.$router.push({name:"AreaRiservata"})}catch(e){console.log(e)}}}};const he=(0,m.A)(me,[["render",ge],["__scopeId","data-v-086d13e2"]]);var fe=he;const ze={class:"evento-nome"},ke={class:"evento-nome"};function Ee(e,a,t,n,i,s){return(0,r.uX)(),(0,r.CE)(r.FK,null,[a[0]||(a[0]=(0,r.Lk)("h2",null,"Eventi Organizzatore",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.eventi,e=>((0,r.uX)(),(0,r.CE)("div",{class:"evento",key:e.id},[(0,r.Lk)("div",ze,(0,o.v_)(e.nome_evento),1),(0,r.Lk)("div",ke,(0,o.v_)(s.invertiData(e.data)),1)]))),128))],64)}var Le={name:"EventiOrganizzatore",data(){return{eventi:[]}},methods:{invertiData:R.E,async caricaEventi(){const e=(0,A.P)((0,A.rJ)(I.db,"eventi"),(0,A._M)("emailOrganizzatore","==",localStorage.getItem("organizzatoreEmail"))),a=await(0,A.GG)(e);this.eventi=a.docs.map(e=>({id:e.id,...e.data()}))}},async mounted(){await this.caricaEventi()}};const be=(0,m.A)(Le,[["render",Ee]]);var _e=be;const ye={class:"area-organizzatore"},we={class:"subtitle"},Ce={class:"form-container"},Ae={class:"form-group"},Ie={for:"email_organizzatore"},$e={class:"form-group"},Oe={for:"password_organizzatore"},Pe={class:"registrati-link"};function xe(e,a,t,i,s,c){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",ye,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("organizerAccess")),1),(0,r.Lk)("p",we,(0,o.v_)(e.$t("organizerAccessText")),1)]),(0,r.Lk)("div",Ce,[(0,r.Lk)("div",Ae,[(0,r.Lk)("label",Ie,(0,o.v_)(e.$t("email")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.email=e),type:"email",id:"email_organizzatore",placeholder:""},null,512),[[n.Jo,s.email]])]),(0,r.Lk)("div",$e,[(0,r.Lk)("label",Oe,(0,o.v_)(e.$t("password")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),type:"password",id:"password_organizzatore",placeholder:""},null,512),[[n.Jo,s.password]])]),(0,r.Lk)("button",{class:"btn-primary",onClick:a[2]||(a[2]=(...e)=>c.login&&c.login(...e))},(0,o.v_)(e.$t("loginButton")),1),(0,r.Lk)("div",Pe,[(0,r.eW)((0,o.v_)(e.$t("dontHaveAccount"))+" ",1),(0,r.bF)(d,{to:"/area-riservata/organizzatore-registrati"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("register")),1)]),_:1})])])])}var Fe={name:"OrganizzatoreLogin",data(){return{email:"",password:""}},methods:{async login(){try{const e=await(0,pe.x9)(I.j,this.email,this.password),a=await(0,A.x7)((0,A.H9)(I.db,"organizzatori",e.user.uid));console.log(a),localStorage.setItem("organizzatoreId",e.user.uid),this.$router.push({name:"AreaOrganizzatore"})}catch(e){console.log(e)}}},mounted(){}};const Re=(0,m.A)(Fe,[["render",xe],["__scopeId","data-v-74cf865c"]]);var Te=Re;const Se={class:"area-organizzatore"},Ve={class:"subtitle"},Ne={class:"form-container"},Xe={class:"form-group"},Be={for:"email_organizzatore"},je={class:"form-group"},De={for:"password_organizzatore"},He={class:"registrati-link"};function Je(e,a,t,i,s,c){const d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Se,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("register")),1),(0,r.Lk)("p",Ve,(0,o.v_)(e.$t("organizerRegisterText")),1)]),(0,r.Lk)("div",Ne,[(0,r.Lk)("div",Xe,[(0,r.Lk)("label",Be,(0,o.v_)(e.$t("email")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.email=e),type:"email",id:"email_organizzatore",placeholder:""},null,512),[[n.Jo,s.email]])]),(0,r.Lk)("div",je,[(0,r.Lk)("label",De,"$"+(0,o.v_)(e.$t("password")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),type:"password",id:"password_organizzatore",placeholder:""},null,512),[[n.Jo,s.password]])]),(0,r.Lk)("button",{class:"btn-primary",onClick:a[2]||(a[2]=(...e)=>c.addOrganizzatore&&c.addOrganizzatore(...e))},"Crea Account"),(0,r.Lk)("div",He,[(0,r.eW)((0,o.v_)(e.$t("alreadyHaveAccount"))+" ",1),(0,r.bF)(d,{to:"/area-riservata/organizzatore-login"},{default:(0,r.k6)(()=>[(0,r.eW)((0,o.v_)(e.$t("loginButton")),1)]),_:1})])])])}var We={name:"OrganizzatoreRegistrati",data(){return{email:"",password:""}},methods:{async addOrganizzatore(){try{const e=await(0,pe.eJ)(I.j,this.email,this.password);await(0,A.BN)((0,A.H9)(I.db,"organizzatori",e.user.uid),{email:this.email,createdAt:new Date}),this.$router.push("/area-riservata/area-organizzatore")}catch(e){console.error(e)}this.email="",this.password=""}}};const Me=(0,m.A)(We,[["render",Je],["__scopeId","data-v-43ef79ca"]]);var Ue=Me;function Ge(e,a,t,n,o,i){const s=(0,r.g2)("AddEvent");return(0,r.uX)(),(0,r.Wv)(s,{onEventoInserito:i.goToEventiOrganizzatore},null,8,["onEventoInserito"])}const Qe={class:"area-add-evento"},qe={class:"subtitle"},Ke={class:"form-container"},Ye={class:"form-group"},Ze={for:"nome_evento"},ea={class:"form-group"},aa={for:"data_evento"},ta={class:"form-group"},na={for:"password_convalidatori"},ra={class:"form-group upload"},oa={for:"inputGroupFile01"},ia={key:0,class:"alert-success"};function sa(e,a,t,i,s,c){return(0,r.uX)(),(0,r.CE)("div",Qe,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("addEvent")),1),(0,r.Lk)("p",qe,(0,o.v_)(e.$t("addEventText")),1)]),(0,r.Lk)("div",Ke,[(0,r.Lk)("div",Ye,[(0,r.Lk)("label",Ze,(0,o.v_)(e.$t("nameEvent")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.nome_evento=e),type:"text",id:"nome_evento",placeholder:"Summer Fest 2025"},null,512),[[n.Jo,s.nome_evento]])]),(0,r.Lk)("div",ea,[(0,r.Lk)("label",aa,(0,o.v_)(e.$t("dateEvent")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.data=e),type:"date",id:"data_evento"},null,512),[[n.Jo,s.data]])]),(0,r.Lk)("div",ta,[(0,r.Lk)("label",na,(0,o.v_)(e.$t("validatorsPassword")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>s.passwordConvalidatori=e),type:"text",id:"password_convalidatori",placeholder:""},null,512),[[n.Jo,s.passwordConvalidatori]]),a[5]||(a[5]=(0,r.Lk)("small",{class:"form-text"},"Fornisci questa password ai tuoi convalidatori per l’accesso.",-1))]),(0,r.Lk)("div",ra,[(0,r.Lk)("label",oa,(0,o.v_)(e.$t("imgCover")),1),(0,r.Lk)("input",{type:"file",id:"inputGroupFile01",onChange:a[3]||(a[3]=(...e)=>c.onFileChange&&c.onFileChange(...e)),class:"form-control"},null,32)]),s.aliasEvento?((0,r.uX)(),(0,r.CE)("div",ia,[(0,r.Lk)("p",null,(0,o.v_)(e.$t("successfullyInsertEvent")),1),(0,r.Lk)("p",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("aliasEventGenerated")),1),a[6]||(a[6]=(0,r.eW)()),(0,r.Lk)("span",null,(0,o.v_)(s.aliasEvento),1)])])):(0,r.Q3)("",!0),(0,r.Lk)("button",{class:"btn-primary btn-center",onClick:a[4]||(a[4]=(...e)=>c.inserisciEvento&&c.inserisciEvento(...e))},(0,o.v_)(e.$t("insertEvent")),1)])])}var ca=t(7844),da={name:"AddEvent",data(){return{nome_evento:"",data:"",emailOrganizzatore:"",idOrganizzatore:"",aliasEvento:"",passwordConvalidatori:"",imgCopertina:null}},methods:{async inserisciEvento(){this.emailOrganizzatore=localStorage.getItem("organizzatoreEmail"),this.idOrganizzatore=localStorage.getItem("organizzatoreId");let e="";if(this.imgCopertina){const a=(0,ca.KR)(I.I,`copertine/${this.imgCopertina.name}`);await(0,ca.D)(a,this.imgCopertina),e=await(0,ca.qk)(a)}const a={nome_evento:this.nome_evento,data:this.data,emailOrganizzatore:this.emailOrganizzatore,idOrganizzatore:this.idOrganizzatore,aliasEvento:this.nome_evento.slice(0,3)+this.data,passwordConvalidatori:this.passwordConvalidatori,imgCopertina:e};try{await(0,A.gS)((0,A.rJ)(I.db,"eventi"),a),this.aliasEvento=a.aliasEvento,this.data="",this.nome_evento="",this.$emit("eventoInserito")}catch(t){console.log(t)}},onFileChange(e){this.imgCopertina=e.target.files[0]}}};const la=(0,m.A)(da,[["render",sa],["__scopeId","data-v-54ea6364"]]);var va=la,ua={name:"AggiungiEvento",data(){return{}},components:{AddEvent:va},methods:{goToEventiOrganizzatore(){}}};const ga=(0,m.A)(ua,[["render",Ge]]);var pa=ga;const ma={class:"area-convalidatore"},ha={key:0,class:"subtitle"},fa={key:0,class:"form-container"},za={class:"form-group"},ka={for:"alias_evento"},Ea={class:"form-group"},La={for:"password_evento"},ba={class:"form-text"},_a={key:1,class:"scanner-section"},ya={key:0,class:"partecipante"},wa={class:"info"},Ca={class:"conferma"},Aa={key:0,class:"alert alert-warning"},Ia={key:1};function $a(e,a,t,i,s,c){const d=(0,r.g2)("ApriFotocamera");return(0,r.uX)(),(0,r.CE)("div",ma,[(0,r.Lk)("header",null,[(0,r.Lk)("h2",null,(0,o.v_)(e.$t("validatorArea")),1),s.isLogged?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("p",ha,(0,o.v_)(e.$t("validatorAreaText")),1))]),s.isLogged?((0,r.uX)(),(0,r.CE)("div",_a,[(0,r.bF)(d,{onEmitQRCode:c.gestisciQR},null,8,["onEmitQRCode"]),s.idPartecipante?((0,r.uX)(),(0,r.CE)("div",ya,[(0,r.Lk)("h4",null,(0,o.v_)(e.$t("infoParticipant")),1),(0,r.Lk)("div",wa,[(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("name"))+":",1),(0,r.eW)(" "+(0,o.v_)(s.datiPartecipante.nome),1)]),(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("surname"))+":",1),(0,r.eW)(" "+(0,o.v_)(s.datiPartecipante.cognome),1)]),(0,r.Lk)("div",null,[(0,r.Lk)("strong",null,(0,o.v_)(e.$t("dateOfBirth"))+":",1),(0,r.eW)(" "+(0,o.v_)(s.datiPartecipante.dataNascita),1)])]),(0,r.Lk)("div",Ca,[s.datiPartecipante.presenzaConfermata?((0,r.uX)(),(0,r.CE)("div",Aa,(0,o.v_)(e.$t("alreadyConfirmed")),1)):((0,r.uX)(),(0,r.CE)("div",Ia,[(0,r.Lk)("p",null,(0,o.v_)(e.$t("dataIsCorrectMessage")),1),(0,r.Lk)("button",{class:"btn-confirm",onClick:a[3]||(a[3]=(...e)=>c.confermaPartecipazione&&c.confermaPartecipazione(...e))},(0,o.v_)(e.$t("confirmPresence")),1)]))])])):(0,r.Q3)("",!0)])):((0,r.uX)(),(0,r.CE)("div",fa,[(0,r.Lk)("div",za,[(0,r.Lk)("label",ka,(0,o.v_)(e.$t("aliasEvent")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>s.evento=e),type:"text",id:"alias_evento",placeholder:""},null,512),[[n.Jo,s.evento]])]),(0,r.Lk)("div",Ea,[(0,r.Lk)("label",La,(0,o.v_)(e.$t("password")),1),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.password=e),type:"password",id:"password_evento",placeholder:""},null,512),[[n.Jo,s.password]])]),(0,r.Lk)("small",ba,(0,o.v_)(e.$t("credentialsFromOrganizer")),1),(0,r.Lk)("button",{class:"btn-primary",onClick:a[2]||(a[2]=(...e)=>c.convalidatoreLogin&&c.convalidatoreLogin(...e))},(0,o.v_)(e.$t("loginButton")),1)]))])}const Oa={class:"scanner-container"},Pa=["disabled"],xa={key:0,class:"video-wrapper"},Fa={ref:"video",autoplay:"",playsinline:""},Ra={ref:"canvas",class:"hidden-canvas"},Ta={key:1,class:"qr-result"},Sa={class:"code"};function Va(e,a,t,n,i,s){return(0,r.uX)(),(0,r.CE)("div",Oa,[(0,r.Lk)("button",{class:"btn-scan",onClick:a[0]||(a[0]=(...e)=>s.apriFotocamera&&s.apriFotocamera(...e)),disabled:i.scanning},(0,o.v_)(i.scanning?"Scansione in corso...":"Scannerizza QR Code"),9,Pa),i.scanning?((0,r.uX)(),(0,r.CE)("div",xa,[(0,r.Lk)("video",Fa,null,512),a[1]||(a[1]=(0,r.Lk)("div",{class:"scan-overlay"},null,-1))])):(0,r.Q3)("",!0),(0,r.Lk)("canvas",Ra,null,512),i.qrContent?((0,r.uX)(),(0,r.CE)("div",Ta,[a[2]||(a[2]=(0,r.Lk)("p",null,"QR Rilevato:",-1)),(0,r.Lk)("div",Sa,(0,o.v_)(i.qrContent),1)])):(0,r.Q3)("",!0)])}t(7588);var Na=t(8703),Xa=t.n(Na),Ba={name:"ApriFotocamera",data(){return{stream:null,qrContent:"",scanning:!1}},emits:["emitQRCode"],async mounted(){},methods:{async apriFotocamera(){try{this.scanning=!0,this.$nextTick(()=>{this.scanQR()}),this.stream=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),this.$refs.video.srcObject=this.stream}catch(e){console.error(e)}},async scanQR(){const e=this.$refs.video,a=this.$refs.canvas,t=a.getContext("2d"),n=()=>{if(this.scanning){if(e.readyState===e.HAVE_ENOUGH_DATA){a.width=e.videoWidth,a.height=e.videoHeight,t.drawImage(e,0,0,a.width,a.height);const n=t.getImageData(0,0,a.width,a.height),r=Xa()(n.data,n.width,n.height);r&&(this.$emit("emitQRCode",r.data),this.scanning=!1,this.stopCamera())}requestAnimationFrame(n)}};n()},stopCamera(){this.stream&&this.stream.getTracks().forEach(e=>e.stop())}},beforeUnmount(){this.stopCamera()}};const ja=(0,m.A)(Ba,[["render",Va],["__scopeId","data-v-45bab6c9"]]);var Da=ja,Ha={name:"AreaConvalidatore",data(){return{isLogged:null,evento:"",password:"",eventoId:"",idPartecipante:"",datiPartecipante:{nome:"",cognome:"",dataNascita:"",presenzaConfermata:null}}},components:{ApriFotocamera:Da},beforeMount(){this.isLogged=!1},methods:{async convalidatoreLogin(){const e=(0,A.P)((0,A.rJ)(I.db,"eventi"),(0,A._M)("aliasEvento","==",this.evento),(0,A._M)("passwordConvalidatori","==",this.password)),a=await(0,A.GG)(e);a.empty?alert("credenziali errate"):(this.eventoId=a.docs[0].id,localStorage.setItem("convalidatoreEvento",this.evento),localStorage.setItem("convalidatorePassword",this.password),localStorage.setItem("convalidatoreLogged","true"),this.isLogged=!0)},gestisciQR(e){this.idPartecipante=e,this.recuperaDatiPartecipante()},async recuperaDatiPartecipante(){try{const e=(0,A.H9)(I.db,"eventi",this.eventoId,"partecipanti",this.idPartecipante),a=await(0,A.x7)(e);if(a.exists()){const e=a.data();this.datiPartecipante={nome:e.nome,cognome:e.cognome,dataNascita:e.data_di_nascita,presenzaConfermata:e.presenzaConfermata}}}catch(e){console.log(e)}},async confermaPartecipazione(){const e=(0,A.H9)(I.db,"eventi",this.eventoId,"partecipanti",this.idPartecipante);try{await(0,A.mZ)(e,{presenzaConfermata:!0}),this.datiPartecipante.presenzaConfermata=!0}catch(a){console.log(a)}}}};const Ja=(0,m.A)(Ha,[["render",$a],["__scopeId","data-v-0be3632a"]]);var Wa=Ja;const Ma=[{path:"/",name:"IndexView",component:b},{path:"/home",name:"HomeView",component:B},{path:"/secondpage",name:"SecondPage",component:J},{path:"/evento/:eventoId",name:"EventoView",component:()=>t.e(874).then(t.bind(t,5874)),props:!0},{path:"/evento/:eventoId/:partecipanteId",name:"PartecipanteView",component:()=>t.e(778).then(t.bind(t,8778)),props:!0},{path:"/area-riservata",name:"AreaRiservata",component:oe},{path:"/area-riservata/area-organizzatore",name:"AreaOrganizzatore",component:fe,meta:{requiresAuth:!0}},{path:"/area-riservata/area-organizzatore/eventi-organizzatore",name:"EventiOrganizzatore",component:_e},{path:"/area-riservata/organizzatore-login",name:"OrganizzatoreLogin",component:Te},{path:"/area-riservata/organizzatore-registrati",name:"OrganizzatoreRegistrati",component:Ue},{path:"/area-riservata/area-organizzatore/aggiungi-evento",name:"AggiungiEvento",component:pa},{path:"/area-riservata/area-convalidatore",name:"AreaConvalidatore",component:Wa},{path:"/area-riservata/area-organizzatore/evento/:eventoId",name:"EventoOrganizzatore",component:()=>t.e(659).then(t.bind(t,2659)),props:!0}],Ua=(0,z.aE)({history:(0,z.Bt)("/easyticket/"),routes:Ma});function Ga(){return new Promise((e,a)=>{const t=(0,pe.hg)((0,pe.xI)(),a=>{t(),e(a)},a)})}Ua.beforeEach(async(e,a,t)=>{const n=await Ga();e.path.startsWith("/area-riservata/area-organizzatore")&&!n?t("/area-riservata/organizzatore-login"):e.path.startsWith("/area-riservata/organizzatore-login")&&n?t("/home"):t()});var Qa=Ua,qa=t(8974),Ka=(t(8077),JSON.parse('{"welcome":"Discover events dedicated to you","reservedAreaButtonNavbar":"RESERVED AREA","registerParticipantAtEvent":"Register for the event","name":"Name","surname":"Surname","dateOfBirth":"Date of Birth","joinButton":"Join","recoverTicketButton":"Retrieve Ticket","recoverTicketMessage":"If you want to retrieve your ticket, fill in the fields and press the Retrieve Ticket button","reservedArea":"Reserved Area","organizerArea":"Organizer Area","organizer":"Organizer","organizerText":"Create, manage and verify your events","loginButton":"Login","validator":"Validator","validatorText":"Verify and validate participants\' attendance","organizerAccess":"Organizer Access","organizerAccessText":"Login to manage your events","email":"Email","password":"Password","register":"Register","dontHaveAccount":"Don\'t have an account?","organizerRegisterText":"Create your organizer account","alreadyHaveAccount":"Already have an account?","validatorArea":"Validator Area","validatorAreaText":"Login to validate participants for the event","aliasEvent":"Event Alias","credentialsFromOrganizer":"Credentials are provided by the organizer.","infoParticipant":"Participant Details","alreadyConfirmed":"Attendance already confirmed","dataIsCorrectMessage":"Are the details correct?","confirmPresence":"Confirm Attendance","hiMessage":"Hi","addNewEvent":"Add a New Event","yourEvents":"Your Events","participants":"Participants","searchParticipant":"Search Participants","presenceConfirmed":"Attendance Confirmed","addEvent":"Add Event","addEventText":"Fill in the details to create a new event","nameEvent":"Event Name","dateEvent":"Event Date","validatorsPassword":"Validators Password","imgCover":"Cover Image","insertEvent":"Insert Event","successfullyInsertEvent":"Event inserted successfully!","aliasEventGenerated":"Alias generated:"}')),Ya=JSON.parse('{"welcome":"Scopri gli eventi dedicati a te","reservedAreaButtonNavbar":"AREA RISERVATA","registerParticipantAtEvent":"Registrati all\'evento","name":"Nome","surname":"Cognome","dateOfBirth":"Data di nascita","joinButton":"Partecipa","recoverTicketButton":"Recupera biglietto","recoverTicketMessage":"Se vuoi recuperare il tuo biglietto compila i campi e premi il pulsante Recupera Biglietto","reservedArea":"Area Riservata","organizerArea":"Area Organizzatore","organizer":"Organizzatore","organizerText":"Crea, gestisci e verifica i tuoi eventi","loginButton":"Accedi","validator":"Convalidatore","validatorText":"Verifica e convalida la presenza dei partecipanti","organizerAccess":"Accesso Organizzatore","organizerAccessText":"Accedi per gestire i tuoi eventi","email":"Email","password":"Password","register":"Registrati","dontHaveAccount":"Non hai un account?","organizerRegisterText":"Crea il tuo account organizzatore","alreadyHaveAccount":"Hai già un account?","validatorArea":"Area Convalidatore","validatorAreaText":"Accedi per convalidare i partecipanti all’evento","aliasEvent":"Alias Evento","credentialsFromOrganizer":"Le credenziali vengono fornite dall\'organizzatore.","infoParticipant":"Dettagli Partecipante","alreadyConfirmed":"Presenza già confermata","dataIsCorrectMessage":"I dati sono corretti?","confirmPresence":"Conferma Presenza","hiMessage":"Ciao","addNewEvent":"Aggiungi un nuovo evento","yourEvents":"I tuoi eventi","participants":"Partecipanti","searchParticipant":"Cerca partecipanti","presenceConfirmed":"Presenza Confermata","addEvent":"Aggiungi Evento","addEventText":"Compila i dati per creare un nuovo evento","nameEvent":"Nome Evento","dateEvent":"Data Evento","validatorsPassword":"Password Convalidatori","imgCover":"Immagine di copertina","insertEvent":"Inserisci Evento","successfullyInsertEvent":"Evento inserito correttamente!","aliasEventGenerated":"Alias generato:"}');const Za=(0,qa.hU)({legacy:!1,locale:"it",fallbackLocale:"en",messages:{it:Ya,en:Ka}}),et=(0,n.Ef)(f);et.use(Qa),et.use(Za),et.mount("#app")}},a={};function t(n){var r=a[n];if(void 0!==r)return r.exports;var o=a[n]={exports:{}};return e[n].call(o.exports,o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(a,n,r,o){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],o=e[l][2];for(var s=!0,c=0;c<n.length;c++)(!1&o||i>=o)&&Object.keys(t.O).every(function(e){return t.O[e](n[c])})?n.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(l--,1);var d=r();void 0!==d&&(a=d)}}return a}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[n,r,o]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var n in a)t.o(a,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:a[n]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce(function(a,n){return t.f[n](e,a),a},[]))}}(),function(){t.u=function(e){return"js/"+e+"."+{659:"addbef22",778:"6256ed84",874:"4dd2c42d"}[e]+".js"}}(),function(){t.miniCssF=function(e){return"css/"+e+"."+{659:"3f2d726f",778:"fe4e4349",874:"2cf99d21"}[e]+".css"}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={},a="easyticket:";t.l=function(n,r,o,i){if(e[n])e[n].push(r);else{var s,c;if(void 0!==o)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var v=d[l];if(v.getAttribute("src")==n||v.getAttribute("data-webpack")==a+o){s=v;break}}s||(c=!0,s=document.createElement("script"),s.charset="utf-8",t.nc&&s.setAttribute("nonce",t.nc),s.setAttribute("data-webpack",a+o),s.src=n),e[n]=[r];var u=function(a,t){s.onerror=s.onload=null,clearTimeout(g);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(function(e){return e(t)}),a)return a(t)},g=setTimeout(u.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=u.bind(null,s.onerror),s.onload=u.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/easyticket/"}(),function(){if("undefined"!==typeof document){var e=function(e,a,n,r,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",t.nc&&(i.nonce=t.nc);var s=function(t){if(i.onerror=i.onload=null,"load"===t.type)r();else{var n=t&&t.type,s=t&&t.target&&t.target.href||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+": "+s+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=s,i.parentNode&&i.parentNode.removeChild(i),o(c)}};return i.onerror=i.onload=s,i.href=a,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},a=function(e,a){for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++){var r=t[n],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===a))return r}var i=document.getElementsByTagName("style");for(n=0;n<i.length;n++){r=i[n],o=r.getAttribute("data-href");if(o===e||o===a)return r}},n=function(n){return new Promise(function(r,o){var i=t.miniCssF(n),s=t.p+i;if(a(i,s))return r();e(n,s,null,r,o)})},r={524:0};t.f.miniCss=function(e,a){var t={659:1,778:1,874:1};r[e]?a.push(r[e]):0!==r[e]&&t[e]&&a.push(r[e]=n(e).then(function(){r[e]=0},function(a){throw delete r[e],a}))}}}(),function(){var e={524:0};t.f.j=function(a,n){var r=t.o(e,a)?e[a]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(function(t,n){r=e[a]=[t,n]});n.push(r[2]=o);var i=t.p+t.u(a),s=new Error,c=function(n){if(t.o(e,a)&&(r=e[a],0!==r&&(e[a]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+a+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}};t.l(i,c,"chunk-"+a,a)}},t.O.j=function(a){return 0===e[a]};var a=function(a,n){var r,o,i=n[0],s=n[1],c=n[2],d=0;if(i.some(function(a){return 0!==e[a]})){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(c)var l=c(t)}for(a&&a(n);d<i.length;d++)o=i[d],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(l)},n=self["webpackChunkeasyticket"]=self["webpackChunkeasyticket"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],function(){return t(9939)});n=t.O(n)})();
//# sourceMappingURL=app.2ed374e9.js.map