"use strict";(self["webpackChunkeasyticket"]=self["webpackChunkeasyticket"]||[]).push([[190],{9190:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var n=a(6768),i=a(4232),c=a(5130);const o={key:0,class:"mt-5"},s={class:"search-wrapper"},l={class:"partecipanti"},r={class:"table table-striped"},p={scope:"row"},u={key:0},d={key:1};function k(e,t,a,k,L,h){return(0,n.uX)(),(0,n.CE)(n.FK,null,[L.evento?((0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("h3",null,(0,i.v_)(L.evento.nome_evento),1),(0,n.Lk)("div",null,(0,i.v_)(L.evento.data),1)])):(0,n.Q3)("",!0),t[5]||(t[5]=(0,n.Lk)("div",{class:"partecipanti-label"},"Partecipanti",-1)),(0,n.Lk)("div",s,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>L.screaming=e),placeholder:"Cerca partecipante per nome o cognome...",class:"search-input"},null,512),[[c.Jo,L.screaming]]),L.screaming?((0,n.uX)(),(0,n.CE)("span",{key:0,class:"clear-btn",onClick:t[1]||(t[1]=e=>L.screaming="")},"Ã—")):(0,n.Q3)("",!0)]),(0,n.Lk)("div",l,[(0,n.Lk)("table",r,[t[4]||(t[4]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{scope:"col"},"#"),(0,n.Lk)("th",{scope:"col"},"Nome"),(0,n.Lk)("th",{scope:"col"},"Cognome"),(0,n.Lk)("th",{scope:"col"},"Data di Nascita"),(0,n.Lk)("th",{scope:"col"},"Presenza confermata")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(h.partecipantiFiltrati,(e,a)=>((0,n.uX)(),(0,n.CE)("tr",{key:e.id},[(0,n.Lk)("th",p,(0,i.v_)(a+1),1),(0,n.Lk)("td",null,(0,i.v_)(e.nome),1),(0,n.Lk)("td",null,(0,i.v_)(e.cognome),1),(0,n.Lk)("td",null,(0,i.v_)(e.data_di_nascita),1),e.presenzaConfermata?((0,n.uX)(),(0,n.CE)("td",u,t[2]||(t[2]=[(0,n.Lk)("i",{class:"bi bi-check-square-fill"},null,-1)]))):((0,n.uX)(),(0,n.CE)("td",d,t[3]||(t[3]=[(0,n.Lk)("i",{class:"bi bi-ban"},null,-1)])))]))),128))])])])],64)}a(8111),a(2489),a(1701);var L=a(5697),h=a(7617),m={name:"EventoOrganizzatore",props:["eventoId"],data(){return{evento:null,partecipanti:[],screaming:""}},methods:{async fetchDatiEvento(){try{const e=(0,h.H9)(L.db,"eventi",this.eventoId),t=await(0,h.x7)(e);t.exists()&&(this.evento=t.data());const a=(0,h.rJ)(L.db,"eventi",this.eventoId,"partecipanti"),n=await(0,h.GG)(a);n.empty?this.partecipanti=[]:this.partecipanti=n.docs.map(e=>({id:e.id,...e.data()}))}catch(e){console.log(e)}}},computed:{partecipantiFiltrati(){if(!this.screaming)return this.partecipanti;let e=this.screaming.toLocaleLowerCase();return e=e.trim(),this.partecipanti.filter(t=>{let a=t.nome.toLocaleLowerCase()+" "+t.cognome.toLocaleLowerCase(),n=t.cognome.toLocaleLowerCase()+" "+t.nome.toLocaleLowerCase();return a.includes(e)||n.includes(e)})}},mounted(){this.fetchDatiEvento()}},v=a(1241);const C=(0,v.A)(m,[["render",k],["__scopeId","data-v-7594f95c"]]);var b=C}}]);
//# sourceMappingURL=190.eef52f53.js.map