{"version":3,"file":"js/291.4eab033f.js","mappings":"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","sources":["webpack://easyticket/./views/EventoView.vue","webpack://easyticket/./views/EventoView.vue?83d7"],"sourcesContent":["<template>\n    <div class=\"background\">\n        <div class=\"wrapper\">\n\n            <div v-if=\"evento\" class=\"evento-dettagli-wrapper mt-5\">\n                <img :src=\"imgCopertinaURL\" alt=\"\">\n\n                <div class=\"evento-info\">\n                    <h1 class=\"evento-titolo\"> {{ evento.nome_evento }}</h1>\n                    <h5 class=\"evento-data\"> {{ invertiData(evento.data )}} </h5>\n                    <div \n  class=\"leftDaysToBook\" \n  :class=\"{\n    danger: daysLeftToBook <= 0,\n    warning: daysLeftToBook > 0 && daysLeftToBook <= 3,\n    ok: daysLeftToBook > 3\n  }\"\n>\n  <template v-if=\"daysLeftToBook > 0\">\n    {{ $t(\"in\") }} {{ daysLeftToBook }} {{ $t(\"days\") }}\n  </template>\n\n  <template v-else>\n    {{ $t(\"eventExpired\") }}\n  </template>\n</div>\n\n\n                    <p class=\"evento-artisti\">{{ evento.artists }}</p>\n\n                    <p class=\"evento-descrizione\">\n                        {{ evento.description }}\n                    </p>\n                </div>\n            </div>\n\n            <form class=\"partecipante-form\">\n                <h4 class=\"mb-4\">{{ $t(\"registerParticipantAtEvent\") }}</h4>\n\n                <div class=\"mb-3\">\n                    <label for=\"nome_partecipante\" class=\"form-label\">{{ $t(\"name\") }}</label>\n                    <input v-model=\"nome\" type=\"text\" class=\"form-control\" id=\"nome_partecipante\" />\n                </div>\n\n                <div class=\"mb-3\">\n                    <label for=\"cognome_partecipante\" class=\"form-label\">{{ $t(\"surname\") }}</label>\n                    <input v-model=\"cognome\" type=\"text\" class=\"form-control\" />\n                </div>\n\n                <div class=\"mb-3\">\n                    <label for=\"data_nascita_partecipante\" class=\"form-label\">{{ $t(\"dateOfBirth\") }}</label>\n                    <input v-model=\"data_di_nascita\" type=\"date\" id=\"data_nascita_partecipante\" class=\"form-control\">\n                </div>\n\n                <button type=\"button\" @click=\"aggiungiPartecipante\" class=\"btn btn-primary mt-4\">\n                    {{ $t(\"joinButton\") }}\n                </button>\n\n                <button type=\"button\" @click=\"recuperaBiglietto\" class=\"btn btn-outline-light mt-3 btn-sm\">\n                    {{ $t(\"recoverTicketButton\") }}\n                </button>\n\n                <div class=\"form-text\">{{ $t(\"recoverTicketMessage\") }}</div>\n            </form>\n\n        </div>\n    </div>\n</template>\n\n<style>\n.background {\n  background-color: #0C2B4E;\n  min-height: 100vh;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #F4F4F4;\n  padding: 60px 20px;\n}\n\n.wrapper {\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  gap: 80px;\n  flex-wrap: wrap-reverse;\n  max-width: 1200px;\n  width: 100%;\n}\n\n/* --- DETTAGLI EVENTO --- */\n.evento-dettagli-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n\n.evento-dettagli-wrapper img {\n  width: 450px;\n  height: 300px;\n  object-fit: cover;\n  border-radius: 12px;\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);\n}\n\n/* WRAPPER INFO + ALERT A DESTRA */\n.evento-info {\n  margin-top: 20px;\n  width: 100%;\n  max-width: 500px;\n  position: relative;\n  text-align: center;\n}\n\n/* TITOLO */\n.evento-titolo {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #fff;\n}\n\n/* DATA */\n.evento-data {\n  font-size: 1.1rem;\n  font-weight: 500;\n  color: #cfe0ec;\n  margin-top: 4px;\n}\n\n/* ALERT \"LEFT DAYS TO BOOK\" */\n.leftDaysToBook {\n  position: absolute;\n  right: -20px;\n  top: 0;\n  padding: 10px 16px;\n  border-radius: 10px;\n  font-weight: 600;\n  font-size: 0.9rem;\n  backdrop-filter: blur(6px);\n  white-space: nowrap;\n  box-shadow: 0px 4px 12px rgba(0,0,0,0.25);\n}\n\n/* EVENTO PASSATO */\n.leftDaysToBook.danger {\n  background: rgba(255, 80, 80, 0.25);\n  border: 1px solid rgba(255, 80, 80, 0.45);\n  color: #ffd4d4;\n}\n\n/* EVENTO VICINO */\n.leftDaysToBook.warning {\n  background: rgba(255, 200, 90, 0.25);\n  border: 1px solid rgba(255, 200, 90, 0.45);\n  color: #ffeccc;\n}\n\n/* EVENTO LONTANO */\n.leftDaysToBook.ok {\n  background: rgba(70, 190, 120, 0.25);\n  border: 1px solid rgba(70, 190, 120, 0.45);\n  color: #e1ffec;\n}\n\n/* ARTISTI */\n.evento-artisti {\n  margin-top: 12px;\n  font-size: 1.15rem;\n  font-weight: 600;\n  color: #ffffff;\n  opacity: 0.9;\n}\n\n/* DESCRIZIONE */\n.evento-descrizione {\n  margin-top: 12px;\n  font-size: 0.95rem;\n  line-height: 1.5rem;\n  color: #d5dfe8;\n  max-width: 600px;\n}\n\n/* --- FORM --- */\n.partecipante-form {\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 12px;\n  padding: 40px 50px;\n  box-shadow: 0 5px 18px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 420px;\n  backdrop-filter: blur(8px);\n}\n\n.partecipante-form h4 {\n  margin-bottom: 25px;\n  font-weight: 600;\n  color: #fff;\n}\n\n.mb-3 {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin-bottom: 20px;\n}\n\n.mb-3 label {\n  font-size: 0.95rem;\n  color: #d7e7f3;\n  margin-bottom: 6px;\n}\n\n.mb-3 input {\n  width: 100%;\n  border: none;\n  border-radius: 6px;\n  padding: 10px 12px;\n  outline: none;\n  background-color: rgba(255, 255, 255, 0.9);\n  color: #0C2B4E;\n  font-weight: 500;\n}\n\n.mb-3 input:focus {\n  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.3);\n}\n\n/* --- BOTTONI --- */\n.btn {\n  width: 100%;\n  border-radius: 6px;\n  padding: 10px 0;\n  font-weight: 600;\n  transition: all 0.25s ease-in-out;\n  cursor: pointer;\n}\n\n.btn-primary {\n  background-color: #1B74BB;\n  border: none;\n  color: #fff;\n}\n\n.btn-primary:hover {\n  background-color: #155f99;\n}\n\n.btn-outline-light {\n  border: 1.5px solid #e6eef5;\n  background-color: transparent;\n  color: #f4f4f4;\n}\n\n.btn-outline-light:hover {\n  background-color: rgba(255, 255, 255, 0.15);\n}\n\n/* --- TESTO INFORMATIVO --- */\n.form-text {\n  font-size: 0.85rem;\n  margin-top: 10px;\n  text-align: center;\n  color: #e0e0e0;\n  line-height: 1.3;\n  width: 80%;\n}\n\n/* --- RESPONSIVE --- */\n@media (max-width: 768px) {\n  .wrapper {\n    flex-direction: column-reverse;\n    gap: 40px;\n    padding: 30px 20px;\n    align-items: center;\n  }\n\n  .evento-dettagli-wrapper img {\n    width: 100%;\n    max-width: 360px;\n    height: 240px;\n  }\n\n  .evento-descrizione {\n    max-width: 90%;\n  }\n\n  .partecipante-form {\n    width: 100%;\n    max-width: 360px;\n    padding: 30px;\n  }\n\n  /* ALERT VA SOTTO IN MOBILE */\n  .leftDaysToBook {\n    position: static;\n    margin-top: 12px;\n    width: 100%;\n    text-align: center;\n  }\n\n  .evento-info {\n    text-align: center;\n  }\n}\n\n</style>\n\n<script>\nimport { getDoc, doc, addDoc, collection, query, where, getDocs } from 'firebase/firestore'\nimport { db } from '../firebase/firebase'\nimport { invertiData } from '@/utils/dateUtils';\n\nexport default {\n    name: \"EventoView\",\n    props: ['eventoId'],\n    data() {\n        return {\n            evento: null,\n            nome: \"\",\n            cognome: \"\",\n            data_di_nascita: \"\",\n            presenzaConfermata: false,\n            imgCopertinaURL: \"\",\n            daysLeftToBook: \"\",\n        }\n    },\n    async mounted() {\n        try {\n            const docRef = doc(db, 'eventi', this.eventoId)\n            const docSnap = await getDoc(docRef)\n\n            if (docSnap.exists()) {\n                this.evento = docSnap.data()\n                this.imgCopertinaURL = this.evento.imgCopertina;\n                const dif = new Date(this.evento.data) - (new Date)\n                this.daysLeftToBook = Math.ceil(dif / (1000 * 60 * 60 * 24))\n            }\n        } catch (error) {\n            console.log(error)\n        }\n\n    },\n    methods: {\n        invertiData,\n        async aggiungiPartecipante() {\n            try {\n              const partecipanteRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\")\n            let partecipanteId;\n\n            console.log(\"ci sono\")\n\n            const docRef = await addDoc(partecipanteRef, {\n                nome: this.nome,\n                cognome: this.cognome,\n                data_di_nascita: this.data_di_nascita,\n                presenzaConfermata: this.presenzaConfermata,\n            });\n\n            partecipanteId = docRef.id;\n\n            this.nome = \"\";\n            this.cognome = \"\";\n            this.data_di_nascita = \"\";\n\n            this.$router.push({\n                name: \"PartecipanteView\",\n                params: {\n                    eventoId: this.eventoId,\n                    partecipanteId: partecipanteId,\n                }\n            })\n            } catch(error) {\n              console.log(error);\n            }\n        },\n        async recuperaBiglietto() {\n\n            const partecipantiRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\");\n\n            const q = query(\n                partecipantiRef,\n                where(\"nome\", \"==\", this.nome),\n                where(\"cognome\", \"==\", this.cognome),\n                where(\"data_di_nascita\", \"==\", this.data_di_nascita)\n            );\n\n            const snapshot = await getDocs(q);\n\n            if (!snapshot.empty) {\n                this.partecipanteId = snapshot.id;\n                this.$router.push({\n                    name: \"PartecipanteView\",\n                    params: {\n                        eventoId: this.eventoId,\n                        partecipanteId: snapshot.docs[0].id,\n                    }\n\n                })\n            }\n        }\n    }\n}\n</script>","import { render } from \"./EventoView.vue?vue&type=template&id=698c5060\"\nimport script from \"./EventoView.vue?vue&type=script&lang=js\"\nexport * from \"./EventoView.vue?vue&type=script&lang=js\"\n\nimport \"./EventoView.vue?vue&type=style&index=0&id=698c5060&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","for","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","evento","_hoisted_3","src","imgCopertinaURL","alt","_hoisted_5","_hoisted_6","_toDisplayString","nome_evento","_hoisted_7","$options","invertiData","data","_normalizeClass","daysLeftToBook","_Fragment","key","_ctx","$t","_hoisted_8","artists","_hoisted_9","description","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","nome","$event","type","id","_hoisted_14","_hoisted_15","cognome","_hoisted_16","_hoisted_17","data_di_nascita","onClick","_cache","args","aggiungiPartecipante","recuperaBiglietto","_hoisted_18","name","props","presenzaConfermata","mounted","docRef","doc","db","this","eventoId","docSnap","getDoc","exists","imgCopertina","dif","Date","Math","ceil","error","console","log","methods","partecipanteRef","collection","partecipanteId","addDoc","$router","push","params","partecipantiRef","q","query","where","snapshot","getDocs","empty","docs","__exports__","render"],"sourceRoot":""}