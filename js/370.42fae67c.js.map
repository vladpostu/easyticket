{"version":3,"file":"js/370.42fae67c.js","mappings":"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","sources":["webpack://easyticket/./views/EventoView.vue","webpack://easyticket/./views/EventoView.vue?83d7"],"sourcesContent":["<template>\n    <div class=\"background\">\n        <div class=\"wrapper\">\n            <div v-if=\"evento\" class=\"evento-dettagli-wrapper mt-5\">\n                <img :src=\"imgCopertinaURL\" alt=\"\">\n                <div>\n                    <h1 class=\"mt-3\"> {{ evento.nome_evento }}</h1>\n                    <h5> {{ evento.data }} </h5>\n                </div>\n            </div>\n            <form class=\"partecipante-form\">\n                <h4 class=\"mb-4\">Registrati all'evento</h4>\n                <div class=\"mb-3\">\n                    <label for=\"nome_partecipante\" class=\"form-label\">Nome</label>\n                    <input v-model=\"nome\" type=\"text\" placeholder=\"\" class=\"form-control\" id=\"nome_partecipante\" />\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"cognome_partecipante\" class=\"form-label\">Cognome</label>\n                    <input v-model=\"cognome\" type=\"text\" placeholder=\"\" class=\"form-control\" />\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"data_nascita_partecipante\" class=\"form-label\">Data di nascita </label>\n                    <input v-model=\"data_di_nascita\" type=\"date\" placeholder=\"\" id=\"data_nascita_partecipante\"\n                        class=\"form-control\">\n                </div>\n                <button @click=\"aggiungiPartecipante\" class=\"btn btn-primary mt-4\">Partecipa</button>\n                <button @click=\"recuperaBiglietto\" class=\"btn btn-outline-light mt-3 btn-sm\">Recupera\n                    biglietto</button>\n                <div class=\"form-text\" style=\"width: 200px;\">Se vuoi recuperare il tuo biglietto compila i campi e premi il pulsante \"Recupera\n                    Biglietto\"\n                </div>\n            </form>\n        </div>\n    </div>\n\n</template>\n\n<style scoped>\n.evento-dettagli-wrapper {\n    display: flex;\n    flex-direction: column;\n}\n\n.evento-dettagli-wrapper img {\n    width: 500px;\n}\n\n.wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    gap: 50px;\n    flex-wrap: wrap-reverse;\n    padding: 50px;\n}\n\n.partecipante-form {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 500px;\n}\n\n.mb-3 input {\n    width: 250px;\n}\n\n.mb-3 label {\n    margin-left: 8px;\n}\n\n.mb-3 {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n\n.background {\n    background-color: #1D546C;\n    position: absolute;\n    width: 100vw;\n}\n\n.wrapper {\n    color: #F4F4F4 !important;\n}\n\ndiv {\n    color: #F4F4F4 !important;\n}\n</style>\n\n<script>\nimport { getDoc, doc, addDoc, collection, query, where, getDocs } from 'firebase/firestore'\nimport { db } from '../firebase/firebase'\n\nexport default {\n    name: \"EventoView\",\n    props: ['eventoId'],\n    data() {\n        return {\n            evento: null,\n            nome: \"\",\n            cognome: \"\",\n            data_di_nascita: \"\",\n            presenzaConfermata: false,\n            imgCopertinaURL: \"\",\n        }\n    },\n    async mounted() {\n        try {\n            const docRef = doc(db, 'eventi', this.eventoId)\n            const docSnap = await getDoc(docRef)\n\n            if (docSnap.exists()) {\n                this.evento = docSnap.data()\n                this.imgCopertinaURL = this.evento.imgCopertina;\n            }\n        } catch (error) {\n            console.log(error)\n        }\n    },\n    methods: {\n        async aggiungiPartecipante() {\n            const partecipanteRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\")\n            var partecipanteId = this.nome + \"_\" + this.cognome\n\n            const docRef = await addDoc(partecipanteRef, {\n                nome: this.nome,\n                cognome: this.cognome,\n                data_di_nascita: this.data_di_nascita,\n                presenzaConfermata: this.presenzaConfermata\n            });\n\n            partecipanteId = docRef.id;\n\n            this.nome = \"\";\n            this.cognome = \"\";\n            this.data_di_nascita = \"\";\n\n            this.$router.push({\n                name: \"PartecipanteView\",\n                params: {\n                    eventoId: this.eventoId,\n                    partecipanteId: partecipanteId,\n                }\n            })\n        },\n        async recuperaBiglietto() {\n\n            const partecipantiRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\");\n\n            const q = query(\n                partecipantiRef,\n                where(\"nome\", \"==\", this.nome),\n                where(\"cognome\", \"==\", this.cognome),\n                where(\"data_di_nascita\", \"==\", this.data_di_nascita)\n            );\n\n            const snapshot = await getDocs(q);\n\n            if (!snapshot.empty) {\n                this.partecipanteId = snapshot.id;\n                this.$router.push({\n                    name: \"PartecipanteView\",\n                    params: {\n                        eventoId: this.eventoId,\n                        partecipanteId: snapshot.docs[0].id,\n                    }\n\n                })\n            }\n        }\n    }\n}\n</script>","import { render } from \"./EventoView.vue?vue&type=template&id=fedabc50&scoped=true\"\nimport script from \"./EventoView.vue?vue&type=script&lang=js\"\nexport * from \"./EventoView.vue?vue&type=script&lang=js\"\n\nimport \"./EventoView.vue?vue&type=style&index=0&id=fedabc50&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-fedabc50\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","evento","_hoisted_3","src","imgCopertinaURL","alt","_hoisted_5","_toDisplayString","nome_evento","data","_hoisted_6","_hoisted_7","for","nome","$event","type","placeholder","id","_hoisted_8","cognome","_hoisted_9","data_di_nascita","onClick","_cache","args","$options","aggiungiPartecipante","recuperaBiglietto","style","name","props","presenzaConfermata","mounted","docRef","doc","db","this","eventoId","docSnap","getDoc","exists","imgCopertina","error","console","log","methods","partecipanteRef","collection","partecipanteId","addDoc","$router","push","params","partecipantiRef","q","query","where","snapshot","getDocs","empty","docs","__exports__","render"],"sourceRoot":""}