"use strict";(self["webpackChunkeasyticket"]=self["webpackChunkeasyticket"]||[]).push([[370],{370:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var n=a(6768),i=a(4232),o=a(5130);const s={class:"background"},c={class:"wrapper"},r={key:0,class:"evento-dettagli-wrapper mt-5"},l=["src"],p={class:"mt-3"},d={class:"partecipante-form"},m={class:"mb-3"},u={class:"mb-3"},h={class:"mb-3"};function g(e,t,a,g,v,_){return(0,n.uX)(),(0,n.CE)("div",s,[(0,n.Lk)("div",c,[v.evento?((0,n.uX)(),(0,n.CE)("div",r,[(0,n.Lk)("img",{src:v.imgCopertinaURL,alt:""},null,8,l),(0,n.Lk)("div",null,[(0,n.Lk)("h1",p,(0,i.v_)(v.evento.nome_evento),1),(0,n.Lk)("h5",null,(0,i.v_)(v.evento.data),1)])])):(0,n.Q3)("",!0),(0,n.Lk)("form",d,[t[8]||(t[8]=(0,n.Lk)("h4",{class:"mb-4"},"Registrati all'evento",-1)),(0,n.Lk)("div",m,[t[5]||(t[5]=(0,n.Lk)("label",{for:"nome_partecipante",class:"form-label"},"Nome",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>v.nome=e),type:"text",placeholder:"",class:"form-control",id:"nome_partecipante"},null,512),[[o.Jo,v.nome]])]),(0,n.Lk)("div",u,[t[6]||(t[6]=(0,n.Lk)("label",{for:"cognome_partecipante",class:"form-label"},"Cognome",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>v.cognome=e),type:"text",placeholder:"",class:"form-control"},null,512),[[o.Jo,v.cognome]])]),(0,n.Lk)("div",h,[t[7]||(t[7]=(0,n.Lk)("label",{for:"data_nascita_partecipante",class:"form-label"},"Data di nascita ",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>v.data_di_nascita=e),type:"date",placeholder:"",id:"data_nascita_partecipante",class:"form-control"},null,512),[[o.Jo,v.data_di_nascita]])]),(0,n.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>_.aggiungiPartecipante&&_.aggiungiPartecipante(...e)),class:"btn btn-primary mt-4"},"Partecipa"),(0,n.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>_.recuperaBiglietto&&_.recuperaBiglietto(...e)),class:"btn btn-outline-light mt-3 btn-sm"},"Recupera biglietto"),t[9]||(t[9]=(0,n.Lk)("div",{class:"form-text",style:{width:"200px"}},'Se vuoi recuperare il tuo biglietto compila i campi e premi il pulsante "Recupera Biglietto" ',-1))])])])}a(4114);var v=a(7617),_=a(5697),b={name:"EventoView",props:["eventoId"],data(){return{evento:null,nome:"",cognome:"",data_di_nascita:"",presenzaConfermata:!1,imgCopertinaURL:""}},async mounted(){try{const e=(0,v.H9)(_.db,"eventi",this.eventoId),t=await(0,v.x7)(e);t.exists()&&(this.evento=t.data(),this.imgCopertinaURL=this.evento.imgCopertina)}catch(e){console.log(e)}},methods:{async aggiungiPartecipante(){const e=(0,v.rJ)(_.db,"eventi",this.eventoId,"partecipanti");var t=this.nome+"_"+this.cognome;const a=await(0,v.gS)(e,{nome:this.nome,cognome:this.cognome,data_di_nascita:this.data_di_nascita,presenzaConfermata:this.presenzaConfermata});t=a.id,this.nome="",this.cognome="",this.data_di_nascita="",this.$router.push({name:"PartecipanteView",params:{eventoId:this.eventoId,partecipanteId:t}})},async recuperaBiglietto(){const e=(0,v.rJ)(_.db,"eventi",this.eventoId,"partecipanti"),t=(0,v.P)(e,(0,v._M)("nome","==",this.nome),(0,v._M)("cognome","==",this.cognome),(0,v._M)("data_di_nascita","==",this.data_di_nascita)),a=await(0,v.GG)(t);a.empty||(this.partecipanteId=a.id,this.$router.push({name:"PartecipanteView",params:{eventoId:this.eventoId,partecipanteId:a.docs[0].id}}))}}},k=a(1241);const f=(0,k.A)(b,[["render",g],["__scopeId","data-v-fedabc50"]]);var L=f}}]);
//# sourceMappingURL=370.42fae67c.js.map