{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"background .bg-info-subtle\"\n};\nconst _hoisted_2 = {\n  class: \"wrapper\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"evento-dettagli-wrapper mt-5\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"partecipante-form\"\n};\nconst _hoisted_6 = {\n  class: \"mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"mb-3\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [$data.evento ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    src: $data.imgCopertinaURL,\n    alt: \"\"\n  }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"div\", null, [_createElementVNode(\"h1\", null, _toDisplayString($data.evento.nome_evento), 1 /* TEXT */), _createElementVNode(\"h5\", null, _toDisplayString($data.evento.data), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"form\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"nome_partecipante\",\n    class: \"form-label\"\n  }, \"Nome\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.nome = $event),\n    type: \"text\",\n    placeholder: \"\",\n    class: \"form-control\",\n    id: \"nome_partecipante\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nome]])]), _createElementVNode(\"div\", _hoisted_7, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"cognome_partecipante\",\n    class: \"form-label\"\n  }, \"Cognome\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.cognome = $event),\n    type: \"text\",\n    placeholder: \"\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.cognome]])]), _createElementVNode(\"div\", _hoisted_8, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"data_nascita_partecipante\",\n    class: \"form-labels\"\n  }, \"Data di nascita \", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.data_di_nascita = $event),\n    type: \"date\",\n    placeholder: \"\",\n    id: \"data_nascita_partecipante\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.data_di_nascita]])]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.aggiungiPartecipante && $options.aggiungiPartecipante(...args)),\n    class: \"btn btn-primary\"\n  }, \"Partecipa\"), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.recuperaBiglietto && $options.recuperaBiglietto(...args)),\n    class: \"btn btn-outline-secondary mt-3 btn-sm\"\n  }, \"Recupera biglietto\"), _cache[8] || (_cache[8] = _createElementVNode(\"div\", {\n    class: \"form-text\"\n  }, \"Se vuoi recuperare un biglietto compila i campi e premi il pulsante \\\"Recupera Biglietto\\\" \", -1 /* CACHED */)), _cache[9] || (_cache[9] = _createElementVNode(\"small\", null, null, -1 /* CACHED */))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","evento","_hoisted_3","src","imgCopertinaURL","alt","_toDisplayString","nome_evento","data","_hoisted_5","_hoisted_6","for","nome","$event","type","placeholder","id","_hoisted_7","cognome","_hoisted_8","data_di_nascita","onClick","_cache","args","$options","aggiungiPartecipante","recuperaBiglietto"],"sources":["/Users/vladpostu/Desktop/easyticket/views/EventoView.vue"],"sourcesContent":["<template>\n    <div class=\"background .bg-info-subtle\">\n        <div class=\"wrapper\">\n            <div v-if=\"evento\" class=\"evento-dettagli-wrapper mt-5\">\n                <img :src=\"imgCopertinaURL\" alt=\"\">\n                <div>\n                    <h1> {{ evento.nome_evento }}</h1>\n                    <h5> {{ evento.data }} </h5>\n                </div>\n            </div>\n            <form class=\"partecipante-form\">\n                <div class=\"mb-3\">\n                    <label for=\"nome_partecipante\" class=\"form-label\">Nome</label>\n                    <input v-model=\"nome\" type=\"text\" placeholder=\"\" class=\"form-control\" id=\"nome_partecipante\" />\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"cognome_partecipante\" class=\"form-label\">Cognome</label>\n                    <input v-model=\"cognome\" type=\"text\" placeholder=\"\" class=\"form-control\" />\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"data_nascita_partecipante\" class=\"form-labels\">Data di nascita </label>\n                    <input v-model=\"data_di_nascita\" type=\"date\" placeholder=\"\" id=\"data_nascita_partecipante\"\n                        class=\"form-control\">\n                </div>\n                <button @click=\"aggiungiPartecipante\" class=\"btn btn-primary\">Partecipa</button>\n                <button @click=\"recuperaBiglietto\" class=\"btn btn-outline-secondary mt-3 btn-sm\">Recupera\n                    biglietto</button>\n                <div class=\"form-text\">Se vuoi recuperare un biglietto compila i campi e premi il pulsante \"Recupera\n                    Biglietto\"\n                </div>\n                <small></small>\n            </form>\n        </div>\n    </div>\n\n</template>\n\n<style scoped>\n.evento-dettagli-wrapper {\n    display: flex;\n    flex-direction: column;\n}\n\n.evento-dettagli-wrapper img {\n    width: 500px;\n}\n\n.wrapper {\n    display: flex;\n    flex-direction: row;\n    width: 900px;\n    border: 1px solid black;\n    position: relative;\n    left: 50%;\n    transform: translateX(-50%);\n    justify-content: space-b;\n}\n\n.partecipante-form {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 500px;\n}\n\n.mb-3 input {\n    width: 200px;\n}\n\n.mb-3 label {\n    margin-left: 8px;\n}\n\n.mb-3 {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n\n.background {\n\n}\n</style>\n\n<script>\nimport { getDoc, doc, addDoc, collection, query, where, getDocs } from 'firebase/firestore'\nimport { db } from '../firebase/firebase'\n\nexport default {\n    name: \"EventoView\",\n    props: ['eventoId'],\n    data() {\n        return {\n            evento: null,\n            nome: \"\",\n            cognome: \"\",\n            data_di_nascita: \"\",\n            presenzaConfermata: false,\n            imgCopertinaURL: \"\",\n        }\n    },\n    async mounted() {\n        try {\n            const docRef = doc(db, 'eventi', this.eventoId)\n            const docSnap = await getDoc(docRef)\n\n            if (docSnap.exists()) {\n                this.evento = docSnap.data()\n                this.imgCopertinaURL = this.evento.imgCopertina;\n            }\n        } catch (error) {\n            console.log(error)\n        }\n    },\n    methods: {\n        async aggiungiPartecipante() {\n            const partecipanteRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\")\n            var partecipanteId = this.nome + \"_\" + this.cognome\n\n            const docRef = await addDoc(partecipanteRef, {\n                nome: this.nome,\n                cognome: this.cognome,\n                data_di_nascita: this.data_di_nascita,\n                presenzaConfermata: this.presenzaConfermata\n            });\n\n            partecipanteId = docRef.id;\n\n            this.nome = \"\";\n            this.cognome = \"\";\n            this.data_di_nascita = \"\";\n\n            this.$router.push({\n                name: \"PartecipanteView\",\n                params: {\n                    eventoId: this.eventoId,\n                    partecipanteId: partecipanteId,\n                }\n            })\n        },\n        async recuperaBiglietto() {\n\n            const partecipantiRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\");\n\n            const q = query(\n                partecipantiRef,\n                where(\"nome\", \"==\", this.nome),\n                where(\"cognome\", \"==\", this.cognome),\n                where(\"data_di_nascita\", \"==\", this.data_di_nascita)\n            );\n\n            const snapshot = await getDocs(q);\n\n            if (!snapshot.empty) {\n                this.partecipanteId = snapshot.id;\n                this.$router.push({\n                    name: \"PartecipanteView\",\n                    params: {\n                        eventoId: this.eventoId,\n                        partecipanteId: snapshot.docs[0].id,\n                    }\n\n                })\n            }\n        }\n    }\n}\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAA4B;;EAC9BA,KAAK,EAAC;AAAS;;;EACGA,KAAK,EAAC;;;;EAOnBA,KAAK,EAAC;AAAmB;;EACtBA,KAAK,EAAC;AAAM;;EAIZA,KAAK,EAAC;AAAM;;EAIZA,KAAK,EAAC;AAAM;;uBAlB7BC,mBAAA,CAgCM,OAhCNC,UAgCM,GA/BFC,mBAAA,CA8BM,OA9BNC,UA8BM,GA7BSC,KAAA,CAAAC,MAAM,I,cAAjBL,mBAAA,CAMM,OANNM,UAMM,GALFJ,mBAAA,CAAmC;IAA7BK,GAAG,EAAEH,KAAA,CAAAI,eAAe;IAAEC,GAAG,EAAC;uCAChCP,mBAAA,CAGM,cAFFA,mBAAA,CAAkC,YAAAQ,gBAAA,CAA1BN,KAAA,CAAAC,MAAM,CAACM,WAAW,kBAC1BT,mBAAA,CAA4B,YAAAQ,gBAAA,CAApBN,KAAA,CAAAC,MAAM,CAACO,IAAI,iB,0CAG3BV,mBAAA,CAqBO,QArBPW,UAqBO,GApBHX,mBAAA,CAGM,OAHNY,UAGM,G,0BAFFZ,mBAAA,CAA8D;IAAvDa,GAAG,EAAC,mBAAmB;IAAChB,KAAK,EAAC;KAAa,MAAI,qB,gBACtDG,mBAAA,CAA+F;+DAA/EE,KAAA,CAAAY,IAAI,GAAAC,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,EAAE;IAACpB,KAAK,EAAC,cAAc;IAACqB,EAAE,EAAC;iDAAzDhB,KAAA,CAAAY,IAAI,E,KAExBd,mBAAA,CAGM,OAHNmB,UAGM,G,0BAFFnB,mBAAA,CAAoE;IAA7Da,GAAG,EAAC,sBAAsB;IAAChB,KAAK,EAAC;KAAa,SAAO,qB,gBAC5DG,mBAAA,CAA2E;+DAA3DE,KAAA,CAAAkB,OAAO,GAAAL,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,EAAE;IAACpB,KAAK,EAAC;iDAA1CK,KAAA,CAAAkB,OAAO,E,KAE3BpB,mBAAA,CAIM,OAJNqB,UAIM,G,0BAHFrB,mBAAA,CAAmF;IAA5Ea,GAAG,EAAC,2BAA2B;IAAChB,KAAK,EAAC;KAAc,kBAAgB,qB,gBAC3EG,mBAAA,CACyB;+DADTE,KAAA,CAAAoB,eAAe,GAAAP,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,EAAE;IAACC,EAAE,EAAC,2BAA2B;IACtFrB,KAAK,EAAC;iDADMK,KAAA,CAAAoB,eAAe,E,KAGnCtB,mBAAA,CAAgF;IAAvEuB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,oBAAA,IAAAD,QAAA,CAAAC,oBAAA,IAAAF,IAAA,CAAoB;IAAE5B,KAAK,EAAC;KAAkB,WAAS,GACvEG,mBAAA,CACsB;IADbuB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAE,iBAAA,IAAAF,QAAA,CAAAE,iBAAA,IAAAH,IAAA,CAAiB;IAAE5B,KAAK,EAAC;KAAwC,oBACpE,G,0BACbG,mBAAA,CAEM;IAFDH,KAAK,EAAC;EAAW,GAAC,6FAEvB,qB,0BACAG,mBAAA,CAAe,uC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}