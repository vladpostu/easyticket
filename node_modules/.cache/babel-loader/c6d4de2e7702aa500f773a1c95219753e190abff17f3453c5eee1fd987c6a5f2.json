{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"background\"\n};\nconst _hoisted_2 = {\n  class: \"wrapper\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"evento-dettagli-wrapper mt-5\"\n};\nconst _hoisted_4 = [\"src\"];\nconst _hoisted_5 = {\n  class: \"mt-3\"\n};\nconst _hoisted_6 = {\n  class: \"partecipante-form\"\n};\nconst _hoisted_7 = {\n  class: \"mb-4\"\n};\nconst _hoisted_8 = {\n  class: \"mb-3\"\n};\nconst _hoisted_9 = {\n  for: \"nome_partecipante\",\n  class: \"form-label\"\n};\nconst _hoisted_10 = {\n  class: \"mb-3\"\n};\nconst _hoisted_11 = {\n  for: \"cognome_partecipante\",\n  class: \"form-label\"\n};\nconst _hoisted_12 = {\n  class: \"mb-3\"\n};\nconst _hoisted_13 = {\n  for: \"data_nascita_partecipante\",\n  class: \"form-label\"\n};\nconst _hoisted_14 = {\n  class: \"form-text\",\n  style: {\n    \"width\": \"200px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [$data.evento ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createElementVNode(\"img\", {\n    src: $data.imgCopertinaURL,\n    alt: \"\"\n  }, null, 8 /* PROPS */, _hoisted_4), _createElementVNode(\"div\", null, [_createElementVNode(\"h1\", _hoisted_5, _toDisplayString($data.evento.nome_evento), 1 /* TEXT */), _createElementVNode(\"h5\", null, _toDisplayString($options.invertiData($data.evento.data)), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($data.evento.artists), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString($data.evento.description), 1 /* TEXT */)])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"form\", _hoisted_6, [_createElementVNode(\"h4\", _hoisted_7, _toDisplayString(_ctx.$t(\"registerParticipantAtEvent\")), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"label\", _hoisted_9, _toDisplayString(_ctx.$t(\"name\")), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.nome = $event),\n    type: \"text\",\n    placeholder: \"\",\n    class: \"form-control\",\n    id: \"nome_partecipante\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nome]])]), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"label\", _hoisted_11, _toDisplayString(_ctx.$t(\"surname\")), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.cognome = $event),\n    type: \"text\",\n    placeholder: \"\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.cognome]])]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"label\", _hoisted_13, _toDisplayString(_ctx.$t(\"dateOfBirth\")), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.data_di_nascita = $event),\n    type: \"date\",\n    placeholder: \"\",\n    id: \"data_nascita_partecipante\",\n    class: \"form-control\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.data_di_nascita]])]), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.aggiungiPartecipante && $options.aggiungiPartecipante(...args)),\n    class: \"btn btn-primary mt-4\"\n  }, _toDisplayString(_ctx.$t(\"joinButton\")), 1 /* TEXT */), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.recuperaBiglietto && $options.recuperaBiglietto(...args)),\n    class: \"btn btn-outline-light mt-3 btn-sm\"\n  }, _toDisplayString(_ctx.$t(\"recoverTicketButton\")), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_14, _toDisplayString(_ctx.$t(\"recoverTicketMessage\")), 1 /* TEXT */)])])]);\n}","map":{"version":3,"names":["class","for","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","evento","_hoisted_3","src","imgCopertinaURL","alt","_hoisted_5","_toDisplayString","nome_evento","$options","invertiData","data","artists","description","_hoisted_6","_hoisted_7","_ctx","$t","_hoisted_8","_hoisted_9","nome","$event","type","placeholder","id","_hoisted_10","_hoisted_11","cognome","_hoisted_12","_hoisted_13","data_di_nascita","onClick","_cache","args","aggiungiPartecipante","recuperaBiglietto","_hoisted_14"],"sources":["/Users/vladpostu/Desktop/easyticket/views/EventoView.vue"],"sourcesContent":["<template>\n    <div class=\"background\">\n        <div class=\"wrapper\">\n            <div v-if=\"evento\" class=\"evento-dettagli-wrapper mt-5\">\n                <img :src=\"imgCopertinaURL\" alt=\"\">\n                <div>\n                    <h1 class=\"mt-3\"> {{ evento.nome_evento }}</h1>\n                    <h5> {{ invertiData(evento.data )}} </h5>\n                    <p>{{ evento.artists }}</p>\n                    <p>{{ evento.description }}</p>\n                </div>\n            </div>\n            <form class=\"partecipante-form\">\n                <h4 class=\"mb-4\">{{ $t(\"registerParticipantAtEvent\") }}</h4>\n                <div class=\"mb-3\">\n                    <label for=\"nome_partecipante\" class=\"form-label\">{{ $t(\"name\") }}</label>\n                    <input v-model=\"nome\" type=\"text\" placeholder=\"\" class=\"form-control\" id=\"nome_partecipante\" />\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"cognome_partecipante\" class=\"form-label\">{{ $t(\"surname\") }}</label>\n                    <input v-model=\"cognome\" type=\"text\" placeholder=\"\" class=\"form-control\" />\n                </div>\n                <div class=\"mb-3\">\n                    <label for=\"data_nascita_partecipante\" class=\"form-label\">{{ $t(\"dateOfBirth\") }} </label>\n                    <input v-model=\"data_di_nascita\" type=\"date\" placeholder=\"\" id=\"data_nascita_partecipante\"\n                        class=\"form-control\">\n                </div>\n                <button type=\"button\" @click=\"aggiungiPartecipante\" class=\"btn btn-primary mt-4\">{{$t(\"joinButton\")}}</button>\n                <button type=\"button\" @click=\"recuperaBiglietto\" class=\"btn btn-outline-light mt-3 btn-sm\">{{ $t(\"recoverTicketButton\") }}</button>\n                <div class=\"form-text\" style=\"width: 200px;\">{{ $t(\"recoverTicketMessage\") }}\n                </div>\n            </form>\n        </div>\n    </div>\n\n</template>\n\n<style scoped>\n.background {\n  background-color: #0C2B4E;\n  min-height: 100vh;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #F4F4F4;\n  padding: 60px 20px;\n}\n\n.wrapper {\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  gap: 80px;\n  flex-wrap: wrap-reverse;\n  max-width: 1200px;\n  width: 100%;\n}\n\n/* --- DETTAGLI EVENTO --- */\n.evento-dettagli-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n\n.evento-dettagli-wrapper img {\n  width: 450px;\n  height: 300px;\n  object-fit: cover;\n  border-radius: 12px;\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);\n}\n\n.evento-dettagli-wrapper h1 {\n  font-size: 2rem;\n  font-weight: 700;\n  color: #fff;\n  margin-top: 20px;\n}\n\n.evento-dettagli-wrapper h5 {\n  font-size: 1.1rem;\n  font-weight: 400;\n  color: #d3e1eb;\n}\n\n/* --- FORM --- */\n.partecipante-form {\n  background: rgba(255, 255, 255, 0.08);\n  border-radius: 12px;\n  padding: 40px 50px;\n  box-shadow: 0 5px 18px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 420px;\n  backdrop-filter: blur(8px);\n}\n\n.partecipante-form h4 {\n  margin-bottom: 25px;\n  font-weight: 600;\n  color: #fff;\n}\n\n.mb-3 {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  margin-bottom: 20px;\n}\n\n.mb-3 label {\n  font-size: 0.95rem;\n  color: #d7e7f3;\n  margin-bottom: 6px;\n}\n\n.mb-3 input {\n  width: 100%;\n  border: none;\n  border-radius: 6px;\n  padding: 10px 12px;\n  outline: none;\n  background-color: rgba(255, 255, 255, 0.9);\n  color: #0C2B4E;\n  font-weight: 500;\n}\n\n.mb-3 input:focus {\n  box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.3);\n}\n\n/* --- BOTTONI --- */\n.btn {\n  width: 100%;\n  border-radius: 6px;\n  padding: 10px 0;\n  font-weight: 600;\n  transition: all 0.25s ease-in-out;\n  cursor: pointer;\n}\n\n.btn-primary {\n  background-color: #1B74BB;\n  border: none;\n  color: #fff;\n}\n\n.btn-primary:hover {\n  background-color: #155f99;\n}\n\n.btn-outline-light {\n  border: 1.5px solid #e6eef5;\n  background-color: transparent;\n  color: #f4f4f4;\n}\n\n.btn-outline-light:hover {\n  background-color: rgba(255, 255, 255, 0.15);\n}\n\n/* --- TESTO INFORMATIVO --- */\n.form-text {\n  font-size: 0.85rem;\n  margin-top: 10px;\n  text-align: center;\n  color: #e0e0e0;\n  line-height: 1.3;\n  width: 80%;\n}\n\n/* --- RESPONSIVE --- */\n@media (max-width: 768px) {\n  .wrapper {\n    flex-direction: column-reverse;\n    gap: 40px;\n    padding: 30px 20px;\n    align-items: center;\n  }\n\n  .evento-dettagli-wrapper img {\n    width: 100%;\n    max-width: 360px;\n    height: 240px;\n  }\n\n  .partecipante-form {\n    width: 100%;\n    max-width: 360px;\n    padding: 30px;\n  }\n}\n</style>\n\n\n<script>\nimport { getDoc, doc, addDoc, collection, query, where, getDocs } from 'firebase/firestore'\nimport { db } from '../firebase/firebase'\nimport { invertiData } from '@/utils/dateUtils';\n\nexport default {\n    name: \"EventoView\",\n    props: ['eventoId'],\n    data() {\n        return {\n            evento: null,\n            nome: \"\",\n            cognome: \"\",\n            data_di_nascita: \"\",\n            presenzaConfermata: false,\n            imgCopertinaURL: \"\",\n        }\n    },\n    async mounted() {\n        try {\n            const docRef = doc(db, 'eventi', this.eventoId)\n            const docSnap = await getDoc(docRef)\n\n            if (docSnap.exists()) {\n                this.evento = docSnap.data()\n                this.imgCopertinaURL = this.evento.imgCopertina;\n            }\n        } catch (error) {\n            console.log(error)\n        }\n    },\n    methods: {\n        invertiData,\n        async aggiungiPartecipante() {\n            try {\n              const partecipanteRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\")\n            let partecipanteId;\n\n            console.log(\"ci sono\")\n\n            const docRef = await addDoc(partecipanteRef, {\n                nome: this.nome,\n                cognome: this.cognome,\n                data_di_nascita: this.data_di_nascita,\n                presenzaConfermata: this.presenzaConfermata\n            });\n\n            partecipanteId = docRef.id;\n\n            this.nome = \"\";\n            this.cognome = \"\";\n            this.data_di_nascita = \"\";\n\n            \n\n            this.$router.push({\n                name: \"PartecipanteView\",\n                params: {\n                    eventoId: this.eventoId,\n                    partecipanteId: partecipanteId,\n                }\n            })\n            } catch(error) {\n              console.log(error);\n            }\n        },\n        async recuperaBiglietto() {\n\n            const partecipantiRef = collection(db, \"eventi\", this.eventoId, \"partecipanti\");\n\n            const q = query(\n                partecipantiRef,\n                where(\"nome\", \"==\", this.nome),\n                where(\"cognome\", \"==\", this.cognome),\n                where(\"data_di_nascita\", \"==\", this.data_di_nascita)\n            );\n\n            const snapshot = await getDocs(q);\n\n            if (!snapshot.empty) {\n                this.partecipanteId = snapshot.id;\n                this.$router.push({\n                    name: \"PartecipanteView\",\n                    params: {\n                        eventoId: this.eventoId,\n                        partecipanteId: snapshot.docs[0].id,\n                    }\n\n                })\n            }\n        }\n    }\n}\n</script>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}