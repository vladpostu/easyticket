{"ast":null,"code":"import { createRouter, createWebHistory } from 'vue-router';\nimport IndexView from '../views/IndexView.vue';\nimport HomePage from '../views/HomePage.vue';\nimport SecondPage from '../views/SecondPage.vue';\nimport AreaRiservata from '../views/AreaRiservata.vue';\nimport AreaOrganizzatore from '../views/area_riservata/AreaOrganizzatore.vue';\nimport EventiOrganizzatore from '../views/area_riservata/EventiOrganizzatore.vue';\nimport OrganizzatoreLogin from '../views/area_riservata/OrganizzatoreLogin.vue';\nimport OrganizzatoreRegistrati from '../views/area_riservata/OrganizzatoreRegistrati.vue';\nimport AggiungiEvento from '../views/area_riservata/AggiungiEvento.vue';\nimport AreaConvalidatore from '../views/area_riservata/AreaConvalidatore.vue';\nimport { getAuth } from 'firebase/auth';\nconst routes = [{\n  path: '/',\n  name: \"IndexView\",\n  component: IndexView\n}, {\n  path: '/home',\n  name: \"HomeView\",\n  component: HomePage\n}, {\n  path: '/secondpage',\n  name: \"SecondPage\",\n  component: SecondPage\n}, {\n  path: '/evento/:eventoId',\n  name: \"EventoView\",\n  component: () => import('../views/EventoView.vue'),\n  props: true\n}, {\n  path: '/evento/:eventoId/:partecipanteId',\n  name: \"PartecipanteView\",\n  component: () => import('../views/PartecipanteView.vue'),\n  props: true\n}, {\n  path: '/area-riservata',\n  name: \"AreaRiservata\",\n  component: AreaRiservata\n}, {\n  path: \"/area-riservata/area-organizzatore\",\n  name: \"AreaOrganizzatore\",\n  component: AreaOrganizzatore,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/area-riservata/area-organizzatore/eventi-organizzatore\",\n  name: \"EventiOrganizzatore\",\n  component: EventiOrganizzatore\n}, {\n  path: \"/area-riservata/organizzatore-login\",\n  name: \"OrganizzatoreLogin\",\n  component: OrganizzatoreLogin\n}, {\n  path: \"/area-riservata/organizzatore-registrati\",\n  name: \"OrganizzatoreRegistrati\",\n  component: OrganizzatoreRegistrati\n}, {\n  path: \"/area-riservata/area-organizzatore/aggiungi-evento\",\n  name: \"AggiungiEvento\",\n  component: AggiungiEvento\n}, {\n  path: \"/area-riservata/area-convalidatore\",\n  name: \"AreaConvalidatore\",\n  component: AreaConvalidatore\n}];\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n});\n\n// router.beforeEach(async (toString, from, next) => {\n//     const auth = getAuth();\n\n//     if(to.meta.requiresAuth) {\n//         const user = await new Promise(resolve => {\n//             const unsubscribe = onAuthStateChanged(auth, (u) => {\n//                 unsubscribe();\n//                 resolve(u);\n//             })\n//         })\n\n//         if(user) {\n//             next();\n//         } else {\n//             next(\"/organizzatore-login\");\n//         }\n//     } else {\n//         next();\n//     }\n// }) \n\nrouter.beforeEach(async (to, from, next) => {\n  const auth = getAuth();\n  const user = auth.currentUser;\n  if (to.path.startsWith(\"/area-riservata\") && !user) {\n    next(\"/login\");\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","IndexView","HomePage","SecondPage","AreaRiservata","AreaOrganizzatore","EventiOrganizzatore","OrganizzatoreLogin","OrganizzatoreRegistrati","AggiungiEvento","AreaConvalidatore","getAuth","routes","path","name","component","props","meta","requiresAuth","router","history","beforeEach","to","from","next","auth","user","currentUser","startsWith"],"sources":["/Users/vladpostu/Desktop/easyticket/router/index.js"],"sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\n\nimport IndexView from '../views/IndexView.vue'\nimport HomePage from '../views/HomePage.vue'\nimport SecondPage from '../views/SecondPage.vue'\nimport AreaRiservata from '../views/AreaRiservata.vue'\nimport AreaOrganizzatore from '../views/area_riservata/AreaOrganizzatore.vue'\nimport EventiOrganizzatore from '../views/area_riservata/EventiOrganizzatore.vue'\nimport OrganizzatoreLogin from '../views/area_riservata/OrganizzatoreLogin.vue'\nimport OrganizzatoreRegistrati from '../views/area_riservata/OrganizzatoreRegistrati.vue'\nimport AggiungiEvento from '../views/area_riservata/AggiungiEvento.vue'\nimport AreaConvalidatore from '../views/area_riservata/AreaConvalidatore.vue'\nimport { getAuth } from 'firebase/auth'\n\nconst routes = [\n    {\n        path: '/',\n        name: \"IndexView\",\n        component: IndexView\n    },\n    {\n        path: '/home',\n        name: \"HomeView\",\n        component: HomePage\n    },\n    {\n        path: '/secondpage',\n        name: \"SecondPage\",\n        component: SecondPage\n    },\n    {\n        path: '/evento/:eventoId',\n        name: \"EventoView\",\n        component: () => import('../views/EventoView.vue'),\n        props: true\n    },\n    {\n        path: '/evento/:eventoId/:partecipanteId',\n        name: \"PartecipanteView\",\n        component: () => import('../views/PartecipanteView.vue'),\n        props: true\n    },\n    {\n        path: '/area-riservata',\n        name: \"AreaRiservata\",\n        component: AreaRiservata,\n    },\n    {\n        path: \"/area-riservata/area-organizzatore\",\n        name: \"AreaOrganizzatore\",\n        component: AreaOrganizzatore,\n        meta: { requiresAuth: true }\n    },\n    {\n        path: \"/area-riservata/area-organizzatore/eventi-organizzatore\",\n        name: \"EventiOrganizzatore\",\n        component: EventiOrganizzatore\n    },\n    {\n        path: \"/area-riservata/organizzatore-login\",\n        name: \"OrganizzatoreLogin\",\n        component: OrganizzatoreLogin\n    }, \n    {\n        path: \"/area-riservata/organizzatore-registrati\",\n        name: \"OrganizzatoreRegistrati\",\n        component: OrganizzatoreRegistrati\n    },\n    {\n        path: \"/area-riservata/area-organizzatore/aggiungi-evento\",\n        name: \"AggiungiEvento\",\n        component: AggiungiEvento\n    },\n    {\n        path: \"/area-riservata/area-convalidatore\",\n        name: \"AreaConvalidatore\",\n        component: AreaConvalidatore\n    }\n]\n\nconst router = createRouter({\n    history: createWebHistory(),\n    routes\n})\n\n// router.beforeEach(async (toString, from, next) => {\n//     const auth = getAuth();\n\n//     if(to.meta.requiresAuth) {\n//         const user = await new Promise(resolve => {\n//             const unsubscribe = onAuthStateChanged(auth, (u) => {\n//                 unsubscribe();\n//                 resolve(u);\n//             })\n//         })\n\n//         if(user) {\n//             next();\n//         } else {\n//             next(\"/organizzatore-login\");\n//         }\n//     } else {\n//         next();\n//     }\n// }) \n\nrouter.beforeEach(async (to, from, next) => {\n    const auth = getAuth();\n    const user = auth.currentUser\n\n    if(to.path.startsWith(\"/area-riservata\") && !user) {\n        next(\"/login\")\n    } else {\n        next()\n    }\n})\n\nexport default router"],"mappings":"AAAA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAE3D,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,iBAAiB,MAAM,+CAA+C;AAC7E,OAAOC,mBAAmB,MAAM,iDAAiD;AACjF,OAAOC,kBAAkB,MAAM,gDAAgD;AAC/E,OAAOC,uBAAuB,MAAM,qDAAqD;AACzF,OAAOC,cAAc,MAAM,4CAA4C;AACvE,OAAOC,iBAAiB,MAAM,+CAA+C;AAC7E,SAASC,OAAO,QAAQ,eAAe;AAEvC,MAAMC,MAAM,GAAG,CACX;EACIC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,WAAW;EACjBC,SAAS,EAAEd;AACf,CAAC,EACD;EACIY,IAAI,EAAE,OAAO;EACbC,IAAI,EAAE,UAAU;EAChBC,SAAS,EAAEb;AACf,CAAC,EACD;EACIW,IAAI,EAAE,aAAa;EACnBC,IAAI,EAAE,YAAY;EAClBC,SAAS,EAAEZ;AACf,CAAC,EACD;EACIU,IAAI,EAAE,mBAAmB;EACzBC,IAAI,EAAE,YAAY;EAClBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,yBAAyB,CAAC;EAClDC,KAAK,EAAE;AACX,CAAC,EACD;EACIH,IAAI,EAAE,mCAAmC;EACzCC,IAAI,EAAE,kBAAkB;EACxBC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,+BAA+B,CAAC;EACxDC,KAAK,EAAE;AACX,CAAC,EACD;EACIH,IAAI,EAAE,iBAAiB;EACvBC,IAAI,EAAE,eAAe;EACrBC,SAAS,EAAEX;AACf,CAAC,EACD;EACIS,IAAI,EAAE,oCAAoC;EAC1CC,IAAI,EAAE,mBAAmB;EACzBC,SAAS,EAAEV,iBAAiB;EAC5BY,IAAI,EAAE;IAAEC,YAAY,EAAE;EAAK;AAC/B,CAAC,EACD;EACIL,IAAI,EAAE,yDAAyD;EAC/DC,IAAI,EAAE,qBAAqB;EAC3BC,SAAS,EAAET;AACf,CAAC,EACD;EACIO,IAAI,EAAE,qCAAqC;EAC3CC,IAAI,EAAE,oBAAoB;EAC1BC,SAAS,EAAER;AACf,CAAC,EACD;EACIM,IAAI,EAAE,0CAA0C;EAChDC,IAAI,EAAE,yBAAyB;EAC/BC,SAAS,EAAEP;AACf,CAAC,EACD;EACIK,IAAI,EAAE,oDAAoD;EAC1DC,IAAI,EAAE,gBAAgB;EACtBC,SAAS,EAAEN;AACf,CAAC,EACD;EACII,IAAI,EAAE,oCAAoC;EAC1CC,IAAI,EAAE,mBAAmB;EACzBC,SAAS,EAAEL;AACf,CAAC,CACJ;AAED,MAAMS,MAAM,GAAGpB,YAAY,CAAC;EACxBqB,OAAO,EAAEpB,gBAAgB,CAAC,CAAC;EAC3BY;AACJ,CAAC,CAAC;;AAEF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAO,MAAM,CAACE,UAAU,CAAC,OAAOC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EACxC,MAAMC,IAAI,GAAGd,OAAO,CAAC,CAAC;EACtB,MAAMe,IAAI,GAAGD,IAAI,CAACE,WAAW;EAE7B,IAAGL,EAAE,CAACT,IAAI,CAACe,UAAU,CAAC,iBAAiB,CAAC,IAAI,CAACF,IAAI,EAAE;IAC/CF,IAAI,CAAC,QAAQ,CAAC;EAClB,CAAC,MAAM;IACHA,IAAI,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,eAAeL,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}