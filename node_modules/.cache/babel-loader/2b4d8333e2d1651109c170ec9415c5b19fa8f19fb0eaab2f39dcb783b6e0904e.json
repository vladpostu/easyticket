{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-evento form-group\"\n};\nconst _hoisted_2 = {\n  class: \"form-group\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  class: \"form-group upload-file\"\n};\nconst _hoisted_6 = {\n  class: \"input-group mb-3\"\n};\nconst _hoisted_7 = {\n  class: \"alert alert-success\",\n  role: \"alert\"\n};\nconst _hoisted_8 = {\n  class: \"fs-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"nome_evento\"\n  }, \"Nome Evento\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.nome_evento = $event),\n    class: \"form-control\",\n    type: \"text\",\n    placeholder: \"\",\n    id: \"nome_evento\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.nome_evento]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"data_evento\"\n  }, \"Data Evento\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.data = $event),\n    class: \"form-control\",\n    type: \"date\",\n    id: \"data_evento\",\n    placeholder: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.data]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"password_convalidatori\"\n  }, \"Password Convalidatori\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.passwordConvalidatori = $event),\n    class: \"form-control\",\n    placeholder: \"\",\n    type: \"text\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.passwordConvalidatori]]), _cache[8] || (_cache[8] = _createElementVNode(\"small\", {\n    class: \"form-text text-muted\"\n  }, \"La password verrà usata dai tuoi convalidatori\", -1 /* CACHED */))]), _createElementVNode(\"div\", _hoisted_5, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    for: \"inputGroupFile01\"\n  }, \"Seleziona un'immagine di copertina\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"input\", {\n    type: \"file\",\n    class: \"form-control\",\n    id: \"inputGroupFile01\",\n    placeholder: \"\",\n    onChange: _cache[3] || (_cache[3] = (...args) => $options.onFileChange && $options.onFileChange(...args))\n  }, null, 32 /* NEED_HYDRATION */)])]), _createElementVNode(\"div\", _hoisted_7, [_cache[10] || (_cache[10] = _createElementVNode(\"div\", null, \"Evento inserito corretamente, alias:\", -1 /* CACHED */)), _createElementVNode(\"div\", _hoisted_8, _toDisplayString($data.aliasEvento), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.inserisciEvento && $options.inserisciEvento(...args)),\n    type: \"button\",\n    class: \"btn btn-primary\"\n  }, \"Inserisci\")]);\n}","map":{"version":3,"names":["class","role","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","for","$data","nome_evento","$event","type","placeholder","id","_hoisted_3","data","_hoisted_4","passwordConvalidatori","_hoisted_5","_hoisted_6","onChange","_cache","args","$options","onFileChange","_hoisted_7","_hoisted_8","_toDisplayString","aliasEvento","onClick","inserisciEvento"],"sources":["/Users/vladpostu/Desktop/easyticket/src/components/AddEvento.vue"],"sourcesContent":["<template>\n    <div class=\"form-evento form-group\">\n        <div class=\"form-group\">\n            <label for=\"nome_evento\">Nome Evento</label>\n            <input v-model=\"nome_evento\" class=\"form-control\" type=\"text\" placeholder=\"\" id=\"nome_evento\"/>\n        </div>\n        <div class=\"form-group\">\n            <label for=\"data_evento\">Data Evento</label>\n            <input v-model=\"data\" class=\"form-control\" type=\"date\" id=\"data_evento\" placeholder=\"\">\n        </div>\n        <div class=\"form-group\">\n            <label for=\"password_convalidatori\">Password Convalidatori</label>\n            <input v-model=\"passwordConvalidatori\" class=\"form-control\" placeholder=\"\" type=\"text\">\n            <small class=\"form-text text-muted\">La password verrà usata dai tuoi convalidatori</small>\n        </div>\n        <div class=\"form-group upload-file\">\n            <label for=\"inputGroupFile01\">Seleziona un'immagine di copertina</label>\n            <div class=\"input-group mb-3\">\n                <input type=\"file\" class=\"form-control\" id=\"inputGroupFile01\" placeholder=\"\" @change=\"onFileChange\">\n            </div>\n        </div>\n\n        <div class=\"alert alert-success\" role=\"alert\">\n            <div>Evento inserito corretamente, alias:</div>\n            <div class=\"fs-4\"> {{ aliasEvento }} </div>\n        </div>\n\n        <button @click=\"inserisciEvento\" type=\"button\" class=\"btn btn-primary\">Inserisci</button>\n    </div>\n</template>\n\n<style scoped>\n    .form-evento {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        left: 50%;\n        transform: translateX(-50%);\n        margin-top: 50px;\n        width: 400px;\n    }\n\n    .form-group {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n        justify-content: start;\n        width: 300px;\n    }\n\n    .custom-file {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n    }\n\n    .form-group label {\n        margin-left: 10px;\n        margin-top: 10px;\n    }\n\n    .form-group input {\n        width: 100%;\n    }\n\n    .btn {\n        position: relative;\n        left: 50%;\n        transform: translateX(-50%);\n        margin-top: 40px;\n        font-weight: 700;\n    }\n\n    .input-group {\n        width: 100%;\n        display: flex;\n        flex-direction: column;\n        align-items: start;\n        justify-content: flex-start;\n    }\n\n    .upload-file {\n        display: flex;\n        flex-direction: column;\n        align-items: flex-start;\n        justify-content: flex-start;\n    }\n\n    .btn-upload-file {\n        align-self: flex-start;\n        transform: none;\n        left: auto;\n        margin: -5px 0 0 2px;\n        font-size: 0.90em;\n        border: none;\n    }\n\n</style>\n\n<script>\nimport { collection, addDoc } from 'firebase/firestore';\nimport { db, storage } from '../../firebase/firebase'\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage'\n\nexport default {\n    name: 'AddEvento',\n    data() {\n        return {\n            nome_evento: '',\n            data: '',\n            emailOrganizzatore: \"\",\n            idOrganizzatore: \"\",\n            aliasEvento: \"\",\n            passwordConvalidatori: \"\",\n            imgCopertina: null, \n        }\n    },\n    methods: {\n        async inserisciEvento() {\n            this.emailOrganizzatore = localStorage.getItem(\"organizzatoreEmail\");\n            this.idOrganizzatore = localStorage.getItem(\"organizzatoreId\");\n   \n            let imgCopertinaURL = \"\";\n\n            if(this.imgCopertina) {\n                const storageRef = ref(storage, `copertine/${this.imgCopertina.name}`)\n                await uploadBytes(storageRef, this.imgCopertina)\n                imgCopertinaURL = await getDownloadURL(storageRef)\n            }\n\n            const nuovoEvento = {\n                nome_evento: this.nome_evento,\n                data: this.data,\n                emailOrganizzatore: this.emailOrganizzatore,\n                idOrganizzatore: this.idOrganizzatore,\n                aliasEvento: this.nome_evento.slice(0, 3) + this.data,\n                passwordConvalidatori: this.passwordConvalidatori,\n                imgCopertina: imgCopertinaURL,\n            }\n\n\n            try {\n                await addDoc(collection(db, 'eventi'), nuovoEvento)\n                this.data = ''\n                this.nome_evento = ''\n                this.$emit('eventoInserito')\n            } catch(error) {\n                console.log(error)\n            }\n        },\n        onFileChange(e) {\n            this.imgCopertina = e.target.files[0];\n        }\n    }\n}\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAwB;;EAC1BA,KAAK,EAAC;AAAY;;EAIlBA,KAAK,EAAC;AAAY;;EAIlBA,KAAK,EAAC;AAAY;;EAKlBA,KAAK,EAAC;AAAwB;;EAE1BA,KAAK,EAAC;AAAkB;;EAK5BA,KAAK,EAAC,qBAAqB;EAACC,IAAI,EAAC;;;EAE7BD,KAAK,EAAC;AAAM;;uBAvBzBE,mBAAA,CA2BM,OA3BNC,UA2BM,GA1BFC,mBAAA,CAGM,OAHNC,UAGM,G,0BAFFD,mBAAA,CAA4C;IAArCE,GAAG,EAAC;EAAa,GAAC,aAAW,qB,gBACpCF,mBAAA,CAA+F;+DAA/EG,KAAA,CAAAC,WAAW,GAAAC,MAAA;IAAET,KAAK,EAAC,cAAc;IAACU,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC,EAAE;IAACC,EAAE,EAAC;iDAAhEL,KAAA,CAAAC,WAAW,E,KAE/BJ,mBAAA,CAGM,OAHNS,UAGM,G,0BAFFT,mBAAA,CAA4C;IAArCE,GAAG,EAAC;EAAa,GAAC,aAAW,qB,gBACpCF,mBAAA,CAAuF;+DAAvEG,KAAA,CAAAO,IAAI,GAAAL,MAAA;IAAET,KAAK,EAAC,cAAc;IAACU,IAAI,EAAC,MAAM;IAACE,EAAE,EAAC,aAAa;IAACD,WAAW,EAAC;iDAApEJ,KAAA,CAAAO,IAAI,E,KAExBV,mBAAA,CAIM,OAJNW,UAIM,G,0BAHFX,mBAAA,CAAkE;IAA3DE,GAAG,EAAC;EAAwB,GAAC,wBAAsB,qB,gBAC1DF,mBAAA,CAAuF;+DAAvEG,KAAA,CAAAS,qBAAqB,GAAAP,MAAA;IAAET,KAAK,EAAC,cAAc;IAACW,WAAW,EAAC,EAAE;IAACD,IAAI,EAAC;iDAAhEH,KAAA,CAAAS,qBAAqB,E,6BACrCZ,mBAAA,CAA0F;IAAnFJ,KAAK,EAAC;EAAsB,GAAC,gDAA8C,oB,GAEtFI,mBAAA,CAKM,OALNa,UAKM,G,0BAJFb,mBAAA,CAAwE;IAAjEE,GAAG,EAAC;EAAkB,GAAC,oCAAkC,qBAChEF,mBAAA,CAEM,OAFNc,UAEM,GADFd,mBAAA,CAAoG;IAA7FM,IAAI,EAAC,MAAM;IAACV,KAAK,EAAC,cAAc;IAACY,EAAE,EAAC,kBAAkB;IAACD,WAAW,EAAC,EAAE;IAAEQ,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;yCAI1GjB,mBAAA,CAGM,OAHNoB,UAGM,G,4BAFFpB,mBAAA,CAA+C,aAA1C,sCAAoC,qBACzCA,mBAAA,CAA2C,OAA3CqB,UAA2C,EAAAC,gBAAA,CAArBnB,KAAA,CAAAoB,WAAW,iB,GAGrCvB,mBAAA,CAAyF;IAAhFwB,OAAK,EAAAR,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAO,eAAA,IAAAP,QAAA,CAAAO,eAAA,IAAAR,IAAA,CAAe;IAAEX,IAAI,EAAC,QAAQ;IAACV,KAAK,EAAC;KAAkB,WAAS,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}