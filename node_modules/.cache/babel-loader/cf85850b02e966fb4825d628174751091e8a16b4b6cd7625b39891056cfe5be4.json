{"ast":null,"code":"import { createRouter, createWebHashHistory } from 'vue-router';\nimport IndexView from '../views/IndexView.vue';\nimport HomePage from '../views/HomePage.vue';\nimport SecondPage from '../views/SecondPage.vue';\nimport AreaRiservata from '../views/AreaRiservata.vue';\nimport AreaOrganizzatore from '../views/area_riservata/AreaOrganizzatore.vue';\nimport EventiOrganizzatore from '../views/area_riservata/EventiOrganizzatore.vue';\nimport OrganizzatoreLogin from '../views/area_riservata/OrganizzatoreLogin.vue';\nimport OrganizzatoreRegistrati from '../views/area_riservata/OrganizzatoreRegistrati.vue';\nimport AggiungiEvento from '../views/area_riservata/AggiungiEvento.vue';\nimport AreaConvalidatore from '../views/area_riservata/AreaConvalidatore.vue';\nimport { getAuth } from 'firebase/auth';\nimport { onAuthStateChanged } from 'firebase/auth';\nconst routes = [{\n  path: \"/\",\n  redirect: \"/it\"\n}, {\n  path: '/:lang(it|en)?',\n  children: [{\n    path: '',\n    name: \"IndexView\",\n    component: IndexView\n  }, {\n    path: 'home',\n    name: \"HomeView\",\n    component: HomePage\n  }, {\n    path: 'secondpage',\n    name: \"SecondPage\",\n    component: SecondPage\n  }, {\n    path: 'evento/:eventoId',\n    name: \"EventoView\",\n    component: () => import('../views/EventoView.vue'),\n    props: true\n  }, {\n    path: 'evento/:eventoId/:partecipanteId',\n    name: \"PartecipanteView\",\n    component: () => import('../views/PartecipanteView.vue'),\n    props: true\n  }, {\n    path: 'area-riservata',\n    name: \"AreaRiservata\",\n    component: AreaRiservata\n  }, {\n    path: \"area-riservata/area-organizzatore\",\n    name: \"AreaOrganizzatore\",\n    component: AreaOrganizzatore,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: \"area-riservata/area-organizzatore/eventi-organizzatore\",\n    name: \"EventiOrganizzatore\",\n    component: EventiOrganizzatore\n  }, {\n    path: \"area-riservata/organizzatore-login\",\n    name: \"OrganizzatoreLogin\",\n    component: OrganizzatoreLogin\n  }, {\n    path: \"area-riservata/organizzatore-registrati\",\n    name: \"OrganizzatoreRegistrati\",\n    component: OrganizzatoreRegistrati\n  }, {\n    path: \"area-riservata/area-organizzatore/aggiungi-evento\",\n    name: \"AggiungiEvento\",\n    component: AggiungiEvento\n  }, {\n    path: \"area-riservata/area-convalidatore\",\n    name: \"AreaConvalidatore\",\n    component: AreaConvalidatore\n  }, {\n    path: \"area-riservata/area-organizzatore/evento/:eventoId\",\n    name: \"EventoOrganizzatore\",\n    component: () => import(\"../views/area_riservata/EventoOrganizzatore.vue\"),\n    props: true\n  }]\n}];\nconst router = createRouter({\n  history: createWebHashHistory('/easyticket/'),\n  routes\n});\nfunction getCurrentUser() {\n  return new Promise((resolve, reject) => {\n    const unsubscribe = onAuthStateChanged(getAuth(), user => {\n      unsubscribe();\n      resolve(user);\n    }, reject);\n  });\n}\nrouter.beforeEach(async (to, from, next) => {\n  //const auth = getAuth();\n  const user = await getCurrentUser();\n  if (to.path.startsWith(\"/area-riservata/area-organizzatore\") && !user) {\n    next(\"/area-riservata/organizzatore-login\");\n  } else if (to.path.startsWith(\"/area-riservata/organizzatore-login\") && user) {\n    next(\"/home\");\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","IndexView","HomePage","SecondPage","AreaRiservata","AreaOrganizzatore","EventiOrganizzatore","OrganizzatoreLogin","OrganizzatoreRegistrati","AggiungiEvento","AreaConvalidatore","getAuth","onAuthStateChanged","routes","path","redirect","children","name","component","props","meta","requiresAuth","router","history","getCurrentUser","Promise","resolve","reject","unsubscribe","user","beforeEach","to","from","next","startsWith"],"sources":["/Users/vladpostu/Desktop/easyticket/router/index.js"],"sourcesContent":["import { createRouter, createWebHashHistory } from 'vue-router'\n\nimport IndexView from '../views/IndexView.vue'\nimport HomePage from '../views/HomePage.vue'\nimport SecondPage from '../views/SecondPage.vue'\nimport AreaRiservata from '../views/AreaRiservata.vue'\nimport AreaOrganizzatore from '../views/area_riservata/AreaOrganizzatore.vue'\nimport EventiOrganizzatore from '../views/area_riservata/EventiOrganizzatore.vue'\nimport OrganizzatoreLogin from '../views/area_riservata/OrganizzatoreLogin.vue'\nimport OrganizzatoreRegistrati from '../views/area_riservata/OrganizzatoreRegistrati.vue'\nimport AggiungiEvento from '../views/area_riservata/AggiungiEvento.vue'\nimport AreaConvalidatore from '../views/area_riservata/AreaConvalidatore.vue'\nimport { getAuth } from 'firebase/auth'\nimport { onAuthStateChanged } from 'firebase/auth'\n\nconst routes = [\n    {\n        path: \"/\",\n        redirect: \"/it\"\n    },\n    {\n        path: '/:lang(it|en)?',\n        children: [\n            {\n                path: '',\n                name: \"IndexView\",\n                component: IndexView\n            },\n            {\n                path: 'home',\n                name: \"HomeView\",\n                component: HomePage\n            },\n            {\n                path: 'secondpage',\n                name: \"SecondPage\",\n                component: SecondPage\n            },\n            {\n                path: 'evento/:eventoId',\n                name: \"EventoView\",\n                component: () => import('../views/EventoView.vue'),\n                props: true\n            },\n            {\n                path: 'evento/:eventoId/:partecipanteId',\n                name: \"PartecipanteView\",\n                component: () => import('../views/PartecipanteView.vue'),\n                props: true\n            },\n            {\n                path: 'area-riservata',\n                name: \"AreaRiservata\",\n                component: AreaRiservata,\n            },\n            {\n                path: \"area-riservata/area-organizzatore\",\n                name: \"AreaOrganizzatore\",\n                component: AreaOrganizzatore,\n                meta: { requiresAuth: true }\n            },\n            {\n                path: \"area-riservata/area-organizzatore/eventi-organizzatore\",\n                name: \"EventiOrganizzatore\",\n                component: EventiOrganizzatore\n            },\n            {\n                path: \"area-riservata/organizzatore-login\",\n                name: \"OrganizzatoreLogin\",\n                component: OrganizzatoreLogin\n            },\n            {\n                path: \"area-riservata/organizzatore-registrati\",\n                name: \"OrganizzatoreRegistrati\",\n                component: OrganizzatoreRegistrati\n            },\n            {\n                path: \"area-riservata/area-organizzatore/aggiungi-evento\",\n                name: \"AggiungiEvento\",\n                component: AggiungiEvento\n            },\n            {\n                path: \"area-riservata/area-convalidatore\",\n                name: \"AreaConvalidatore\",\n                component: AreaConvalidatore\n            },\n            {\n                path: \"area-riservata/area-organizzatore/evento/:eventoId\",\n                name: \"EventoOrganizzatore\",\n                component: () => import(\"../views/area_riservata/EventoOrganizzatore.vue\"),\n                props: true\n            }\n        ]\n    }\n]\n\nconst router = createRouter({\n    history: createWebHashHistory('/easyticket/'),\n    routes\n})\n\n\nfunction getCurrentUser() {\n    return new Promise((resolve, reject) => {\n        const unsubscribe = onAuthStateChanged(\n            getAuth(),\n            user => {\n                unsubscribe()\n                resolve(user)\n            },\n            reject\n        )\n    })\n}\n\nrouter.beforeEach(async (to, from, next) => {\n    //const auth = getAuth();\n    const user = await getCurrentUser()\n\n    if (to.path.startsWith(\"/area-riservata/area-organizzatore\") && !user) {\n        next(\"/area-riservata/organizzatore-login\")\n    }\n    else if (to.path.startsWith(\"/area-riservata/organizzatore-login\") && user) {\n        next(\"/home\")\n    } else {\n        next()\n    }\n})\n\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}