{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"eventi-wrapper\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"loader-container\"\n};\nconst _hoisted_3 = {\n  class: \"eventi-content\"\n};\nconst _hoisted_4 = {\n  class: \"img-wrapper\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"info\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" LOADER \"), _ctx.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [...(_cache[0] || (_cache[0] = [_createElementVNode(\"div\", {\n    class: \"spinner\"\n  }, null, -1 /* CACHED */)]))])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" CONTENUTO \"), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.eventi, evento => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"evento-card\",\n      key: evento.id\n    }, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n      src: evento.img,\n      alt: \"evento\"\n    }, null, 8 /* PROPS */, _hoisted_5)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"h3\", null, _toDisplayString(evento.nome), 1 /* TEXT */)])]);\n  }), 128 /* KEYED_FRAGMENT */))])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_ctx","loading","_hoisted_2","_cache","_createElementVNode","_Fragment","key","_hoisted_3","_renderList","$data","eventi","evento","id","_hoisted_4","src","img","alt","_hoisted_6","_toDisplayString","nome"],"sources":["/Users/vladpostu/Desktop/easyticket/views/eventi/EventiView.vue"],"sourcesContent":["<template>\n  <div class=\"eventi-wrapper\">\n\n    <!-- LOADER -->\n    <div v-if=\"loading\" class=\"loader-container\">\n      <div class=\"spinner\"></div>\n    </div>\n\n    <!-- CONTENUTO -->\n    <div v-else class=\"eventi-content\">\n      <div class=\"evento-card\" v-for=\"evento in eventi\" :key=\"evento.id\">\n        <div class=\"img-wrapper\">\n          <img :src=\"evento.img\" alt=\"evento\" />\n        </div>\n\n        <div class=\"info\">\n          <h3>{{ evento.nome }}</h3>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<style>\n.eventi-wrapper {\n  position: relative;\n  min-height: 200px;\n}\n\n/* Loader centrato */\n.loader-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 250px;\n}\n\n.spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid #ccc;\n  border-top: 4px solid #3f51b5;\n  border-radius: 50%;\n  animation: spin 0.7s linear infinite;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Lista eventi */\n.eventi-content {\n  display: flex;\n  flex-direction: column;\n  gap: 18px;\n}\n\n/* Card evento */\n.evento-card {\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  overflow: hidden;\n  background: white;\n}\n\n/* Spazio fisso per evitare saltellamenti */\n.img-wrapper {\n  width: 100%;\n  height: 180px; /* regola a tuo piacere */\n  background: #f1f1f1;\n  position: relative;\n  overflow: hidden;\n}\n\n.img-wrapper img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: opacity 0.25s ease;\n  opacity: 0;\n}\n\n.img-wrapper img.loaded {\n  opacity: 1;\n}\n\n.info {\n  padding: 12px 16px;\n}\n</style>\n\n<script>\nimport { collection, getDocs, query, where } from 'firebase/firestore';\nimport { db } from '../../firebase/firebase';\nimport { invertiData } from '@/utils/dateUtils';\n\nexport default {\n    name: \"EventiView\",\n    data() {\n        return {\n            eventi: [],\n            loaded: false,\n        }\n    },\n    props: [\"organizzatoreId\"],\n    methods: {\n        invertiData,\n        async fetchEventi() {\n            if (!this.organizzatoreId) { // if there is not organizer uid\n                const eventiRef = collection(db, \"eventi\")\n                const snapshot = await getDocs(eventiRef)\n\n                this.eventi = snapshot.docs.map((evento) => ({\n                    id: evento.id,\n                    ...evento.data()\n                }))\n\n                this.loaded = true;\n            } else { // if there is organizer uidsÃŸ\n                const q = query(collection(db, \"eventi\"),\n                    where(\"idOrganizzatore\", \"==\", this.organizzatoreId)\n                )\n\n                const snapshot = await getDocs(q);\n\n                this.loaded = true;\n\n                this.eventi = snapshot.docs.map((evento) => ({\n                    id: evento.id,\n                    ...evento.data()\n                }))\n            }\n        },\n        getLinkView(evento) {\n            if (this.organizzatoreId) {\n                return { name: \"EventoOrganizzatore\", params: { eventoId: evento.id } }\n            } else {\n                return { name: \"EventoView\", params: { eventoId: evento.id } }\n            }\n        }\n    },\n    mounted() {\n        this.fetchEventi();\n        console.log(this.organizzatoreId)\n    }\n}\n</script>"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;;EAGLA,KAAK,EAAC;;;EAKdA,KAAK,EAAC;AAAgB;;EAEzBA,KAAK,EAAC;AAAa;;;EAInBA,KAAK,EAAC;AAAM;;uBAdvBC,mBAAA,CAoBM,OApBNC,UAoBM,GAlBJC,mBAAA,YAAe,EACJC,IAAA,CAAAC,OAAO,I,cAAlBJ,mBAAA,CAEM,OAFNK,UAEM,OAAAC,MAAA,QAAAA,MAAA,OADJC,mBAAA,CAA2B;IAAtBR,KAAK,EAAC;EAAS,0B,uBAItBC,mBAAA,CAUMQ,SAAA;IAAAC,GAAA;EAAA,IAXNP,mBAAA,eAAkB,EAClBK,mBAAA,CAUM,OAVNG,UAUM,I,kBATJV,mBAAA,CAQMQ,SAAA,QAAAG,WAAA,CARoCC,KAAA,CAAAC,MAAM,EAAhBC,MAAM;yBAAtCd,mBAAA,CAQM;MARDD,KAAK,EAAC,aAAa;MAA2BU,GAAG,EAAEK,MAAM,CAACC;QAC7DR,mBAAA,CAEM,OAFNS,UAEM,GADJT,mBAAA,CAAsC;MAAhCU,GAAG,EAAEH,MAAM,CAACI,GAAG;MAAEC,GAAG,EAAC;2CAG7BZ,mBAAA,CAEM,OAFNa,UAEM,GADJb,mBAAA,CAA0B,YAAAc,gBAAA,CAAnBP,MAAM,CAACQ,IAAI,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}