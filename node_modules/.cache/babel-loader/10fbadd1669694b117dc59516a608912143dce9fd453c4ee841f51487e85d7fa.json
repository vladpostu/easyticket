{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"form-login\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[3] || (_cache[3] = _createElementVNode(\"div\", null, \"Email\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    type: \"text\",\n    placeholder: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]]), _cache[4] || (_cache[4] = _createElementVNode(\"div\", null, \"Password\", -1 /* CACHED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    type: \"text\",\n    placeholder: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.addOrganizzatore && $options.addOrganizzatore(...args))\n  }, \"Crea Account\")]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","$data","email","$event","type","placeholder","password","onClick","_cache","args","$options","addOrganizzatore"],"sources":["/Users/vladpostu/Desktop/easyticket/views/area_riservata/OrganizzatoreRegistrati.vue"],"sourcesContent":["<template>\n    <div class=\"form-login\">\n        <div>Email</div>\n        <input v-model=\"email\" type=\"text\" placeholder=\"\">\n\n        <div>Password</div>\n        <input v-model=\"password\" type=\"text\" placeholder=\"\">\n        \n        <button @click=\"addOrganizzatore\">Crea Account</button>\n    </div>\n</template>\n\n<script>\nimport { collection, setDoc } from 'firebase/firestore';\nimport { db, auth } from '../../firebase/firebase';\nimport { createUserWithEmailAndPassword } from 'firebase/auth';\n\nexport default {\n    name: \"OrganizzatoreRegistrati\",\n    data() {\n        return {\n            email: \"\",\n            password: \"\",\n        }\n    },\n    methods: {\n        async addOrganizzatore() {\n            try {\n                const cred = await createUserWithEmailAndPassword(\n                    auth, this.email, this.password\n                )\n\n                await setDoc(collection(db, \"organizzatori\", cred.user.id), {\n                    email: this.email,\n                    password: this.password,\n                    createdAt: new Date(),\n                });\n\n\n                localStorage.setItem(\"organizzatoreId\", docRef.id);\n                localStorage.setItem(\"organizzatoreEmail\", this.email);\n\n                this.$router.push(\"/area-riservata/area-organizzatore\")\n            } catch(error) {\n                console.error(error);\n            }\n\n            this.email = \"\";\n            this.password = \"\";\n        }\n    }\n}\n</script>"],"mappings":";;EACSA,KAAK,EAAC;AAAY;;uBAAvBC,mBAAA,CAQM,OARNC,UAQM,G,0BAPFC,mBAAA,CAAgB,aAAX,OAAK,qB,gBACVA,mBAAA,CAAkD;+DAAlCC,KAAA,CAAAC,KAAK,GAAAC,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC;iDAA/BJ,KAAA,CAAAC,KAAK,E,6BAErBF,mBAAA,CAAmB,aAAd,UAAQ,qB,gBACbA,mBAAA,CAAqD;+DAArCC,KAAA,CAAAK,QAAQ,GAAAH,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACC,WAAW,EAAC;iDAAlCJ,KAAA,CAAAK,QAAQ,E,GAExBN,mBAAA,CAAuD;IAA9CO,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,IAAAF,IAAA,CAAgB;KAAE,cAAY,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}