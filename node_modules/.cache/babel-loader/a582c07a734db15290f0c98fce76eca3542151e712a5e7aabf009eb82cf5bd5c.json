{"ast":null,"code":"import { db } from '../../firebase/firebase';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\nexport default {\n  name: \"AreaConvalidatore\",\n  data() {\n    return {\n      isLogged: false,\n      evento: \"\",\n      //Evento inteso come aliasEvento su AddEvento\n      password: \"\"\n    };\n  },\n  mounted() {\n    if (localStorage.getItem(\"convalidatoreLogged\")) {\n      this.isLogged = true;\n    }\n  },\n  methods: {\n    async convalidatoreLogin() {\n      const q = query(collection(db, \"eventi\"), where(\"aliasEvento\", \"==\", this.evento), where(\"passwordConvalidatori\", \"==\", this.password));\n      const snapshot = await getDocs(q);\n      if (!snapshot.empty) {\n        localStorage.setItem(\"convalidatoreEvento\", this.evento);\n        localStorage.setItem(\"convalidatorePassword\", this.password);\n        this.isLogged = true;\n      } else {\n        alert(\"credenziali errate\");\n      }\n    }\n  }\n};","map":{"version":3,"names":["db","collection","query","where","getDocs","name","data","isLogged","evento","password","mounted","localStorage","getItem","methods","convalidatoreLogin","q","snapshot","empty","setItem","alert"],"sources":["/Users/vladpostu/Desktop/easyticket/views/area_riservata/AreaConvalidatore.vue"],"sourcesContent":["<template>\n    <div class=\"form\" v-if=\"!isLogged\">\n        {{ isLogged }}\n\n        <input v-model=\"evento\" type=\"text\" placeholder=\"Evento\">\n        <input v-model=\"password\" type=\"text\" placeholder=\"password\">\n        <button @click=\"convalidatoreLogin\">login</button>\n    </div>\n    <div v-if=\"isLogged\">\n        <button @click=\"apriFotocamera\">Convalida</button>\n        <video ref=\"video\" autoplay playsinline=\"\"></video>\n    </div>\n</template>\n\n<style>\n    .form {\n        display: flex;\n        flex-direction: column;\n        width: 300px;\n        align-items: center;\n        position: relative;\n        left: 50%;\n        transform: translateX(-50%);\n    }\n</style>\n\n<script>\nimport { db } from '../../firebase/firebase';\nimport { collection, query, where, getDocs } from 'firebase/firestore';\n\nexport default {\n    name: \"AreaConvalidatore\",\n    data() {\n        return {\n            isLogged:  false,\n            evento: \"\", //Evento inteso come aliasEvento su AddEvento\n            password: \"\", \n        }\n    },\n\n    mounted() {\n        if(localStorage.getItem(\"convalidatoreLogged\")) {\n            this.isLogged = true;\n        }\n    },\n    methods: {\n        async convalidatoreLogin() {\n            const q = query(\n                collection(db, \"eventi\"),\n                where(\"aliasEvento\", \"==\", this.evento),\n                where(\"passwordConvalidatori\", \"==\", this.password)\n            );\n\n            const snapshot = await getDocs(q);\n\n            if(!snapshot.empty) {\n                localStorage.setItem(\"convalidatoreEvento\", this.evento);\n                localStorage.setItem(\"convalidatorePassword\", this.password);\n                this.isLogged = true;\n            } else {\n                alert(\"credenziali errate\");\n            }\n        }\n    }\n}\n</script>"],"mappings":"AA2BA,SAASA,EAAC,QAAS,yBAAyB;AAC5C,SAASC,UAAU,EAAEC,KAAK,EAAEC,KAAK,EAAEC,OAAM,QAAS,oBAAoB;AAEtE,eAAe;EACXC,IAAI,EAAE,mBAAmB;EACzBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAG,KAAK;MAChBC,MAAM,EAAE,EAAE;MAAE;MACZC,QAAQ,EAAE;IACd;EACJ,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACN,IAAGC,YAAY,CAACC,OAAO,CAAC,qBAAqB,CAAC,EAAE;MAC5C,IAAI,CAACL,QAAO,GAAI,IAAI;IACxB;EACJ,CAAC;EACDM,OAAO,EAAE;IACL,MAAMC,kBAAkBA,CAAA,EAAG;MACvB,MAAMC,CAAA,GAAIb,KAAK,CACXD,UAAU,CAACD,EAAE,EAAE,QAAQ,CAAC,EACxBG,KAAK,CAAC,aAAa,EAAE,IAAI,EAAE,IAAI,CAACK,MAAM,CAAC,EACvCL,KAAK,CAAC,uBAAuB,EAAE,IAAI,EAAE,IAAI,CAACM,QAAQ,CACtD,CAAC;MAED,MAAMO,QAAO,GAAI,MAAMZ,OAAO,CAACW,CAAC,CAAC;MAEjC,IAAG,CAACC,QAAQ,CAACC,KAAK,EAAE;QAChBN,YAAY,CAACO,OAAO,CAAC,qBAAqB,EAAE,IAAI,CAACV,MAAM,CAAC;QACxDG,YAAY,CAACO,OAAO,CAAC,uBAAuB,EAAE,IAAI,CAACT,QAAQ,CAAC;QAC5D,IAAI,CAACF,QAAO,GAAI,IAAI;MACxB,OAAO;QACHY,KAAK,CAAC,oBAAoB,CAAC;MAC/B;IACJ;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}