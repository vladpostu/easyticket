{"ast":null,"code":"import { createRouter, createWebHashHistory } from 'vue-router';\nimport IndexView from '../views/IndexView.vue';\nimport HomePage from '../views/HomePage.vue';\nimport SecondPage from '../views/SecondPage.vue';\nimport AreaRiservata from '../views/AreaRiservata.vue';\nimport AreaOrganizzatore from '../views/area_riservata/AreaOrganizzatore.vue';\nimport EventiOrganizzatore from '../views/area_riservata/EventiOrganizzatore.vue';\nimport OrganizzatoreLogin from '../views/area_riservata/OrganizzatoreLogin.vue';\nimport OrganizzatoreRegistrati from '../views/area_riservata/OrganizzatoreRegistrati.vue';\nimport AggiungiEvento from '../views/area_riservata/AggiungiEvento.vue';\nimport AreaConvalidatore from '../views/area_riservata/AreaConvalidatore.vue';\nimport { getAuth } from 'firebase/auth';\nimport { onAuthStateChanged } from 'firebase/auth';\nconst routes = [{\n  path: '/',\n  name: \"IndexView\",\n  component: IndexView\n}, {\n  path: '/home',\n  name: \"HomeView\",\n  component: HomePage\n}, {\n  path: '/secondpage',\n  name: \"SecondPage\",\n  component: SecondPage\n}, {\n  path: '/evento/:eventoId',\n  name: \"EventoView\",\n  component: () => import('../views/EventoView.vue'),\n  props: true\n}, {\n  path: '/evento/:eventoId/:partecipanteId',\n  name: \"PartecipanteView\",\n  component: () => import('../views/PartecipanteView.vue'),\n  props: true\n}, {\n  path: '/area-riservata',\n  name: \"AreaRiservata\",\n  component: AreaRiservata\n}, {\n  path: \"/area-riservata/area-organizzatore\",\n  name: \"AreaOrganizzatore\",\n  component: AreaOrganizzatore,\n  meta: {\n    requiresAuth: true\n  }\n}, {\n  path: \"/area-riservata/area-organizzatore/eventi-organizzatore\",\n  name: \"EventiOrganizzatore\",\n  component: EventiOrganizzatore\n}, {\n  path: \"/area-riservata/organizzatore-login\",\n  name: \"OrganizzatoreLogin\",\n  component: OrganizzatoreLogin\n}, {\n  path: \"/area-riservata/organizzatore-registrati\",\n  name: \"OrganizzatoreRegistrati\",\n  component: OrganizzatoreRegistrati\n}, {\n  path: \"/area-riservata/area-organizzatore/aggiungi-evento\",\n  name: \"AggiungiEvento\",\n  component: AggiungiEvento\n}, {\n  path: \"/area-riservata/area-convalidatore\",\n  name: \"AreaConvalidatore\",\n  component: AreaConvalidatore\n}, {\n  path: \"/area-riservata/area-organizzatore/evento/:eventoId\",\n  name: \"EventoOrganizzatore\",\n  component: () => import(\"../views/area_riservata/EventoOrganizzatore.vue\"),\n  props: true\n}];\nconst router = createRouter({\n  history: createWebHashHistory('/easyticket/'),\n  routes\n});\nfunction getCurrentUser() {\n  return new Promise((resolve, reject) => {\n    const unsubscribe = onAuthStateChanged(getAuth(), user => {\n      unsubscribe();\n      resolve(user);\n    }, reject);\n  });\n}\nrouter.beforeEach(async (to, from, next) => {\n  //const auth = getAuth();\n  const user = await getCurrentUser();\n  if (to.path.startsWith(\"/area-riservata/area-organizzatore\") && !user) {\n    next(\"/area-riservata/organizzatore-login\");\n  } else if (to.path.startsWith(\"/area-riservata/organizzatore-login\") && user) {\n    next(\"/home\");\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHashHistory","IndexView","HomePage","SecondPage","AreaRiservata","AreaOrganizzatore","EventiOrganizzatore","OrganizzatoreLogin","OrganizzatoreRegistrati","AggiungiEvento","AreaConvalidatore","getAuth","onAuthStateChanged","routes","path","name","component","props","meta","requiresAuth","router","history","getCurrentUser","Promise","resolve","reject","unsubscribe","user","beforeEach","to","from","next","startsWith"],"sources":["/Users/vladpostu/Desktop/easyticket/router/index.js"],"sourcesContent":["import { createRouter, createWebHashHistory } from 'vue-router'\n\nimport IndexView from '../views/IndexView.vue'\nimport HomePage from '../views/HomePage.vue'\nimport SecondPage from '../views/SecondPage.vue'\nimport AreaRiservata from '../views/AreaRiservata.vue'\nimport AreaOrganizzatore from '../views/area_riservata/AreaOrganizzatore.vue'\nimport EventiOrganizzatore from '../views/area_riservata/EventiOrganizzatore.vue'\nimport OrganizzatoreLogin from '../views/area_riservata/OrganizzatoreLogin.vue'\nimport OrganizzatoreRegistrati from '../views/area_riservata/OrganizzatoreRegistrati.vue'\nimport AggiungiEvento from '../views/area_riservata/AggiungiEvento.vue'\nimport AreaConvalidatore from '../views/area_riservata/AreaConvalidatore.vue'\nimport { getAuth } from 'firebase/auth'\nimport { onAuthStateChanged } from 'firebase/auth'\n\nconst routes = [\n    {\n        path: '/',\n        name: \"IndexView\",\n        component: IndexView\n    },\n    {\n        path: '/home',\n        name: \"HomeView\",\n        component: HomePage\n    },\n    {\n        path: '/secondpage',\n        name: \"SecondPage\",\n        component: SecondPage\n    },\n    {\n        path: '/evento/:eventoId',\n        name: \"EventoView\",\n        component: () => import('../views/EventoView.vue'),\n        props: true\n    },\n    {\n        path: '/evento/:eventoId/:partecipanteId',\n        name: \"PartecipanteView\",\n        component: () => import('../views/PartecipanteView.vue'),\n        props: true\n    },\n    {\n        path: '/area-riservata',\n        name: \"AreaRiservata\",\n        component: AreaRiservata,\n    },\n    {\n        path: \"/area-riservata/area-organizzatore\",\n        name: \"AreaOrganizzatore\",\n        component: AreaOrganizzatore,\n        meta: { requiresAuth: true }\n    },\n    {\n        path: \"/area-riservata/area-organizzatore/eventi-organizzatore\",\n        name: \"EventiOrganizzatore\",\n        component: EventiOrganizzatore\n    },\n    {\n        path: \"/area-riservata/organizzatore-login\",\n        name: \"OrganizzatoreLogin\",\n        component: OrganizzatoreLogin\n    }, \n    {\n        path: \"/area-riservata/organizzatore-registrati\",\n        name: \"OrganizzatoreRegistrati\",\n        component: OrganizzatoreRegistrati\n    },\n    {\n        path: \"/area-riservata/area-organizzatore/aggiungi-evento\",\n        name: \"AggiungiEvento\",\n        component: AggiungiEvento\n    },\n    {\n        path: \"/area-riservata/area-convalidatore\",\n        name: \"AreaConvalidatore\",\n        component: AreaConvalidatore\n    },\n    {\n        path: \"/area-riservata/area-organizzatore/evento/:eventoId\",\n        name: \"EventoOrganizzatore\",\n        component: () => import(\"../views/area_riservata/EventoOrganizzatore.vue\"),\n        props: true\n    }\n]\n\nconst router = createRouter({\n    history: createWebHashHistory('/easyticket/'),\n    routes\n})\n\n\nfunction getCurrentUser() {\n  return new Promise((resolve, reject) => {\n    const unsubscribe = onAuthStateChanged(\n      getAuth(),\n      user => {\n        unsubscribe()\n        resolve(user)\n      },\n      reject\n    )\n  })\n}\n\nrouter.beforeEach(async (to, from, next) => {\n    //const auth = getAuth();\n    const user = await getCurrentUser()\n\n    if(to.path.startsWith(\"/area-riservata/area-organizzatore\") && !user) {\n        next(\"/area-riservata/organizzatore-login\")\n    } \n    else if(to.path.startsWith(\"/area-riservata/organizzatore-login\") && user) {\n        next(\"/home\")\n    } else {\n        next()\n    }\n})\n\nexport default router"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}