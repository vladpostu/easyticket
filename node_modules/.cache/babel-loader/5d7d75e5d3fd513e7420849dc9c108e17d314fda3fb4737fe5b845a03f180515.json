{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { collection, getDocs, query, where } from 'firebase/firestore';\nimport { db } from '../../firebase/firebase';\nimport { invertiData } from '@/utils/dateUtils';\nexport default {\n  name: \"EventiView\",\n  data() {\n    return {\n      eventi: [],\n      loaded: false\n    };\n  },\n  props: [\"organizzatoreId\"],\n  methods: {\n    invertiData,\n    async fetchEventi() {\n      if (!this.organizzatoreId) {\n        // if there is not organizer uid\n        const eventiRef = collection(db, \"eventi\");\n        const snapshot = await getDocs(eventiRef);\n        this.eventi = snapshot.docs.map(evento => ({\n          id: evento.id,\n          ...evento.data()\n        }));\n        this.loaded = true;\n      } else {\n        // if there is organizer uidsß\n        const q = query(collection(db, \"eventi\"), where(\"idOrganizzatore\", \"==\", this.organizzatoreId));\n        const snapshot = await getDocs(q);\n        this.loaded = true;\n        this.eventi = snapshot.docs.map(evento => ({\n          id: evento.id,\n          ...evento.data()\n        }));\n      }\n    },\n    getLinkView(evento) {\n      if (this.organizzatoreId) {\n        return {\n          name: \"EventoOrganizzatore\",\n          params: {\n            eventoId: evento.id\n          }\n        };\n      } else {\n        return {\n          name: \"EventoView\",\n          params: {\n            eventoId: evento.id\n          }\n        };\n      }\n    }\n  },\n  mounted() {\n    this.fetchEventi();\n    console.log(this.organizzatoreId);\n  }\n};","map":{"version":3,"names":["collection","getDocs","query","where","db","invertiData","name","data","eventi","loaded","props","methods","fetchEventi","organizzatoreId","eventiRef","snapshot","docs","map","evento","id","q","getLinkView","params","eventoId","mounted","console","log"],"sources":["/Users/vladpostu/Desktop/easyticket/views/eventi/EventiView.vue"],"sourcesContent":["<template>\n  <div v-if=\"loaded\" class=\"eventi\">\n    <router-link v-for=\"evento in eventi\" :key=\"evento.id\" :to=\"getLinkView(evento)\" class=\"card\">\n      <img :src=\"evento.imgCopertina\" class=\"card-img-top\" alt=\"\" />\n\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">{{ evento.nome_evento }}</h5>\n        <p class=\"left-days-to-book\">\n          \n        </p>\n        <p class=\"card-date\">{{ invertiData(evento.data) }}</p>\n\n        <p class=\"card-artists\">{{ evento.artists }}</p>\n\n        <p class=\"card-description\">\n          {{ evento.description }}\n        </p>\n      </div>\n    </router-link>\n  </div>\n\n  <div v-else class=\"loader-container\">\n    <div class=\"spinner\"></div>\n  </div>\n</template>\n\n<style>\n.eventi {\n  width: 90%;\n  max-width: 1200px;\n  margin: 50px auto;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 25px;\n  justify-content: center;\n}\n\n/* SPINNER */\n.loader-container {\n  width: 100%;\n  height: 60vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.spinner {\n  width: 55px;\n  height: 55px;\n  border: 5px solid #e3e8ef;\n  border-top-color: #1b3b69;\n  border-radius: 50%;\n  animation: spin 0.8s linear infinite;\n}\n\n@keyframes spin {\n  to {\n    transform: rotate(360deg);\n  }\n}\n\n/* CARD */\n.card {\n  display: flex;\n  flex-direction: column;\n  width: 280px;\n  background: #ffffff;\n  border-radius: 12px;\n  overflow: hidden;\n  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);\n  transition: all 0.25s ease;\n}\n\n.card:hover {\n  transform: translateY(-6px);\n  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);\n}\n\n.card img {\n  height: 180px;\n  width: 100%;\n  object-fit: cover;\n}\n\n/* CARD BODY */\n.card-body {\n  padding: 16px 18px;\n  text-align: left;\n}\n\n.card-title {\n  font-size: 1.25rem;\n  color: #0c2b4e;\n  font-weight: 700;\n  margin-bottom: 6px;\n}\n\n.card-date {\n  margin: 4px 0;\n  color: #1b3b69;\n  font-weight: 500;\n  font-size: 0.95rem;\n}\n\n/* ARTISTS */\n.card-artists {\n  margin: 6px 0;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #0c2b4e;\n  opacity: 0.85;\n}\n\n/* DESCRIPTION */\n.card-description {\n  margin-top: 10px;\n  font-size: 0.92rem;\n  line-height: 1.35rem;\n  color: #555;\n  opacity: 0.9;\n}\n\n/* LINK */\na {\n  text-decoration: none !important;\n  color: inherit;\n}\n</style>\n\n<script>\nimport { collection, getDocs, query, where } from 'firebase/firestore';\nimport { db } from '../../firebase/firebase';\nimport { invertiData } from '@/utils/dateUtils';\n\nexport default {\n  name: \"EventiView\",\n  data() {\n    return {\n      eventi: [],\n      loaded: false,\n    }\n  },\n  props: [\"organizzatoreId\"],\n  methods: {\n    invertiData,\n    async fetchEventi() {\n      if (!this.organizzatoreId) { // if there is not organizer uid\n        const eventiRef = collection(db, \"eventi\")\n        const snapshot = await getDocs(eventiRef)\n\n        this.eventi = snapshot.docs.map((evento) => ({\n          id: evento.id,\n          ...evento.data()\n        }))\n\n        this.loaded = true;\n      } else { // if there is organizer uidsß\n        const q = query(collection(db, \"eventi\"),\n          where(\"idOrganizzatore\", \"==\", this.organizzatoreId)\n        )\n\n        const snapshot = await getDocs(q);\n\n        this.loaded = true;\n\n        this.eventi = snapshot.docs.map((evento) => ({\n          id: evento.id,\n          ...evento.data()\n        }))\n      }\n    },\n    getLinkView(evento) {\n      if (this.organizzatoreId) {\n        return { name: \"EventoOrganizzatore\", params: { eventoId: evento.id } }\n      } else {\n        return { name: \"EventoView\", params: { eventoId: evento.id } }\n      }\n    }\n  },\n  mounted() {\n    this.fetchEventi();\n    console.log(this.organizzatoreId)\n  }\n}\n</script>"],"mappings":";;AAkIA,SAASA,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAEC,KAAI,QAAS,oBAAoB;AACtE,SAASC,EAAC,QAAS,yBAAyB;AAC5C,SAASC,WAAU,QAAS,mBAAmB;AAE/C,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,EAAE;MACVC,MAAM,EAAE;IACV;EACF,CAAC;EACDC,KAAK,EAAE,CAAC,iBAAiB,CAAC;EAC1BC,OAAO,EAAE;IACPN,WAAW;IACX,MAAMO,WAAWA,CAAA,EAAG;MAClB,IAAI,CAAC,IAAI,CAACC,eAAe,EAAE;QAAE;QAC3B,MAAMC,SAAQ,GAAId,UAAU,CAACI,EAAE,EAAE,QAAQ;QACzC,MAAMW,QAAO,GAAI,MAAMd,OAAO,CAACa,SAAS;QAExC,IAAI,CAACN,MAAK,GAAIO,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAEC,MAAM,KAAM;UAC3CC,EAAE,EAAED,MAAM,CAACC,EAAE;UACb,GAAGD,MAAM,CAACX,IAAI,CAAC;QACjB,CAAC,CAAC;QAEF,IAAI,CAACE,MAAK,GAAI,IAAI;MACpB,OAAO;QAAE;QACP,MAAMW,CAAA,GAAIlB,KAAK,CAACF,UAAU,CAACI,EAAE,EAAE,QAAQ,CAAC,EACtCD,KAAK,CAAC,iBAAiB,EAAE,IAAI,EAAE,IAAI,CAACU,eAAe,CACrD;QAEA,MAAME,QAAO,GAAI,MAAMd,OAAO,CAACmB,CAAC,CAAC;QAEjC,IAAI,CAACX,MAAK,GAAI,IAAI;QAElB,IAAI,CAACD,MAAK,GAAIO,QAAQ,CAACC,IAAI,CAACC,GAAG,CAAEC,MAAM,KAAM;UAC3CC,EAAE,EAAED,MAAM,CAACC,EAAE;UACb,GAAGD,MAAM,CAACX,IAAI,CAAC;QACjB,CAAC,CAAC;MACJ;IACF,CAAC;IACDc,WAAWA,CAACH,MAAM,EAAE;MAClB,IAAI,IAAI,CAACL,eAAe,EAAE;QACxB,OAAO;UAAEP,IAAI,EAAE,qBAAqB;UAAEgB,MAAM,EAAE;YAAEC,QAAQ,EAAEL,MAAM,CAACC;UAAG;QAAE;MACxE,OAAO;QACL,OAAO;UAAEb,IAAI,EAAE,YAAY;UAAEgB,MAAM,EAAE;YAAEC,QAAQ,EAAEL,MAAM,CAACC;UAAG;QAAE;MAC/D;IACF;EACF,CAAC;EACDK,OAAOA,CAAA,EAAG;IACR,IAAI,CAACZ,WAAW,CAAC,CAAC;IAClBa,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,eAAe;EAClC;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}