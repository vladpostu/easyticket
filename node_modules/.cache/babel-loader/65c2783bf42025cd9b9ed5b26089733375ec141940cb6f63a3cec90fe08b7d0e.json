{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getDoc, doc, setDoc } from 'firebase/firestore';\nimport { db } from '../firebase/firebase';\nexport default {\n  name: \"EventoView\",\n  props: ['eventoId'],\n  data() {\n    return {\n      evento: null,\n      nome: \"\",\n      cognome: \"\",\n      data_di_nascita: \"\"\n    };\n  },\n  async mounted() {\n    const docRef = doc(db, 'eventi', this.id);\n    const docSnap = await getDoc(docRef);\n    if (docSnap.exists()) {\n      this.evento = docSnap.data();\n    }\n  },\n  methods: {\n    async aggiungiPartecipante() {\n      const partecipanteRef = doc(db, \"eventi\", this.id, \"partecipanti\", this.nome + \"_\" + this.cognome);\n      const partecipanteId = this.nome + \"_\" + this.cognome;\n      await setDoc(partecipanteRef, {\n        nome: this.nome,\n        cognome: this.cognome,\n        data_di_nascita: this.data_di_nascita\n      });\n      this.nome = \"\";\n      this.cognome = \"\";\n      this.data_di_nascita = \"\";\n      this.$router.push({\n        name: \"PartecipanteView\",\n        params: {\n          eventoId: this.id,\n          partecipanteId: partecipanteId\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["getDoc","doc","setDoc","db","name","props","data","evento","nome","cognome","data_di_nascita","mounted","docRef","id","docSnap","exists","methods","aggiungiPartecipante","partecipanteRef","partecipanteId","$router","push","params","eventoId"],"sources":["/Users/vladpostu/Desktop/easyticket/views/EventoView.vue"],"sourcesContent":["<template>\n    <h1>evento</h1>\n    <div v-if=\"evento\">\n        {{  evento.nome_evento }}\n        {{  evento.data }}\n    </div>\n    <div class=\"partecipante_form\">\n        <input v-model=\"nome\" type=\"text\" placeholder=\"nome\">\n        <input v-model=\"cognome\" type=\"text\" placeholder=\"cognome\">\n        <input v-model=\"data_di_nascita\" type=\"text\" placeholder=\"data di nascita\">\n    </div>\n     <button @click=\"aggiungiPartecipante\">Partecipa</button>\n</template>\n\n<style scoped> \n    .partecipante_form {\n        margin-top: 100px;\n        display: flex;\n        flex-direction: column;\n        width: 400px;\n        position: relative;\n        left: 50%;\n        transform: translateX(-50%);\n    }\n\n    .partecipante_form > input {\n        margin-top: 10px;\n    }\n\n    button {\n        margin-top: 20px;\n    }\n\n</style>\n\n<script>\nimport {getDoc, doc, setDoc } from 'firebase/firestore'\nimport { db } from '../firebase/firebase'\n\nexport default {\n    name: \"EventoView\",\n    props: ['eventoId'],\n    data() {\n        return {\n            evento: null,\n            nome: \"\",\n            cognome: \"\",\n            data_di_nascita: \"\"\n        }\n    },\n    async mounted() {\n        const docRef = doc(db, 'eventi', this.id)\n        const docSnap = await getDoc(docRef)\n\n        if(docSnap.exists()) {\n            this.evento = docSnap.data()\n        } \n    },\n    methods: {\n        async aggiungiPartecipante() {\n            const partecipanteRef = doc(db, \"eventi\", this.id, \"partecipanti\", this.nome + \"_\" + this.cognome)\n            const partecipanteId = this.nome + \"_\" + this.cognome \n\n            await setDoc(partecipanteRef, {\n                nome: this.nome,\n                cognome: this.cognome,\n                data_di_nascita: this.data_di_nascita\n            });\n\n            this.nome = \"\";\n            this.cognome = \"\";\n            this.data_di_nascita = \"\";\n\n            this.$router.push({\n                name: \"PartecipanteView\",\n                params: {\n                    eventoId: this.id,\n                    partecipanteId: partecipanteId,\n                }\n            })\n        }\n    }\n}\n</script>"],"mappings":";AAoCA,SAAQA,MAAM,EAAEC,GAAG,EAAEC,MAAK,QAAS,oBAAmB;AACtD,SAASC,EAAC,QAAS,sBAAqB;AAExC,eAAe;EACXC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE,CAAC,UAAU,CAAC;EACnBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,MAAM,EAAE,IAAI;MACZC,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE,EAAE;MACXC,eAAe,EAAE;IACrB;EACJ,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACZ,MAAMC,MAAK,GAAIX,GAAG,CAACE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAACU,EAAE;IACxC,MAAMC,OAAM,GAAI,MAAMd,MAAM,CAACY,MAAM;IAEnC,IAAGE,OAAO,CAACC,MAAM,CAAC,CAAC,EAAE;MACjB,IAAI,CAACR,MAAK,GAAIO,OAAO,CAACR,IAAI,CAAC;IAC/B;EACJ,CAAC;EACDU,OAAO,EAAE;IACL,MAAMC,oBAAoBA,CAAA,EAAG;MACzB,MAAMC,eAAc,GAAIjB,GAAG,CAACE,EAAE,EAAE,QAAQ,EAAE,IAAI,CAACU,EAAE,EAAE,cAAc,EAAE,IAAI,CAACL,IAAG,GAAI,GAAE,GAAI,IAAI,CAACC,OAAO;MACjG,MAAMU,cAAa,GAAI,IAAI,CAACX,IAAG,GAAI,GAAE,GAAI,IAAI,CAACC,OAAM;MAEpD,MAAMP,MAAM,CAACgB,eAAe,EAAE;QAC1BV,IAAI,EAAE,IAAI,CAACA,IAAI;QACfC,OAAO,EAAE,IAAI,CAACA,OAAO;QACrBC,eAAe,EAAE,IAAI,CAACA;MAC1B,CAAC,CAAC;MAEF,IAAI,CAACF,IAAG,GAAI,EAAE;MACd,IAAI,CAACC,OAAM,GAAI,EAAE;MACjB,IAAI,CAACC,eAAc,GAAI,EAAE;MAEzB,IAAI,CAACU,OAAO,CAACC,IAAI,CAAC;QACdjB,IAAI,EAAE,kBAAkB;QACxBkB,MAAM,EAAE;UACJC,QAAQ,EAAE,IAAI,CAACV,EAAE;UACjBM,cAAc,EAAEA;QACpB;MACJ,CAAC;IACL;EACJ;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}